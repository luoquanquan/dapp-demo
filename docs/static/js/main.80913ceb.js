/*! For license information please see main.80913ceb.js.LICENSE.txt */
(()=>{var e={70187:(e,t,n)=>{"use strict";n.d(t,{A:()=>Nn});var f=n(13960),r=n(93525),i=n(61433),a=n(92423),o=n(42340),s=n(55439),c=n(51233),d=n(63977),l=n.n(d),u=n(30385),b=n.n(u);const h=(0,f.createContext)({});var p=n(64399);const g="0x1E0049783F008A0085193E00003D00cd54003c71",y="0xfe8dc6394501a35ad1c4833f40f382e55dada4f3",m=function(){return{1:"0x458c761053bc46bc044bd7c9c68e58c5d44da45f",137:"0xd422e603cad822de9ff2ec61a8491164f748585a",66:"0xd422e603cad822de9ff2ec61a8491164f748585a"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:1]},v=function(){return{1:"0x300b6acb1851acd39104b99bbe540e02ed6eeec1",137:"0xeb0647bfd3def182e7cbc5bc266cc81ceb83862d"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:1]},x=function(){return{1:"0x411be70a215df02311d62f9a8cd201b38ae4effd",137:"0xde05fdad44c27365e4fbb91978dd778b4abd0575"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:1]};var w=n(98036),_=n(54342);const C=["1","137","11155111","314"],O={1:["0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","0x6b175474e89094c44da98b954eedeac495271d0f","0xdac17f958d2ee523a2206206994597c13d831ec7","0x1f9840a85d5af5bf1d1762f925bdaddc4201f984","0x95ad61b0a150d79219dcf64e1e6cc01f0b64c4ce","0x75231f58b43240c9718dd58b4967c5114342a86c"],137:["0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x3c499c542cef5e3811e1192ce70d8cc03d5c3359","0xac51c4c48dc3116487ed4bc16542e27b5694da1b","0x0000000000000000000000000000000000001010","0x53e0bca35ec356bd5dddfebbd1fc0fd03fabad39","0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6","0x2c89bbc92bd86f8075d1decc58c7f4e0107f286b"],11155111:["0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x3c499c542cef5e3811e1192ce70d8cc03d5c3359","0xac51c4c48dc3116487ed4bc16542e27b5694da1b","0x0000000000000000000000000000000000001010","0x53e0bca35ec356bd5dddfebbd1fc0fd03fabad39","0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6","0x2c89bbc92bd86f8075d1decc58c7f4e0107f286b"],314:["0x7b90337f65faa2b2b8ed583ba1ba6eb0c9d7ea44","0x8460766edc62b525fc1fa4d628fc79229dc73031","0xba5cd7ef1414c33e3a250fb89ad7c8f49844762d","0x005e02a4a934142d8dd476f192d0dd9c381b16b4","0xaaef78eaf86dcf34f275288752e892424dda9341","0x44f0f7c774c42dba388fff55c8057a71d5952044","0x8ed1137f81bf8108731735902c9428511347de16","0x4f180e118e8b20eeb87899ce6a497d05dc8319b6","0x422849b355039bc58f2780cc4854919fc9cfaf94"]};const E=function(e){let{chainId:t}=e;const n=m(t),r=x(t),{account:i,provider:o}=(0,f.useContext)(h),[d,b]=(0,f.useState)(!1),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45";return async()=>{try{b(!0);const n={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},domain:{name:"USD Coin",version:"2",verifyingContract:(0,u.sample)(O[t]),chainId:t},primaryType:"Permit",message:{owner:(0,u.sample)(O[t]),spender:e,value:"25000000",nonce:5,deadline:`${l()().add(2,"day").unix()}`}},f=await o.request({method:"eth_signTypedData_v4",params:[i,JSON.stringify(n)]});_.log(f),(0,p.t)()}catch(n){_.log(n),(0,p.i)()}finally{b(!1)}}},[v,E]=(0,f.useState)(!1),S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0xef1c6e67703c7bd7107eed8303fbe6ec2554bf6b";return async()=>{try{E(!0);const n={types:{PermitSingle:[{name:"details",type:"PermitDetails"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"}],PermitDetails:[{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"}],EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}]},domain:{name:"Permit2",chainId:t,verifyingContract:(0,u.sample)(O[t])},primaryType:"PermitSingle",message:{details:{token:(0,u.sample)(O[t]),amount:"1461501637330902918203684832716283019655932542975",expiration:`${l()().add(2,"day").unix()}`,nonce:"0"},spender:e,sigDeadline:`${l()().add(3,"day").unix()}`}},f=await o.request({method:"eth_signTypedData_v4",params:[i,JSON.stringify(n)]});_.log(f),(0,p.t)()}catch(n){_.log(n),(0,p.i)()}finally{E(!1)}}},[T,N]=(0,f.useState)(!1),k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0xef1c6e67703c7bd7107eed8303fbe6ec2554bf6b";return async()=>{try{N(!0);const n={types:{PermitBatch:[{name:"details",type:"PermitDetails[]"},{name:"spender",type:"address"},{name:"sigDeadline",type:"uint256"}],PermitDetails:[{name:"token",type:"address"},{name:"amount",type:"uint160"},{name:"expiration",type:"uint48"},{name:"nonce",type:"uint48"}],EIP712Domain:[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}]},domain:{name:"Permit2",chainId:t,verifyingContract:(0,u.sample)(O[t])},primaryType:"PermitBatch",message:{details:[{token:(0,u.sample)(O[t]),amount:"1461501637330902918203684832716283019655932542975",expiration:`${l()().add(2,"day").unix()}`,nonce:"0"},{token:(0,u.sample)(O[t]),amount:"1461501637330902918203684832716283019655932542975",expiration:`${l()().add(2,"day").unix()}`,nonce:"0"},{token:(0,u.sample)(O[t]),amount:"1461501637330902918203684832716283019655932542975",expiration:`${l()().add(2,"day").unix()}`,nonce:"0"},{token:(0,u.sample)(O[t]),amount:"1461501637330902918203684832716283019655932542975",expiration:`${l()().add(2,"day").unix()}`,nonce:"0"}],spender:e,sigDeadline:`${l()().add(2,"day").unix()}`}},f=await o.request({method:"eth_signTypedData_v4",params:[i,JSON.stringify(n)]});_.log(f),(0,p.t)()}catch(n){_.log(n),(0,p.i)()}finally{N(!1)}}};return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"Permit & Permit2 & Permit2 Batch",children:C.includes(`${t}`)?(0,w.jsxs)(s.A,{gutter:8,children:[(0,w.jsxs)(c.A,{xs:24,lg:8,children:[(0,w.jsx)(a.$n,{block:!0,disabled:!i,onClick:g(),loading:d,style:{marginBottom:8},children:"Permit"}),!!n&&(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!i,onClick:g(n),loading:d,style:{marginBottom:8},children:"Black"}),!!r&&(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!i,onClick:g(r),loading:d,style:{marginBottom:8},children:"StrongBlack"}),(0,w.jsx)(a.$n,{block:!0,disabled:!i,onClick:g(y),loading:d,style:{marginBottom:8},children:"EOA"})]}),(0,w.jsxs)(c.A,{xs:24,lg:8,children:[(0,w.jsx)(a.$n,{block:!0,disabled:!i,onClick:S(),loading:v,style:{marginBottom:8},children:"Permit2"}),!!n&&(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!i,onClick:S(n),loading:v,style:{marginBottom:8},children:"Black"}),!!r&&(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!i,onClick:g(r),loading:v,style:{marginBottom:8},children:"StrongBlack"}),(0,w.jsx)(a.$n,{block:!0,disabled:!i,loading:v,onClick:S(y),style:{marginBottom:8},children:"EOA"})]}),(0,w.jsxs)(c.A,{xs:24,lg:8,children:[(0,w.jsx)(a.$n,{block:!0,disabled:!i,onClick:k(),loading:T,style:{marginBottom:8},children:"Permit2 Batch"}),!!n&&(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!i,onClick:k(n),loading:T,style:{marginBottom:8},children:"Black"}),!!r&&(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!i,onClick:g(r),loading:T,style:{marginBottom:8},children:"StrongBlack"}),(0,w.jsx)(a.$n,{block:!0,disabled:!i,onClick:k(y),loading:T,style:{marginBottom:8},children:"EOA"})]})]}):(0,w.jsx)(a.$n,{block:!0,disabled:!i,onClick:()=>{o.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x1"}]})},children:"\u6682\u4e0d\u652f\u6301\u8be5\u7f51\u7edc - \u5207\u6362\u5230 eth \u4e3b\u7f51"})})})};var S=n(54843),T=n(54342);const N=function(){const{account:e,chainId:t,provider:n}=(0,f.useContext)(h),[r,i]=(0,f.useState)(!1),o=function(){let{verifyingContract:f="0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC",fakeMsg:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async()=>{const a={domain:{chainId:t.toString(),name:"Ether Mail",verifyingContract:f,version:"1"},message:r?{"\u2062target\uff02:\uff02THIS IS THE FAKE TARGET\uff02,\uff02message":"THIS IS THE FAKE MESSAGE\uff02\u2062}\u2062 }\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\u2062xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}:{contents:"Hello, Bob!",from:{name:"Cow",wallets:["0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826","0xDeaDbeefdEAdbeefdEadbEEFdeadbeEFdEaDbeeF"]},to:[{name:"Bob",wallets:["0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826","0xDeaDbeefdEAdbeefdEadbEEFdeadbeEFdEaDbeeF"]}]},primaryType:"Mail",types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Group:[{name:"name",type:"string"},{name:"members",type:"Person[]"}],Mail:[{name:"from",type:"Person"},{name:"to",type:"Person[]"},{name:"contents",type:"string"}],Person:[{name:"name",type:"string"},{name:"wallets",type:"address[]"}]}};try{i(!0);const t=await n.request({method:"eth_signTypedData_v4",params:[e,JSON.stringify(a)]});T.log(t),(0,p.t)()}catch(o){T.log(o),(0,p.i)()}finally{i(!1)}}};return(0,w.jsx)(c.A,{xs:24,lg:6,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"Sign Typed Data V4",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,disabled:!e,onClick:o(),loading:r,children:"eth_signTypedData_v4"}),(0,w.jsx)(a.$n,{block:!0,disabled:!e,onClick:o({verifyingContract:"34567890ihdauhfljadfja"}),loading:r,children:"eip712NotStandard"}),(0,w.jsx)(a.$n,{block:!0,disabled:!e,onClick:o({fakeMsg:!0}),loading:r,children:"longSignText"}),(0,w.jsx)(S.A,{content:"eip712NotStandard & longSignText",children:(0,w.jsx)(a.$n,{block:!0,disabled:!e,onClick:o({verifyingContract:"34567890ihdauhfljadfja",fakeMsg:!0}),loading:r,children:"both"})}),(0,w.jsx)(a.$n,{block:!0,disabled:!e,onClick:async()=>{const f={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],OrderComponents:[{name:"offerer",type:"address"},{name:"zone",type:"address"},{name:"offer",type:"OfferItem[]"},{name:"consideration",type:"ConsiderationItem[]"},{name:"orderType",type:"uint8"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"zoneHash",type:"bytes32"},{name:"salt",type:"uint256"},{name:"conduitKey",type:"bytes32"},{name:"counter",type:"uint256"}],OfferItem:[{name:"itemType",type:"uint8"},{name:"token",type:"address"},{name:"identifierOrCriteria",type:"uint256"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"}],ConsiderationItem:[{name:"itemType",type:"uint8"},{name:"token",type:"address"},{name:"identifierOrCriteria",type:"uint256"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"},{name:"recipient",type:"address"}]},primaryType:"OrderComponents",domain:{name:"Seaport",version:"1.1",chainId:t.toString(10),verifyingContract:"0x00000000006c3852cbEf3e08E8dF289169EdE581"},message:{offerer:"0x6c8ee01f1f8b62e987b3d18f6f28b22a0ada755f",offer:[{itemType:"2",token:"0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D",identifierOrCriteria:"5547",startAmount:"1",endAmount:"1"},{itemType:"2",token:"0x5Af0D9827E0c53E4799BB226655A1de152A425a5",identifierOrCriteria:"5547",startAmount:"1",endAmount:"1"}],consideration:[{itemType:"0",token:"0x0000000000000000000000000000000000000000",identifierOrCriteria:"0",startAmount:"1",endAmount:"1",recipient:"0x6c8ee01f1f8b62e987b3d18f6f28b22a0ada755f"},{itemType:"0",token:"0x0000000000000000000000000000000000000000",identifierOrCriteria:"0",startAmount:"2475000000000000000",endAmount:"2475000000000000000",recipient:"0x0000a26b00c1F0DF003000390027140000fAa719"},{itemType:"0",token:"0x0000000000000000000000000000000000000000",identifierOrCriteria:"0",startAmount:"2475000000000000000",endAmount:"2475000000000000000",recipient:"0xA858DDc0445d8131daC4d1DE01f834ffcbA52Ef1"}],startTime:"1664436437",endTime:"1667028437",orderType:"2",zone:"0x004C00500000aD104D7DBd00e3ae0A5C00560C00",zoneHash:"0x0000000000000000000000000000000000000000000000000000000000000000",salt:"24446860302761739304752683030156737591518664810215442929818054330004503495628",conduitKey:"0x0000007b02230091a7ed01230072f7006a004d60a8d4e71d599b8104250f0000",totalOriginalConsiderationItems:"3",counter:"53"}};try{i(!0);const t=await n.request({method:"eth_signTypedData_v4",params:[e,JSON.stringify(f)]});T.log(t),(0,p.t)()}catch(r){T.log(r),(0,p.i)()}finally{i(!1)}},loading:r,children:"0 \u5143\u8d2d"})]})})})};var k=n(54342);const R=function(){const{account:e,chainId:t,provider:n}=(0,f.useContext)(h),[r,i]=(0,f.useState)(!1),[o,d]=(0,f.useState)(!1),l=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Example `personal_sign` message";return async()=>{try{d(!0);const f=await n.request({method:"personal_sign",params:[t,e,"Example password"]});k.log(f),(0,p.t)()}catch(f){k.log(f),(0,p.i)()}finally{d(!1)}}},[u,b]=(0,f.useState)(!1),g=[{type:"string",name:"Name",value:"Luo Quan Quan"},{type:"uint32",name:"age",value:"18"},{type:"string",name:"Hobby",value:"sing dance rap basketball"}],[y,m]=(0,f.useState)(!1);return(0,w.jsx)(a.Zp,{title:"signMessage",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsxs)(s.A,{gutter:16,children:[(0,w.jsx)(c.A,{xs:24,lg:8,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"Eth Sign",children:(0,w.jsx)(a.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(a.$n,{loading:r,disabled:!e,block:!0,onClick:async()=>{try{i(!0);const t="0x879a053d4800c6354e76c7985a865d2922c82fb5b3f4577b2fe08b998954f2e0",f=await n.request({method:"eth_sign",params:[e,t]});k.log(f),(0,p.t)()}catch(t){k.log(t),(0,p.i)()}finally{i(!1)}},children:"eth_sign"})})})}),(0,w.jsx)(c.A,{xs:24,lg:8,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"Personal Sign",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,disabled:!e,onClick:l(),loading:o,children:"personal_sign"}),(0,w.jsx)(a.$n,{block:!0,disabled:!e,onClick:l("0x010000000f1088000000000055f7428300000001fe0065d1d2ad2105ff003cff5c3c80db8b05601f46c35b79f5c6ff3ef6f703fc"),loading:o,children:"personal_sign_with_Garbled"}),(0,w.jsx)(a.$n,{block:!0,disabled:!e,onClick:l("\u6211\u53eb\u7f57\u5708\u5708"),loading:o,children:"personal_sign_with_Chinese_char"})]})})}),(0,w.jsx)(c.A,{xs:24,lg:8,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"Sign Typed Data",children:(0,w.jsx)(a.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(a.$n,{block:!0,disabled:!e,loading:u,onClick:async()=>{try{b(!0);const t=await n.request({method:"eth_signTypedData",params:[g,e]});k.log(t),(0,p.t)()}catch(t){k.log(t),(0,p.i)()}finally{b(!1)}},children:"eth_signTypedData_v1"})})})})]}),(0,w.jsxs)(s.A,{gutter:8,children:[(0,w.jsx)(c.A,{xs:24,lg:6,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"Sign Typed Data V3",children:(0,w.jsx)(a.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(a.$n,{block:!0,disabled:!e,onClick:async()=>{const f={types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Person:[{name:"name",type:"string"},{name:"wallet",type:"address"}],Mail:[{name:"from",type:"Person"},{name:"to",type:"Person"},{name:"contents",type:"string"}]},primaryType:"Mail",domain:{name:"Ether Mail",version:"1",chainId:t,verifyingContract:"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"},message:{from:{name:"Cow",test:"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826"},to:{name:"Bob",wallet:"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB"},contents:"Hello, Bob!"}};try{m(!1);const t=await n.request({method:"eth_signTypedData_v3",params:[e,JSON.stringify(f)]});k.log(t),(0,p.t)()}catch(r){k.log(r),(0,p.i)()}finally{m(!1)}},loading:y,children:"eth_signTypedData_v3"})})})}),(0,w.jsx)(N,{account:e}),(0,w.jsx)(E,{chainId:t})]})]})})};function A(){const{chainId:e}=(0,f.useContext)(h);return(0,w.jsxs)(a.Zp,{title:"Network",children:["ChainId:",e]})}var P=n(52297);function D(e){let{loading:t,handleConnect:n,account:f,children:r,handleDisConnect:i=()=>P.Ay.error("not supported ~")}=e;return(0,w.jsx)(a.Zp,{title:"Connect status",children:(0,w.jsxs)(a.$x,{wrap:!0,children:[(0,w.jsx)(a.$n,{color:"primary",loading:t,disabled:!!f,onClick:n,children:"Connect Wallet"}),r,(0,w.jsx)(a.$n,{color:"danger",loading:t,disabled:!f,onClick:i,children:"Disconnect"})]})})}var I=n(54342);const j={4e3:"\u540c\u4e00\u4e2a DApp \u5df2\u7ecf\u53d1\u8d77\u4e86\u8fde\u63a5\u7f51\u7ad9\u8bf7\u6c42",4001:"\u7528\u6237\u62d2\u7edd\u8fde\u63a5"};function K(e){let{account:t,children:n}=e;return(0,w.jsx)(a.Zp,{title:"Current connected account",children:(0,w.jsxs)(a.$x,{direction:"vertical",children:[t||"--",n]})})}var U=n(14141),M=n(84478),B=n(16868);const L=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"numberOfTokens",type:"uint256"}],name:"mintNFTs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],$=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newuri",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenid",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],H=[{chain:"Polygon",chainId:"0x89",address:"0xbfc5224DF96f01ad37D874E5a477aAFb92a5E970"}];const W=function(){const{account:e,provider:t,chainId:n}=(0,f.useContext)(h),r=m(n),i=x(n),[o,d]=(0,f.useState)({}),[l,u]=(0,f.useState)(!1),b=(0,f.useRef)();(0,f.useEffect)((()=>{(async()=>{const n=new URLSearchParams(window.location.search).get("nftAddress");if(e&&n){var f;null===(f=b.current)||void 0===f||f.scrollIntoView({behavior:"smooth"});const e=H.find((e=>{let{address:t}=e;return t===n}));e&&await t.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]});const r=new U.NZ(n,L,new M.j(t,"any").getSigner());d(r)}})()}),[e,t]);const[p,v]=(0,f.useState)(!1),[_,C]=(0,f.useState)("1"),[O,E]=(0,f.useState)(!1),[S,T]=(0,f.useState)("3"),N=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return async()=>{try{E(!0);const n=await o.approve(t,S,{from:e});await n.wait(),P.Ay.success("\u6388\u6743\u6210\u529f")}catch(n){P.Ay.error("\u6388\u6743\u5931\u8d25")}finally{E(!1)}}},[k,R]=(0,f.useState)(!1),A=function(){let{spender:e=g,isApprove:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async()=>{try{R(!0);const n=await o.setApprovalForAll(e,t);await n.wait(),P.Ay.success("\u6388\u6743\u6210\u529f")}catch(n){P.Ay.error("\u6388\u6743\u5931\u8d25")}finally{R(!1)}}},[D,I]=(0,f.useState)("3"),[j,K]=(0,f.useState)(!1),[$,W]=(0,f.useState)(!1),X=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return async()=>{try{W(!0);const n=await o.transferFrom(e,t,D||"1",{from:e});await n.wait(),P.Ay.success("\u8f6c\u79fb\u6210\u529f")}catch(n){P.Ay.error("\u8f6c\u79fb\u5931\u8d25")}finally{W(!1)}}},F=o.address&&e;return(0,w.jsx)("div",{ref:b,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"ERC721",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(B.A,{type:"info",message:"\u5408\u96c6\u5730\u5740",description:o.address}),(0,w.jsx)(a.$n,{block:!0,loading:l,onClick:async()=>{try{u(!0);const e=new U.PM(L,"0x60806040523480156200001157600080fd5b506040518060400160405280600c81526020017f54657374446170704e46547300000000000000000000000000000000000000008152506040518060400160405280600381526020017f54444e000000000000000000000000000000000000000000000000000000000081525081600090816200008f919062000324565b508060019081620000a1919062000324565b5050506200040b565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806200012c57607f821691505b602082108103620001425762000141620000e4565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302620001ac7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826200016d565b620001b886836200016d565b95508019841693508086168417925050509392505050565b6000819050919050565b6000819050919050565b600062000205620001ff620001f984620001d0565b620001da565b620001d0565b9050919050565b6000819050919050565b6200022183620001e4565b6200023962000230826200020c565b8484546200017a565b825550505050565b600090565b6200025062000241565b6200025d81848462000216565b505050565b5b8181101562000285576200027960008262000246565b60018101905062000263565b5050565b601f821115620002d4576200029e8162000148565b620002a9846200015d565b81016020851015620002b9578190505b620002d1620002c8856200015d565b83018262000262565b50505b505050565b600082821c905092915050565b6000620002f960001984600802620002d9565b1980831691505092915050565b6000620003148383620002e6565b9150826002028217905092915050565b6200032f82620000aa565b67ffffffffffffffff8111156200034b576200034a620000b5565b5b62000357825462000113565b6200036482828562000289565b600060209050601f8311600181146200039c576000841562000387578287015190505b62000393858262000306565b86555062000403565b601f198416620003ac8662000148565b60005b82811015620003d657848901518255600182019150602085019450602081019050620003af565b86831015620003f65784890151620003f2601f891682620002e6565b8355505b6001600288020188555050505b505050505050565b612be6806200041b6000396000f3fe608060405234801561001057600080fd5b50600436106100f45760003560e01c806342842e0e11610097578063a22cb46511610066578063a22cb46514610283578063b88d4fde1461029f578063c87b56dd146102bb578063e985e9c5146102eb576100f4565b806342842e0e146101e95780636352211e1461020557806370a082311461023557806395d89b4114610265576100f4565b8063081812fc116100d3578063081812fc14610165578063095ea7b31461019557806323b872dd146101b15780633b4b1381146101cd576100f4565b80629a9b7b146100f957806301ffc9a71461011757806306fdde0314610147575b600080fd5b61010161031b565b60405161010e91906119ac565b60405180910390f35b610131600480360381019061012c9190611a33565b61032c565b60405161013e9190611a7b565b60405180910390f35b61014f61040e565b60405161015c9190611b26565b60405180910390f35b61017f600480360381019061017a9190611b74565b6104a0565b60405161018c9190611be2565b60405180910390f35b6101af60048036038101906101aa9190611c29565b6104e6565b005b6101cb60048036038101906101c69190611c69565b6105fd565b005b6101e760048036038101906101e29190611b74565b61065d565b005b61020360048036038101906101fe9190611c69565b6106ac565b005b61021f600480360381019061021a9190611b74565b6106cc565b60405161022c9190611be2565b60405180910390f35b61024f600480360381019061024a9190611cbc565b610752565b60405161025c91906119ac565b60405180910390f35b61026d610809565b60405161027a9190611b26565b60405180910390f35b61029d60048036038101906102989190611d15565b61089b565b005b6102b960048036038101906102b49190611e8a565b6108b1565b005b6102d560048036038101906102d09190611b74565b610913565b6040516102e29190611b26565b60405180910390f35b61030560048036038101906103009190611f0d565b6109ac565b6040516103129190611a7b565b60405180910390f35b60006103276006610a40565b905090565b60007f80ac58cd000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614806103f757507f5b5e139f000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b80610407575061040682610a4e565b5b9050919050565b60606000805461041d90611f7c565b80601f016020809104026020016040519081016040528092919081815260200182805461044990611f7c565b80156104965780601f1061046b57610100808354040283529160200191610496565b820191906000526020600020905b81548152906001019060200180831161047957829003601f168201915b5050505050905090565b60006104ab82610ab8565b6004600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b60006104f1826106cc565b90508073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610561576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105589061201f565b60405180910390fd5b8073ffffffffffffffffffffffffffffffffffffffff16610580610b03565b73ffffffffffffffffffffffffffffffffffffffff1614806105af57506105ae816105a9610b03565b6109ac565b5b6105ee576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105e5906120b1565b60405180910390fd5b6105f88383610b0b565b505050565b61060e610608610b03565b82610bc4565b61064d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161064490612143565b60405180910390fd5b610658838383610c59565b505050565b6000600190505b8181116106a8576106756006610f52565b60006106816006610a40565b905061069461068e610b03565b82610f68565b5080806106a090612192565b915050610664565b5050565b6106c7838383604051806020016040528060008152506108b1565b505050565b6000806106d883610f86565b9050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1603610749576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161074090612226565b60405180910390fd5b80915050919050565b60008073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036107c2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107b9906122b8565b60405180910390fd5b600360008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b60606001805461081890611f7c565b80601f016020809104026020016040519081016040528092919081815260200182805461084490611f7c565b80156108915780601f1061086657610100808354040283529160200191610891565b820191906000526020600020905b81548152906001019060200180831161087457829003601f168201915b5050505050905090565b6108ad6108a6610b03565b8383610fc3565b5050565b6108c26108bc610b03565b83610bc4565b610901576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108f890612143565b60405180910390fd5b61090d8484848461112f565b50505050565b6060600060405180610160016040528061013c8152602001612a7561013c9139905060006109408461118b565b61094983611259565b6109528661118b565b604051602001610964939291906124b6565b6040516020818303038152906040529050600061098082611259565b604051602001610990919061255f565b6040516020818303038152906040529050809350505050919050565b6000600560008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b600081600001549050919050565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b610ac1816113d1565b610b00576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610af790612226565b60405180910390fd5b50565b600033905090565b816004600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16610b7e836106cc565b73ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92560405160405180910390a45050565b600080610bd0836106cc565b90508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161480610c125750610c1181856109ac565b5b80610c5057508373ffffffffffffffffffffffffffffffffffffffff16610c38846104a0565b73ffffffffffffffffffffffffffffffffffffffff16145b91505092915050565b8273ffffffffffffffffffffffffffffffffffffffff16610c79826106cc565b73ffffffffffffffffffffffffffffffffffffffff1614610ccf576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610cc6906125f3565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610d3e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d3590612685565b60405180910390fd5b610d4b8383836001611412565b8273ffffffffffffffffffffffffffffffffffffffff16610d6b826106cc565b73ffffffffffffffffffffffffffffffffffffffff1614610dc1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610db8906125f3565b60405180910390fd5b6004600082815260200190815260200160002060006101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690556001600360008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825403925050819055506001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282540192505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a4610f4d8383836001611418565b505050565b6001816000016000828254019250508190555050565b610f8282826040518060200160405280600081525061141e565b5050565b60006002600083815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603611031576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611028906126f1565b60405180910390fd5b80600560008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31836040516111229190611a7b565b60405180910390a3505050565b61113a848484610c59565b61114684848484611479565b611185576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161117c90612783565b60405180910390fd5b50505050565b60606000600161119a84611600565b01905060008167ffffffffffffffff8111156111b9576111b8611d5f565b5b6040519080825280601f01601f1916602001820160405280156111eb5781602001600182028036833780820191505090505b509050600082602001820190505b60011561124e578080600190039150507f3031323334353637383961626364656600000000000000000000000000000000600a86061a8153600a8581611242576112416127a3565b5b049450600085036111f9575b819350505050919050565b6060600082510361127b576040518060200160405280600081525090506113cc565b6000604051806060016040528060408152602001612a3560409139905060006003600285516112aa91906127d2565b6112b49190612806565b60046112c09190612837565b905060006020826112d191906127d2565b67ffffffffffffffff8111156112ea576112e9611d5f565b5b6040519080825280601f01601f19166020018201604052801561131c5781602001600182028036833780820191505090505b509050818152600183018586518101602084015b8183101561138b576003830192508251603f8160121c168501518253600182019150603f81600c1c168501518253600182019150603f8160061c168501518253600182019150603f8116850151825360018201915050611330565b6003895106600181146113a557600281146113b5576113c0565b613d3d60f01b60028303526113c0565b603d60f81b60018303525b50505050508093505050505b919050565b60008073ffffffffffffffffffffffffffffffffffffffff166113f383610f86565b73ffffffffffffffffffffffffffffffffffffffff1614159050919050565b50505050565b50505050565b6114288383611753565b6114356000848484611479565b611474576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161146b90612783565b60405180910390fd5b505050565b600061149a8473ffffffffffffffffffffffffffffffffffffffff16611970565b156115f3578373ffffffffffffffffffffffffffffffffffffffff1663150b7a026114c3610b03565b8786866040518563ffffffff1660e01b81526004016114e594939291906128ce565b6020604051808303816000875af192505050801561152157506040513d601f19601f8201168201806040525081019061151e919061292f565b60015b6115a3573d8060008114611551576040519150601f19603f3d011682016040523d82523d6000602084013e611556565b606091505b50600081510361159b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161159290612783565b60405180910390fd5b805181602001fd5b63150b7a0260e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149150506115f8565b600190505b949350505050565b600080600090507a184f03e93ff9f4daa797ed6e38ed64bf6a1f010000000000000000831061165e577a184f03e93ff9f4daa797ed6e38ed64bf6a1f0100000000000000008381611654576116536127a3565b5b0492506040810190505b6d04ee2d6d415b85acef8100000000831061169b576d04ee2d6d415b85acef81000000008381611691576116906127a3565b5b0492506020810190505b662386f26fc1000083106116ca57662386f26fc1000083816116c0576116bf6127a3565b5b0492506010810190505b6305f5e10083106116f3576305f5e10083816116e9576116e86127a3565b5b0492506008810190505b612710831061171857612710838161170e5761170d6127a3565b5b0492506004810190505b6064831061173b5760648381611731576117306127a3565b5b0492506002810190505b600a831061174a576001810190505b80915050919050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036117c2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016117b9906129a8565b60405180910390fd5b6117cb816113d1565b1561180b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161180290612a14565b60405180910390fd5b611819600083836001611412565b611822816113d1565b15611862576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161185990612a14565b60405180910390fd5b6001600360008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282540192505081905550816002600083815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550808273ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef60405160405180910390a461196c600083836001611418565b5050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b6000819050919050565b6119a681611993565b82525050565b60006020820190506119c1600083018461199d565b92915050565b6000604051905090565b600080fd5b600080fd5b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b611a10816119db565b8114611a1b57600080fd5b50565b600081359050611a2d81611a07565b92915050565b600060208284031215611a4957611a486119d1565b5b6000611a5784828501611a1e565b91505092915050565b60008115159050919050565b611a7581611a60565b82525050565b6000602082019050611a906000830184611a6c565b92915050565b600081519050919050565b600082825260208201905092915050565b60005b83811015611ad0578082015181840152602081019050611ab5565b60008484015250505050565b6000601f19601f8301169050919050565b6000611af882611a96565b611b028185611aa1565b9350611b12818560208601611ab2565b611b1b81611adc565b840191505092915050565b60006020820190508181036000830152611b408184611aed565b905092915050565b611b5181611993565b8114611b5c57600080fd5b50565b600081359050611b6e81611b48565b92915050565b600060208284031215611b8a57611b896119d1565b5b6000611b9884828501611b5f565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000611bcc82611ba1565b9050919050565b611bdc81611bc1565b82525050565b6000602082019050611bf76000830184611bd3565b92915050565b611c0681611bc1565b8114611c1157600080fd5b50565b600081359050611c2381611bfd565b92915050565b60008060408385031215611c4057611c3f6119d1565b5b6000611c4e85828601611c14565b9250506020611c5f85828601611b5f565b9150509250929050565b600080600060608486031215611c8257611c816119d1565b5b6000611c9086828701611c14565b9350506020611ca186828701611c14565b9250506040611cb286828701611b5f565b9150509250925092565b600060208284031215611cd257611cd16119d1565b5b6000611ce084828501611c14565b91505092915050565b611cf281611a60565b8114611cfd57600080fd5b50565b600081359050611d0f81611ce9565b92915050565b60008060408385031215611d2c57611d2b6119d1565b5b6000611d3a85828601611c14565b9250506020611d4b85828601611d00565b9150509250929050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b611d9782611adc565b810181811067ffffffffffffffff82111715611db657611db5611d5f565b5b80604052505050565b6000611dc96119c7565b9050611dd58282611d8e565b919050565b600067ffffffffffffffff821115611df557611df4611d5f565b5b611dfe82611adc565b9050602081019050919050565b82818337600083830152505050565b6000611e2d611e2884611dda565b611dbf565b905082815260208101848484011115611e4957611e48611d5a565b5b611e54848285611e0b565b509392505050565b600082601f830112611e7157611e70611d55565b5b8135611e81848260208601611e1a565b91505092915050565b60008060008060808587031215611ea457611ea36119d1565b5b6000611eb287828801611c14565b9450506020611ec387828801611c14565b9350506040611ed487828801611b5f565b925050606085013567ffffffffffffffff811115611ef557611ef46119d6565b5b611f0187828801611e5c565b91505092959194509250565b60008060408385031215611f2457611f236119d1565b5b6000611f3285828601611c14565b9250506020611f4385828601611c14565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680611f9457607f821691505b602082108103611fa757611fa6611f4d565b5b50919050565b7f4552433732313a20617070726f76616c20746f2063757272656e74206f776e6560008201527f7200000000000000000000000000000000000000000000000000000000000000602082015250565b6000612009602183611aa1565b915061201482611fad565b604082019050919050565b6000602082019050818103600083015261203881611ffc565b9050919050565b7f4552433732313a20617070726f76652063616c6c6572206973206e6f7420746f60008201527f6b656e206f776e6572206f7220617070726f76656420666f7220616c6c000000602082015250565b600061209b603d83611aa1565b91506120a68261203f565b604082019050919050565b600060208201905081810360008301526120ca8161208e565b9050919050565b7f4552433732313a2063616c6c6572206973206e6f7420746f6b656e206f776e6560008201527f72206f7220617070726f76656400000000000000000000000000000000000000602082015250565b600061212d602d83611aa1565b9150612138826120d1565b604082019050919050565b6000602082019050818103600083015261215c81612120565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061219d82611993565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82036121cf576121ce612163565b5b600182019050919050565b7f4552433732313a20696e76616c696420746f6b656e2049440000000000000000600082015250565b6000612210601883611aa1565b915061221b826121da565b602082019050919050565b6000602082019050818103600083015261223f81612203565b9050919050565b7f4552433732313a2061646472657373207a65726f206973206e6f74206120766160008201527f6c6964206f776e65720000000000000000000000000000000000000000000000602082015250565b60006122a2602983611aa1565b91506122ad82612246565b604082019050919050565b600060208201905081810360008301526122d181612295565b9050919050565b600081905092915050565b7f7b226e616d65223a2022546573742044617070204e4654732023000000000000600082015250565b6000612319601a836122d8565b9150612324826122e3565b601a82019050919050565b600061233a82611a96565b61234481856122d8565b9350612354818560208601611ab2565b80840191505092915050565b7f222c20226465736372697074696f6e223a2022546573742044617070204e465460008201527f7320666f722074657374696e672e222c2022696d616765223a2022646174613a60208201527f696d6167652f7376672b786d6c3b6261736536342c0000000000000000000000604082015250565b60006123e26055836122d8565b91506123ed82612360565b605582019050919050565b7f222c202261747472696275746573223a205b7b2274726169745f74797065223a60008201527f2022546f6b656e204964222c202276616c7565223a2022000000000000000000602082015250565b60006124546037836122d8565b915061245f826123f8565b603782019050919050565b7f227d5d7d00000000000000000000000000000000000000000000000000000000600082015250565b60006124a06004836122d8565b91506124ab8261246a565b600482019050919050565b60006124c18261230c565b91506124cd828661232f565b91506124d8826123d5565b91506124e4828561232f565b91506124ef82612447565b91506124fb828461232f565b915061250682612493565b9150819050949350505050565b7f646174613a6170706c69636174696f6e2f6a736f6e3b6261736536342c000000600082015250565b6000612549601d836122d8565b915061255482612513565b601d82019050919050565b600061256a8261253c565b9150612576828461232f565b915081905092915050565b7f4552433732313a207472616e736665722066726f6d20696e636f72726563742060008201527f6f776e6572000000000000000000000000000000000000000000000000000000602082015250565b60006125dd602583611aa1565b91506125e882612581565b604082019050919050565b6000602082019050818103600083015261260c816125d0565b9050919050565b7f4552433732313a207472616e7366657220746f20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b600061266f602483611aa1565b915061267a82612613565b604082019050919050565b6000602082019050818103600083015261269e81612662565b9050919050565b7f4552433732313a20617070726f766520746f2063616c6c657200000000000000600082015250565b60006126db601983611aa1565b91506126e6826126a5565b602082019050919050565b6000602082019050818103600083015261270a816126ce565b9050919050565b7f4552433732313a207472616e7366657220746f206e6f6e20455243373231526560008201527f63656976657220696d706c656d656e7465720000000000000000000000000000602082015250565b600061276d603283611aa1565b915061277882612711565b604082019050919050565b6000602082019050818103600083015261279c81612760565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b60006127dd82611993565b91506127e883611993565b9250828201905080821115612800576127ff612163565b5b92915050565b600061281182611993565b915061281c83611993565b92508261282c5761282b6127a3565b5b828204905092915050565b600061284282611993565b915061284d83611993565b925082820261285b81611993565b9150828204841483151761287257612871612163565b5b5092915050565b600081519050919050565b600082825260208201905092915050565b60006128a082612879565b6128aa8185612884565b93506128ba818560208601611ab2565b6128c381611adc565b840191505092915050565b60006080820190506128e36000830187611bd3565b6128f06020830186611bd3565b6128fd604083018561199d565b818103606083015261290f8184612895565b905095945050505050565b60008151905061292981611a07565b92915050565b600060208284031215612945576129446119d1565b5b60006129538482850161291a565b91505092915050565b7f4552433732313a206d696e7420746f20746865207a65726f2061646472657373600082015250565b6000612992602083611aa1565b915061299d8261295c565b602082019050919050565b600060208201905081810360008301526129c181612985565b9050919050565b7f4552433732313a20746f6b656e20616c7265616479206d696e74656400000000600082015250565b60006129fe601c83611aa1565b9150612a09826129c8565b602082019050919050565b60006020820190508181036000830152612a2d816129f1565b905091905056fe4142434445464748494a4b4c4d4e4f505152535455565758595a6162636465666768696a6b6c6d6e6f707172737475767778797a303132333435363738392b2f3c737667206865696768743d22333530222077696474683d22333530222076696577426f783d2230203020313030203130302220786d6c6e733d22687474703a2f2f7777772e77332e6f72672f323030302f737667223e3c646566733e3c706174682069643d224d7950617468222066696c6c3d226e6f6e6522207374726f6b653d227265642220643d224d31302c3930205139302c39302039302c3435205139302c31302035302c3130205131302c31302031302c3430205131302c37302034352c3730205137302c37302037352c353022202f3e3c2f646566733e3c746578743e3c746578745061746820687265663d22234d7950617468223e517569636b2062726f776e20666f78206a756d7073206f76657220746865206c617a7920646f672e3c2f74657874506174683e3c2f746578743e3c2f7376673ea2646970667358221220922487cf7bfec55ad9cf0c646397333bb79204b1a8ef63134f78b23d697570ef64736f6c63430008120033",new M.j(t,"any").getSigner()),n=await e.deploy();await n.deployTransaction.wait(),d(n),P.Ay.success("\u521b\u5efa\u6210\u529f")}catch(e){P.Ay.error("\u521b\u5efa\u5931\u8d25")}finally{u(!1)}},disabled:o.address||!e,children:"Deploy"}),(0,w.jsx)(a.pd,{value:_,disabled:!F,placeholder:"\u8bf7\u8f93\u5165 mint \u6570\u91cf",onChange:C}),(0,w.jsx)(a.$n,{block:!0,loading:p,onClick:async()=>{try{v(!0);const t=await o.mintNFTs(_||"1",{from:e});await t.wait(),P.Ay.success("mint \u6210\u529f")}catch(t){P.Ay.error("mint \u5931\u8d25")}finally{v(!1)}},disabled:!F||!_,children:"Mint"}),(0,w.jsx)(a.pd,{placeholder:"\u8bf7\u8f93\u5165\u6388\u6743 nft id",value:S,onChange:T}),(0,w.jsx)(a.$n,{block:!0,loading:O,onClick:N(),disabled:!F||!S,children:"approve"}),!!r&&(0,w.jsx)(a.$n,{block:!0,color:"danger",loading:O,onClick:N(r),disabled:!F||!S,children:"approve Black Address"}),!!i&&(0,w.jsx)(a.$n,{block:!0,color:"danger",loading:O,onClick:N(i),disabled:!F||!S,children:"approve Strong Black Address"}),(0,w.jsx)(a.$n,{block:!0,color:"warning",loading:O,onClick:N(y),disabled:!F||!S,children:"approve to EOA"}),(0,w.jsx)(a.$n,{block:!0,loading:k,onClick:A(),disabled:!F,children:"setApprovalForAll"}),!!r&&(0,w.jsx)(a.$n,{block:!0,color:"danger",loading:k,onClick:A({spender:r}),disabled:!F,children:"setApprovalForAll Black Address"}),!!r&&(0,w.jsx)(a.$n,{block:!0,color:"danger",loading:k,onClick:A({spender:i}),disabled:!F,children:"setApprovalForAll Strong Black Address"}),(0,w.jsx)(a.$n,{block:!0,color:"warning",loading:k,onClick:A({spender:y}),disabled:!F,children:"setApprovalForAll to EOA"}),(0,w.jsx)(a.$n,{block:!0,onClick:A({isApprove:!1}),loading:k,disabled:!F,children:"revoke"}),(0,w.jsx)(a.pd,{value:D,placeholder:"\u8bf7\u8bbe\u7f6e\u8f6c\u79fb\u6570\u91cf",onChange:e=>{let{target:{value:t}}=e;I(t)}}),(0,w.jsx)(a.$n,{block:!0,onClick:async()=>{try{K(!0);const t=await o.transferFrom(e,g,D||"1",{from:e});await t.wait(),P.Ay.success("\u8f6c\u79fb\u6210\u529f")}catch(t){P.Ay.error("\u8f6c\u79fb\u5931\u8d25")}finally{K(!1)}},loading:j,disabled:!F,children:"\u8f6c\u79fb NFT"}),!!r&&(0,w.jsx)(a.$n,{block:!0,color:"danger",onClick:X(),loading:$,disabled:!F,children:"Transfer NFT to Black Address"}),!!i&&(0,w.jsx)(a.$n,{block:!0,color:"danger",onClick:X(i),loading:$,disabled:!F,children:"Transfer NFT to Strong Black Address"}),(0,w.jsx)(B.A,{type:"info",message:"\u6d4b\u8bd5 NFT",description:(0,w.jsx)(s.A,{gutter:12,children:H.map((e=>(0,w.jsx)(c.A,{children:(0,w.jsx)("a",{href:`/dapp-demo/?nftAddress=${e.address}`,children:e.chain})},e.address)))})})]})})})};var X=n(13513),F=n(36951);const q=[{chain:"Polygon",chainId:"0x89",address:"0x2bf22a1143f406C2DEb7ECEBfEd26755d1124683"}];const J=function(){const{account:e,provider:t,chainId:n}=(0,f.useContext)(h),r=m(n),i=x(n),[o,d]=(0,f.useState)({}),l=(0,f.useRef)(),[u,b]=(0,f.useState)(!1);(0,f.useEffect)((()=>{(async()=>{const n=new URLSearchParams(window.location.search).get("erc1155Address");if(e&&n){var f;null===(f=l.current)||void 0===f||f.scrollIntoView({behavior:"smooth"});const e=q.find((e=>{let{address:t}=e;return t===n}));e&&await t.request({method:"wallet_switchEthereumChain",params:[{chainId:e.chainId}]});const r=new U.NZ(n,$,new M.j(t,"any").getSigner());d(r)}})()}),[e,t]);const[p,v]=(0,f.useState)(!1),[_,C]=(0,f.useState)("1, 2, 3"),[O,E]=(0,f.useState)("1, 5, 7"),[S,T]=(0,f.useState)(!1),N=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;return async()=>{try{T(!0),await o.safeBatchTransferFrom(e,t,_.split(",").map(Number),O.split(",").map(Number),"0x")}catch(n){P.Ay.error(n.message)}finally{T(!1)}}},[k,R]=(0,f.useState)(!1),A=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;return async()=>{try{R(!0);const f=await o.setApprovalForAll(n,t,{from:e});await f.wait()}catch(f){P.Ay.error(f.message)}finally{R(!1)}}};return(0,w.jsx)("div",{ref:l,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"ERC1155",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(B.A,{type:"info",message:"\u5408\u96c6\u5730\u5740",description:o.address}),(0,w.jsx)(a.$n,{block:!0,loading:u,onClick:async()=>{try{b(!0);const e=new U.PM($,"0x60806040523480156200001157600080fd5b5060405180608001604052806043815260200162003893604391396200003d816200006460201b60201c565b506200005e620000526200007960201b60201c565b6200008160201b60201c565b620004a8565b8060029081620000759190620003c1565b5050565b600033905090565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680620001c957607f821691505b602082108103620001df57620001de62000181565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302620002497fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826200020a565b6200025586836200020a565b95508019841693508086168417925050509392505050565b6000819050919050565b6000819050919050565b6000620002a26200029c62000296846200026d565b62000277565b6200026d565b9050919050565b6000819050919050565b620002be8362000281565b620002d6620002cd82620002a9565b84845462000217565b825550505050565b600090565b620002ed620002de565b620002fa818484620002b3565b505050565b5b81811015620003225762000316600082620002e3565b60018101905062000300565b5050565b601f82111562000371576200033b81620001e5565b6200034684620001fa565b8101602085101562000356578190505b6200036e6200036585620001fa565b830182620002ff565b50505b505050565b600082821c905092915050565b6000620003966000198460080262000376565b1980831691505092915050565b6000620003b1838362000383565b9150826002028217905092915050565b620003cc8262000147565b67ffffffffffffffff811115620003e857620003e762000152565b5b620003f48254620001b0565b6200040182828562000326565b600060209050601f83116001811462000439576000841562000424578287015190505b620004308582620003a3565b865550620004a0565b601f1984166200044986620001e5565b60005b8281101562000473578489015182556001820191506020850194506020810190506200044c565b868310156200049357848901516200048f601f89168262000383565b8355505b6001600288020188555050505b505050505050565b6133db80620004b86000396000f3fe608060405234801561001057600080fd5b50600436106100e95760003560e01c80634e1273f41161008c578063a22cb46511610066578063a22cb46514610248578063e985e9c514610264578063f242432a14610294578063f2fde38b146102b0576100e9565b80634e1273f4146101f0578063715018a6146102205780638da5cb5b1461022a576100e9565b806306fdde03116100c857806306fdde031461016a5780630e89341c146101885780631f7fdffa146101b85780632eb2c2d6146101d4576100e9565b8062fdd58e146100ee57806301ffc9a71461011e57806302fe53051461014e575b600080fd5b61010860048036038101906101039190611bb3565b6102cc565b6040516101159190611c02565b60405180910390f35b61013860048036038101906101339190611c75565b610394565b6040516101459190611cbd565b60405180910390f35b61016860048036038101906101639190611e1e565b610476565b005b61017261048a565b60405161017f9190611ee6565b60405180910390f35b6101a2600480360381019061019d9190611f08565b6104c3565b6040516101af9190611ee6565b60405180910390f35b6101d260048036038101906101cd919061209e565b6104fe565b005b6101ee60048036038101906101e99190612159565b610518565b005b61020a600480360381019061020591906122eb565b6105b9565b6040516102179190612421565b60405180910390f35b6102286106d2565b005b6102326106e6565b60405161023f9190612452565b60405180910390f35b610262600480360381019061025d9190612499565b610710565b005b61027e600480360381019061027991906124d9565b610726565b60405161028b9190611cbd565b60405180910390f35b6102ae60048036038101906102a99190612519565b6107ba565b005b6102ca60048036038101906102c591906125b0565b61085b565b005b60008073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff160361033c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103339061264f565b60405180910390fd5b60008083815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b60007fd9b67a26000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916148061045f57507f0e89341c000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916145b8061046f575061046e826108de565b5b9050919050565b61047e610948565b610487816109c6565b50565b6040518060400160405280600781526020017f455243313135350000000000000000000000000000000000000000000000000081525081565b60606104ce826109d9565b6104d783610a6d565b6040516020016104e89291906126f7565b6040516020818303038152906040529050919050565b610506610948565b61051284848484610b3b565b50505050565b610520610d67565b73ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff161480610566575061056585610560610d67565b610726565b5b6105a5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161059c90612798565b60405180910390fd5b6105b28585858585610d6f565b5050505050565b606081518351146105ff576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105f69061282a565b60405180910390fd5b6000835167ffffffffffffffff81111561061c5761061b611cf3565b5b60405190808252806020026020018201604052801561064a5781602001602082028036833780820191505090505b50905060005b84518110156106c75761069785828151811061066f5761066e61284a565b5b602002602001015185838151811061068a5761068961284a565b5b60200260200101516102cc565b8282815181106106aa576106a961284a565b5b602002602001018181525050806106c0906128a8565b9050610650565b508091505092915050565b6106da610948565b6106e46000611090565b565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b61072261071b610d67565b8383611156565b5050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b6107c2610d67565b73ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff161480610808575061080785610802610d67565b610726565b5b610847576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161083e90612798565b60405180910390fd5b61085485858585856112c2565b5050505050565b610863610948565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036108d2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108c990612962565b60405180910390fd5b6108db81611090565b50565b60007f01ffc9a7000000000000000000000000000000000000000000000000000000007bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916827bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916149050919050565b610950610d67565b73ffffffffffffffffffffffffffffffffffffffff1661096e6106e6565b73ffffffffffffffffffffffffffffffffffffffff16146109c4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109bb906129ce565b60405180910390fd5b565b80600290816109d59190612bfa565b5050565b6060600280546109e890612a1d565b80601f0160208091040260200160405190810160405280929190818152602001828054610a1490612a1d565b8015610a615780601f10610a3657610100808354040283529160200191610a61565b820191906000526020600020905b815481529060010190602001808311610a4457829003601f168201915b50505050509050919050565b606060006001610a7c8461155d565b01905060008167ffffffffffffffff811115610a9b57610a9a611cf3565b5b6040519080825280601f01601f191660200182016040528015610acd5781602001600182028036833780820191505090505b509050600082602001820190505b600115610b30578080600190039150507f3031323334353637383961626364656600000000000000000000000000000000600a86061a8153600a8581610b2457610b23612ccc565b5b04945060008503610adb575b819350505050919050565b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1603610baa576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ba190612d6d565b60405180910390fd5b8151835114610bee576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610be590612dff565b60405180910390fd5b6000610bf8610d67565b9050610c09816000878787876116b0565b60005b8451811015610cc257838181518110610c2857610c2761284a565b5b6020026020010151600080878481518110610c4657610c4561284a565b5b6020026020010151815260200190815260200160002060008873ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254610ca89190612e1f565b925050819055508080610cba906128a8565b915050610c0c565b508473ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f4a39dc06d4c0dbc64b70af90fd698a233a518aa5d07e595d983b8c0526c8f7fb8787604051610d3a929190612e53565b60405180910390a4610d51816000878787876116b8565b610d60816000878787876116c0565b5050505050565b600033905090565b8151835114610db3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610daa90612dff565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1603610e22576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e1990612efc565b60405180910390fd5b6000610e2c610d67565b9050610e3c8187878787876116b0565b60005b8451811015610fed576000858281518110610e5d57610e5c61284a565b5b602002602001015190506000858381518110610e7c57610e7b61284a565b5b60200260200101519050600080600084815260200190815260200160002060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015610f1d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f1490612f8e565b60405180910390fd5b81810360008085815260200190815260200160002060008c73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508160008085815260200190815260200160002060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254610fd29190612e1f565b9250508190555050505080610fe6906128a8565b9050610e3f565b508473ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f4a39dc06d4c0dbc64b70af90fd698a233a518aa5d07e595d983b8c0526c8f7fb8787604051611064929190612e53565b60405180910390a461107a8187878787876116b8565b6110888187878787876116c0565b505050505050565b6000600360009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600360006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036111c4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016111bb90613020565b60405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f17307eab39ab6107e8899845ad3d59bd9653f200f220920489ca2b5937696c31836040516112b59190611cbd565b60405180910390a3505050565b600073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1603611331576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161132890612efc565b60405180910390fd5b600061133b610d67565b9050600061134885611897565b9050600061135585611897565b90506113658389898585896116b0565b600080600088815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050858110156113fc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113f390612f8e565b60405180910390fd5b85810360008089815260200190815260200160002060008b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508560008089815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546114b19190612e1f565b925050819055508773ffffffffffffffffffffffffffffffffffffffff168973ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff167fc3d58168c5ae7397731d063d5bbf3d657854427343f4c083240f7aacaa2d0f628a8a60405161152e929190613040565b60405180910390a4611544848a8a86868a6116b8565b611552848a8a8a8a8a611911565b505050505050505050565b600080600090507a184f03e93ff9f4daa797ed6e38ed64bf6a1f01000000000000000083106115bb577a184f03e93ff9f4daa797ed6e38ed64bf6a1f01000000000000000083816115b1576115b0612ccc565b5b0492506040810190505b6d04ee2d6d415b85acef810000000083106115f8576d04ee2d6d415b85acef810000000083816115ee576115ed612ccc565b5b0492506020810190505b662386f26fc10000831061162757662386f26fc10000838161161d5761161c612ccc565b5b0492506010810190505b6305f5e1008310611650576305f5e100838161164657611645612ccc565b5b0492506008810190505b612710831061167557612710838161166b5761166a612ccc565b5b0492506004810190505b60648310611698576064838161168e5761168d612ccc565b5b0492506002810190505b600a83106116a7576001810190505b80915050919050565b505050505050565b505050505050565b6116df8473ffffffffffffffffffffffffffffffffffffffff16611ae8565b1561188f578373ffffffffffffffffffffffffffffffffffffffff1663bc197c8187878686866040518663ffffffff1660e01b81526004016117259594939291906130be565b6020604051808303816000875af192505050801561176157506040513d601f19601f8201168201806040525081019061175e919061313b565b60015b6118065761176d613175565b806308c379a0036117c95750611781613197565b8061178c57506117cb565b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016117c09190611ee6565b60405180910390fd5b505b6040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016117fd90613299565b60405180910390fd5b63bc197c8160e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161461188d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016118849061332b565b60405180910390fd5b505b505050505050565b60606000600167ffffffffffffffff8111156118b6576118b5611cf3565b5b6040519080825280602002602001820160405280156118e45781602001602082028036833780820191505090505b50905082816000815181106118fc576118fb61284a565b5b60200260200101818152505080915050919050565b6119308473ffffffffffffffffffffffffffffffffffffffff16611ae8565b15611ae0578373ffffffffffffffffffffffffffffffffffffffff1663f23a6e6187878686866040518663ffffffff1660e01b815260040161197695949392919061334b565b6020604051808303816000875af19250505080156119b257506040513d601f19601f820116820180604052508101906119af919061313b565b60015b611a57576119be613175565b806308c379a003611a1a57506119d2613197565b806119dd5750611a1c565b806040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a119190611ee6565b60405180910390fd5b505b6040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a4e90613299565b60405180910390fd5b63f23a6e6160e01b7bffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916817bffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614611ade576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611ad59061332b565b60405180910390fd5b505b505050505050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b6000604051905090565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000611b4a82611b1f565b9050919050565b611b5a81611b3f565b8114611b6557600080fd5b50565b600081359050611b7781611b51565b92915050565b6000819050919050565b611b9081611b7d565b8114611b9b57600080fd5b50565b600081359050611bad81611b87565b92915050565b60008060408385031215611bca57611bc9611b15565b5b6000611bd885828601611b68565b9250506020611be985828601611b9e565b9150509250929050565b611bfc81611b7d565b82525050565b6000602082019050611c176000830184611bf3565b92915050565b60007fffffffff0000000000000000000000000000000000000000000000000000000082169050919050565b611c5281611c1d565b8114611c5d57600080fd5b50565b600081359050611c6f81611c49565b92915050565b600060208284031215611c8b57611c8a611b15565b5b6000611c9984828501611c60565b91505092915050565b60008115159050919050565b611cb781611ca2565b82525050565b6000602082019050611cd26000830184611cae565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b611d2b82611ce2565b810181811067ffffffffffffffff82111715611d4a57611d49611cf3565b5b80604052505050565b6000611d5d611b0b565b9050611d698282611d22565b919050565b600067ffffffffffffffff821115611d8957611d88611cf3565b5b611d9282611ce2565b9050602081019050919050565b82818337600083830152505050565b6000611dc1611dbc84611d6e565b611d53565b905082815260208101848484011115611ddd57611ddc611cdd565b5b611de8848285611d9f565b509392505050565b600082601f830112611e0557611e04611cd8565b5b8135611e15848260208601611dae565b91505092915050565b600060208284031215611e3457611e33611b15565b5b600082013567ffffffffffffffff811115611e5257611e51611b1a565b5b611e5e84828501611df0565b91505092915050565b600081519050919050565b600082825260208201905092915050565b60005b83811015611ea1578082015181840152602081019050611e86565b60008484015250505050565b6000611eb882611e67565b611ec28185611e72565b9350611ed2818560208601611e83565b611edb81611ce2565b840191505092915050565b60006020820190508181036000830152611f008184611ead565b905092915050565b600060208284031215611f1e57611f1d611b15565b5b6000611f2c84828501611b9e565b91505092915050565b600067ffffffffffffffff821115611f5057611f4f611cf3565b5b602082029050602081019050919050565b600080fd5b6000611f79611f7484611f35565b611d53565b90508083825260208201905060208402830185811115611f9c57611f9b611f61565b5b835b81811015611fc55780611fb18882611b9e565b845260208401935050602081019050611f9e565b5050509392505050565b600082601f830112611fe457611fe3611cd8565b5b8135611ff4848260208601611f66565b91505092915050565b600067ffffffffffffffff82111561201857612017611cf3565b5b61202182611ce2565b9050602081019050919050565b600061204161203c84611ffd565b611d53565b90508281526020810184848401111561205d5761205c611cdd565b5b612068848285611d9f565b509392505050565b600082601f83011261208557612084611cd8565b5b813561209584826020860161202e565b91505092915050565b600080600080608085870312156120b8576120b7611b15565b5b60006120c687828801611b68565b945050602085013567ffffffffffffffff8111156120e7576120e6611b1a565b5b6120f387828801611fcf565b935050604085013567ffffffffffffffff81111561211457612113611b1a565b5b61212087828801611fcf565b925050606085013567ffffffffffffffff81111561214157612140611b1a565b5b61214d87828801612070565b91505092959194509250565b600080600080600060a0868803121561217557612174611b15565b5b600061218388828901611b68565b955050602061219488828901611b68565b945050604086013567ffffffffffffffff8111156121b5576121b4611b1a565b5b6121c188828901611fcf565b935050606086013567ffffffffffffffff8111156121e2576121e1611b1a565b5b6121ee88828901611fcf565b925050608086013567ffffffffffffffff81111561220f5761220e611b1a565b5b61221b88828901612070565b9150509295509295909350565b600067ffffffffffffffff82111561224357612242611cf3565b5b602082029050602081019050919050565b600061226761226284612228565b611d53565b9050808382526020820190506020840283018581111561228a57612289611f61565b5b835b818110156122b3578061229f8882611b68565b84526020840193505060208101905061228c565b5050509392505050565b600082601f8301126122d2576122d1611cd8565b5b81356122e2848260208601612254565b91505092915050565b6000806040838503121561230257612301611b15565b5b600083013567ffffffffffffffff8111156123205761231f611b1a565b5b61232c858286016122bd565b925050602083013567ffffffffffffffff81111561234d5761234c611b1a565b5b61235985828601611fcf565b9150509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b61239881611b7d565b82525050565b60006123aa838361238f565b60208301905092915050565b6000602082019050919050565b60006123ce82612363565b6123d8818561236e565b93506123e38361237f565b8060005b838110156124145781516123fb888261239e565b9750612406836123b6565b9250506001810190506123e7565b5085935050505092915050565b6000602082019050818103600083015261243b81846123c3565b905092915050565b61244c81611b3f565b82525050565b60006020820190506124676000830184612443565b92915050565b61247681611ca2565b811461248157600080fd5b50565b6000813590506124938161246d565b92915050565b600080604083850312156124b0576124af611b15565b5b60006124be85828601611b68565b92505060206124cf85828601612484565b9150509250929050565b600080604083850312156124f0576124ef611b15565b5b60006124fe85828601611b68565b925050602061250f85828601611b68565b9150509250929050565b600080600080600060a0868803121561253557612534611b15565b5b600061254388828901611b68565b955050602061255488828901611b68565b945050604061256588828901611b9e565b935050606061257688828901611b9e565b925050608086013567ffffffffffffffff81111561259757612596611b1a565b5b6125a388828901612070565b9150509295509295909350565b6000602082840312156125c6576125c5611b15565b5b60006125d484828501611b68565b91505092915050565b7f455243313135353a2061646472657373207a65726f206973206e6f742061207660008201527f616c6964206f776e657200000000000000000000000000000000000000000000602082015250565b6000612639602a83611e72565b9150612644826125dd565b604082019050919050565b600060208201905081810360008301526126688161262c565b9050919050565b600081905092915050565b600061268582611e67565b61268f818561266f565b935061269f818560208601611e83565b80840191505092915050565b7f2e6a736f6e000000000000000000000000000000000000000000000000000000600082015250565b60006126e160058361266f565b91506126ec826126ab565b600582019050919050565b6000612703828561267a565b915061270f828461267a565b915061271a826126d4565b91508190509392505050565b7f455243313135353a2063616c6c6572206973206e6f7420746f6b656e206f776e60008201527f6572206f7220617070726f766564000000000000000000000000000000000000602082015250565b6000612782602e83611e72565b915061278d82612726565b604082019050919050565b600060208201905081810360008301526127b181612775565b9050919050565b7f455243313135353a206163636f756e747320616e6420696473206c656e67746860008201527f206d69736d617463680000000000000000000000000000000000000000000000602082015250565b6000612814602983611e72565b915061281f826127b8565b604082019050919050565b6000602082019050818103600083015261284381612807565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60006128b382611b7d565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82036128e5576128e4612879565b5b600182019050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b600061294c602683611e72565b9150612957826128f0565b604082019050919050565b6000602082019050818103600083015261297b8161293f565b9050919050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b60006129b8602083611e72565b91506129c382612982565b602082019050919050565b600060208201905081810360008301526129e7816129ab565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680612a3557607f821691505b602082108103612a4857612a476129ee565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302612ab07fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82612a73565b612aba8683612a73565b95508019841693508086168417925050509392505050565b6000819050919050565b6000612af7612af2612aed84611b7d565b612ad2565b611b7d565b9050919050565b6000819050919050565b612b1183612adc565b612b25612b1d82612afe565b848454612a80565b825550505050565b600090565b612b3a612b2d565b612b45818484612b08565b505050565b5b81811015612b6957612b5e600082612b32565b600181019050612b4b565b5050565b601f821115612bae57612b7f81612a4e565b612b8884612a63565b81016020851015612b97578190505b612bab612ba385612a63565b830182612b4a565b50505b505050565b600082821c905092915050565b6000612bd160001984600802612bb3565b1980831691505092915050565b6000612bea8383612bc0565b9150826002028217905092915050565b612c0382611e67565b67ffffffffffffffff811115612c1c57612c1b611cf3565b5b612c268254612a1d565b612c31828285612b6d565b600060209050601f831160018114612c645760008415612c52578287015190505b612c5c8582612bde565b865550612cc4565b601f198416612c7286612a4e565b60005b82811015612c9a57848901518255600182019150602085019450602081019050612c75565b86831015612cb75784890151612cb3601f891682612bc0565b8355505b6001600288020188555050505b505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f455243313135353a206d696e7420746f20746865207a65726f2061646472657360008201527f7300000000000000000000000000000000000000000000000000000000000000602082015250565b6000612d57602183611e72565b9150612d6282612cfb565b604082019050919050565b60006020820190508181036000830152612d8681612d4a565b9050919050565b7f455243313135353a2069647320616e6420616d6f756e7473206c656e6774682060008201527f6d69736d61746368000000000000000000000000000000000000000000000000602082015250565b6000612de9602883611e72565b9150612df482612d8d565b604082019050919050565b60006020820190508181036000830152612e1881612ddc565b9050919050565b6000612e2a82611b7d565b9150612e3583611b7d565b9250828201905080821115612e4d57612e4c612879565b5b92915050565b60006040820190508181036000830152612e6d81856123c3565b90508181036020830152612e8181846123c3565b90509392505050565b7f455243313135353a207472616e7366657220746f20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b6000612ee6602583611e72565b9150612ef182612e8a565b604082019050919050565b60006020820190508181036000830152612f1581612ed9565b9050919050565b7f455243313135353a20696e73756666696369656e742062616c616e636520666f60008201527f72207472616e7366657200000000000000000000000000000000000000000000602082015250565b6000612f78602a83611e72565b9150612f8382612f1c565b604082019050919050565b60006020820190508181036000830152612fa781612f6b565b9050919050565b7f455243313135353a2073657474696e6720617070726f76616c2073746174757360008201527f20666f722073656c660000000000000000000000000000000000000000000000602082015250565b600061300a602983611e72565b915061301582612fae565b604082019050919050565b6000602082019050818103600083015261303981612ffd565b9050919050565b60006040820190506130556000830185611bf3565b6130626020830184611bf3565b9392505050565b600081519050919050565b600082825260208201905092915050565b600061309082613069565b61309a8185613074565b93506130aa818560208601611e83565b6130b381611ce2565b840191505092915050565b600060a0820190506130d36000830188612443565b6130e06020830187612443565b81810360408301526130f281866123c3565b9050818103606083015261310681856123c3565b9050818103608083015261311a8184613085565b90509695505050505050565b60008151905061313581611c49565b92915050565b60006020828403121561315157613150611b15565b5b600061315f84828501613126565b91505092915050565b60008160e01c9050919050565b600060033d11156131945760046000803e613191600051613168565b90505b90565b600060443d10613224576131a9611b0b565b60043d036004823e80513d602482011167ffffffffffffffff821117156131d1575050613224565b808201805167ffffffffffffffff8111156131ef5750505050613224565b80602083010160043d03850181111561320c575050505050613224565b61321b82602001850186611d22565b82955050505050505b90565b7f455243313135353a207472616e7366657220746f206e6f6e2d4552433131353560008201527f526563656976657220696d706c656d656e746572000000000000000000000000602082015250565b6000613283603483611e72565b915061328e82613227565b604082019050919050565b600060208201905081810360008301526132b281613276565b9050919050565b7f455243313135353a204552433131353552656365697665722072656a6563746560008201527f6420746f6b656e73000000000000000000000000000000000000000000000000602082015250565b6000613315602883611e72565b9150613320826132b9565b604082019050919050565b6000602082019050818103600083015261334481613308565b9050919050565b600060a0820190506133606000830188612443565b61336d6020830187612443565b61337a6040830186611bf3565b6133876060830185611bf3565b81810360808301526133998184613085565b9050969550505050505056fea2646970667358221220de231ea0ba52331673a6ab1f561443459e5e047d956a2026f062e8977c23fe6d64736f6c63430008110033697066733a2f2f626166796265696478666d777963677a6370347632746f67666c70716832676e69627565786a79346d347171777870376e68336a78357a6c6834792f",new M.j(t,"any").getSigner()),n=await e.deploy();await n.deployTransaction.wait(),d(n),P.Ay.success("\u521b\u5efa\u6210\u529f")}catch(e){P.Ay.error("\u521b\u5efa\u5931\u8d25")}finally{b(!1)}},disabled:o.address||!e,children:"Deploy"}),(0,w.jsxs)("div",{children:[(0,w.jsx)(X.A.Title,{level:5,children:"Token IDs"}),(0,w.jsx)(F.A,{value:_,onChange:e=>C(e.target.value)})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)(X.A.Title,{level:5,children:"Token Amounts"}),(0,w.jsx)(F.A,{value:O,onChange:e=>E(e.target.value)})]}),(0,w.jsx)(a.$n,{block:!0,loading:p,onClick:async()=>{try{v(!0);const t=[e,_.split(",").map(Number),O.split(",").map(Number),"0x"];await o.mintBatch(...t),P.Ay.success("mint \u6210\u529f")}catch(t){P.Ay.error("mint \u5931\u8d25")}finally{v(!1)}},disabled:!o.address||!e,children:"Mint"}),(0,w.jsx)(a.$n,{block:!0,loading:S,onClick:N(),disabled:!o.address,children:"Transfer"}),!!r&&(0,w.jsx)(a.$n,{block:!0,color:"danger",loading:S,onClick:N(r),disabled:!o.address,children:"Transfer Black Address"}),!!i&&(0,w.jsx)(a.$n,{block:!0,color:"danger",loading:S,onClick:N(i),disabled:!o.address,children:"Transfer Strong Black Address"}),(0,w.jsx)(a.$n,{block:!0,loading:k,onClick:A(),disabled:!o.address,children:"setApprovalForAll"}),!!r&&(0,w.jsx)(a.$n,{block:!0,color:"danger",loading:k,onClick:A(!0,r),disabled:!o.address,children:"setApprovalForAll Black Address"}),!!i&&(0,w.jsx)(a.$n,{block:!0,color:"danger",loading:k,onClick:A(!0,i),disabled:!o.address,children:"setApprovalForAll Strong Black Address"}),(0,w.jsx)(a.$n,{block:!0,loading:k,onClick:A(!0,y),disabled:!o.address,children:"setApprovalForAll to EOA"}),(0,w.jsx)(a.$n,{block:!0,loading:k,onClick:A(!1),disabled:!o.address,children:"revoke"}),(0,w.jsx)(B.A,{type:"info",message:"\u6d4b\u8bd5 NFT",description:(0,w.jsx)(s.A,{gutter:12,children:q.map((e=>(0,w.jsx)(c.A,{children:(0,w.jsx)("a",{href:`/dapp-demo/?erc1155Address=${e.address}`,children:e.chain})},e.address)))})})]})})})};const z=function(){return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(a.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"NFT",children:(0,w.jsxs)(s.A,{gutter:12,children:[(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(W,{})}),(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(J,{})})]})})})})};const G=function(){const{account:e,provider:t}=(0,f.useContext)(h),[n,r]=(0,f.useState)(!1),i=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async()=>{try{r(!0),await t.request({method:"eth_sendTransaction",params:[{from:e,to:y,value:`0x${(10**9).toString(16)}`,...n}]})}catch(f){P.Ay.error(f.message)}finally{r(!1)}}},o=`0x${21e3.toString(16)}`,s=`0x${(300*10**9).toString(16)}`,d=`0x${(400*10**9).toString(16)}`,l=`0x${(40*10**9).toString(16)}`;return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"Gas Checker - dapp \u5404\u79cd\u4f20\u53c2",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{loading:n,block:!0,onClick:i({gas:o,gasPrice:s,maxFeePerGas:d,maxPriorityFeePerGas:l}),children:"all"}),(0,w.jsx)(a.$n,{loading:n,block:!0,onClick:i({gas:o,gasPrice:s}),children:"Legacy"}),(0,w.jsx)(a.$n,{loading:n,block:!0,onClick:i({gas:o,maxFeePerGas:d,maxPriorityFeePerGas:l}),children:"1559"}),(0,w.jsx)(a.$n,{loading:n,block:!0,onClick:i({gas:o,gasPrice:s,maxFeePerGas:d}),children:"gasPrice & maxFeePerGas"}),(0,w.jsx)(a.$n,{loading:n,block:!0,onClick:i({gas:o,gasPrice:s,maxPriorityFeePerGas:l}),children:"gasPrice & maxPriorityFeePerGas"}),(0,w.jsx)(a.$n,{loading:n,block:!0,onClick:i({gas:o,maxFeePerGas:d}),children:"maxFeePerGas"}),(0,w.jsx)(a.$n,{loading:n,block:!0,onClick:i({gas:o,maxPriorityFeePerGas:l}),children:"maxPriorityFeePerGas"}),(0,w.jsx)(a.$n,{loading:n,block:!0,onClick:i({gas:`0x${10..toString(16)}`,gasPrice:s,maxFeePerGas:d,maxPriorityFeePerGas:l}),children:"Low gas Limit"})]})})})};const V=function(){const{account:e,chainId:t,provider:n}=(0,f.useContext)(h),r=m(t),i=x(t),[o,s]=(0,f.useState)(!1),[d,l]=(0,f.useState)(!1),u=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return async()=>{try{l(!0);const f={from:e,to:t,value:`0x${(10**9).toString(16)}`};await n.request({method:"eth_sendTransaction",params:[f]})}catch(f){P.Ay.error(f.message)}finally{l(!1)}}},[b,p]=(0,f.useState)(!1),[g,v]=(0,f.useState)(!1),[_,C]=(0,f.useState)(!1),[O,E]=(0,f.useState)(!1),[S,T]=(0,f.useState)(!1),[N,k]=(0,f.useState)(!1);return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"BatchTransfer",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,loading:o,onClick:async()=>{try{s(!0),await n.request({method:"eth_sendTransaction",params:[{from:e,to:y,value:`0x${(10**10).toString(16)}`}]})}catch(t){P.Ay.error(t.message)}finally{s(!1)}},disabled:!e,children:"transfer baseCoin"}),!!r&&(0,w.jsx)(a.$n,{block:!0,color:"danger",loading:d,onClick:u(),disabled:!e,children:"transfer baseCoin to GrayAddress"}),!!i&&(0,w.jsx)(a.$n,{block:!0,color:"danger",loading:d,onClick:u(i),disabled:!e,children:"transfer baseCoin to Strong Black Address"}),(0,w.jsx)(a.$n,{block:!0,loading:b,onClick:async()=>{try{p(!0),await n.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x89"}]}),await n.request({method:"eth_sendTransaction",params:[{from:e,to:"0xd152f549545093347a162dce210e7293f1452150",value:"0x6f05b59d3b20000",data:"0xe63d38ed000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000003000000000000000000000000fe8dc6394501a35ad1c4833f40f382e55dada4f3000000000000000000000000e5a85089a3da45b5460a59b1d4cf181e01fe7681000000000000000000000000f27b3ba38ea4077423f8edaae0e2c9fedb8fda6d0000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000016345785d8a000000000000000000000000000000000000000000000000000002c68af0bb14000000000000000000000000000000000000000000000000000002c68af0bb140000"}]})}catch(t){P.Ay.error(t.message)}finally{p(!1)}},disabled:!e,children:"batchTransfer baseCoin"}),(0,w.jsx)(a.$n,{block:!0,onClick:async()=>{try{p(!0),await n.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x89"}]}),await n.request({method:"eth_sendTransaction",params:[{from:e,to:"0xd152f549545093347a162dce210e7293f1452150",value:"0x6f05b59d3b20000",data:"0xe6d3d38ed000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000003000000000000000000000000fe8dc6394501a35ad1c4833f40f382e55dada4f3000000000000000000000000e5a85089a3da45b5460a59b1d4cf181e01fe7681000000000000000000000000f27b3ba38ea4077423f8edaae0e2c9fedb8fda6d0000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000016345785d8a000000000000000000000000000000000000000000000000000002c68af0bb14000000000000000000000000000000000000000000000000000002c68af0bb1400001121"}]})}catch(t){P.Ay.error(t.message)}finally{p(!1)}},disabled:!e,children:"transferBaseTokenWithError"})]})})})},Y=[{inputs:[{internalType:"uint256",name:"initialAmount",type:"uint256"},{internalType:"string",name:"tokenName",type:"string"},{internalType:"uint8",name:"decimalUnits",type:"uint8"},{internalType:"string",name:"tokenSymbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];var Z=n(54342);const Q="anchorUsedTokens",ee="CIRCLE_LUO",te=[{chain:"Polygon",symbol:ee,chainId:137,address:"0x6615a6c72b04f8Ec45cd2a3576e403c111623111"},{chain:"Polygon",symbol:"USDT",chainId:137,address:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f"},{chain:"Polygon",symbol:"QUANQU...QUAN",chainId:137,address:"0x6Ed7E67F6ee4833Fd4b461c0ce5F1949c133d4ed"},{chain:"Holesky Test Network",symbol:ee,chainId:17e3,address:"0x76bC79EB3bf2156a148793E8363D81c663B18957"}];const ne=function(){const e=(0,f.useRef)(),t=`${window.location.origin}/dapp-demo/favicon.png`,{account:n,provider:r,chainId:i}=(0,f.useContext)(h),o=m(i),d=x(i),[l,u]=(0,f.useState)(4),[v,_]=(0,f.useState)(),[C,O]=(0,f.useState)({}),[E,S]=(0,f.useState)(!1);(0,f.useEffect)((()=>{(async()=>{const t=new URLSearchParams(window.location.search).get("tokenAddress");if(n&&t){var f;S(!1),_(void 0),O({}),u(4),null===(f=e.current)||void 0===f||f.scrollIntoView({behavior:"smooth"});const i=te.find((e=>{let{address:n}=e;return n===t}));i&&await r.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${i.chainId.toString(16)}`}]});const a=new U.NZ(t,Y,new M.j(r,"any").getSigner()),o=await a.symbol();_(o);const s=await a.decimals();(await a.balanceOf(n)).eq(0)?S(!0):S(!1),u(s),O(a)}})()}),[n,r]);const[T,N]=(0,f.useState)(!1),[k,R]=(0,f.useState)(!1),[A,P]=(0,f.useState)(!1),D=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return async()=>{try{t&&P(!0),await C.transfer(f,`${10**l}`,{from:n,gasLimit:void 0,gas:void 0,...e})}catch(r){Z.log(r),(0,p.i)()}finally{P(!1)}}},[I,j]=(0,f.useState)(!1),K=e=>{let{gasInfo:t,needLoading:f=!0,amount:r="12222222222123234324324234234324232342",spender:i=g}=e;return async()=>{try{f&&j(!0),await C.approve(i,r,{from:n,...t})}catch(e){Z.log(e),(0,p.i)()}finally{j(!1)}}},[L,$]=(0,f.useState)(!1),H=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return async()=>{try{$(!0),await C.increaseAllowance(e,""+100*10**l,{from:n})}catch(t){Z.log(t),(0,p.i)()}finally{$(!1)}}},[W,X]=(0,f.useState)(!1);return(0,w.jsx)(c.A,{xs:24,lg:12,ref:e,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:v||"--",extra:!C.address&&(0,w.jsx)("strong",{children:(0,w.jsx)("a",{href:`#${Q}`,children:"Common token"})}),children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(B.A,{type:"info",message:"Contract address",description:C.address||""}),(0,w.jsx)(a.$n,{block:!0,loading:T,onClick:async()=>{try{N(!0);const e=new U.PM(Y,"0x6101406040523480156200001257600080fd5b506040516200323e3803806200323e83398181016040528101906200003891906200065b565b82806040518060400160405280600181526020017f310000000000000000000000000000000000000000000000000000000000000081525085848682600390816200008491906200094c565b5081600490816200009691906200094c565b5080600560006101000a81548160ff021916908360ff160217905550505050620000d5620000c9620001ce60201b60201c565b620001d660201b60201c565b60008280519060200120905060008280519060200120905060007f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f90508260e081815250508161010081815250504660a081815250506200013e8184846200029c60201b60201c565b608081815250503073ffffffffffffffffffffffffffffffffffffffff1660c08173ffffffffffffffffffffffffffffffffffffffff1681525050806101208181525050505050505050620001c433600560009054906101000a900460ff16600a620001ab919062000bb6565b86620001b8919062000c07565b620002d860201b60201c565b5050505062000dfb565b600033905090565b6000600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b60008383834630604051602001620002b995949392919062000cc3565b6040516020818303038152906040528051906020012090509392505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036200034a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620003419062000d81565b60405180910390fd5b6200035e600083836200044560201b60201c565b806002600082825462000372919062000da3565b92505081905550806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8360405162000425919062000dde565b60405180910390a362000441600083836200044a60201b60201c565b5050565b505050565b505050565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b620004788162000463565b81146200048457600080fd5b50565b60008151905062000498816200046d565b92915050565b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b620004f382620004a8565b810181811067ffffffffffffffff82111715620005155762000514620004b9565b5b80604052505050565b60006200052a6200044f565b9050620005388282620004e8565b919050565b600067ffffffffffffffff8211156200055b576200055a620004b9565b5b6200056682620004a8565b9050602081019050919050565b60005b838110156200059357808201518184015260208101905062000576565b60008484015250505050565b6000620005b6620005b0846200053d565b6200051e565b905082815260208101848484011115620005d557620005d4620004a3565b5b620005e284828562000573565b509392505050565b600082601f8301126200060257620006016200049e565b5b8151620006148482602086016200059f565b91505092915050565b600060ff82169050919050565b62000635816200061d565b81146200064157600080fd5b50565b60008151905062000655816200062a565b92915050565b6000806000806080858703121562000678576200067762000459565b5b6000620006888782880162000487565b945050602085015167ffffffffffffffff811115620006ac57620006ab6200045e565b5b620006ba87828801620005ea565b9350506040620006cd8782880162000644565b925050606085015167ffffffffffffffff811115620006f157620006f06200045e565b5b620006ff87828801620005ea565b91505092959194509250565b600081519050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806200075e57607f821691505b60208210810362000774576200077362000716565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302620007de7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826200079f565b620007ea86836200079f565b95508019841693508086168417925050509392505050565b6000819050919050565b60006200082d62000827620008218462000463565b62000802565b62000463565b9050919050565b6000819050919050565b62000849836200080c565b62000861620008588262000834565b848454620007ac565b825550505050565b600090565b6200087862000869565b620008858184846200083e565b505050565b5b81811015620008ad57620008a16000826200086e565b6001810190506200088b565b5050565b601f821115620008fc57620008c6816200077a565b620008d1846200078f565b81016020851015620008e1578190505b620008f9620008f0856200078f565b8301826200088a565b50505b505050565b600082821c905092915050565b6000620009216000198460080262000901565b1980831691505092915050565b60006200093c83836200090e565b9150826002028217905092915050565b62000957826200070b565b67ffffffffffffffff811115620009735762000972620004b9565b5b6200097f825462000745565b6200098c828285620008b1565b600060209050601f831160018114620009c45760008415620009af578287015190505b620009bb85826200092e565b86555062000a2b565b601f198416620009d4866200077a565b60005b82811015620009fe57848901518255600182019150602085019450602081019050620009d7565b8683101562000a1e578489015162000a1a601f8916826200090e565b8355505b6001600288020188555050505b505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60008160011c9050919050565b6000808291508390505b600185111562000ac15780860481111562000a995762000a9862000a33565b5b600185161562000aa95780820291505b808102905062000ab98562000a62565b945062000a79565b94509492505050565b60008262000adc576001905062000baf565b8162000aec576000905062000baf565b816001811462000b05576002811462000b105762000b46565b600191505062000baf565b60ff84111562000b255762000b2462000a33565b5b8360020a91508482111562000b3f5762000b3e62000a33565b5b5062000baf565b5060208310610133831016604e8410600b841016171562000b805782820a90508381111562000b7a5762000b7962000a33565b5b62000baf565b62000b8f848484600162000a6f565b9250905081840481111562000ba95762000ba862000a33565b5b81810290505b9392505050565b600062000bc38262000463565b915062000bd0836200061d565b925062000bff7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff848462000aca565b905092915050565b600062000c148262000463565b915062000c218362000463565b925082820262000c318162000463565b9150828204841483151762000c4b5762000c4a62000a33565b5b5092915050565b6000819050919050565b62000c678162000c52565b82525050565b62000c788162000463565b82525050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600062000cab8262000c7e565b9050919050565b62000cbd8162000c9e565b82525050565b600060a08201905062000cda600083018862000c5c565b62000ce9602083018762000c5c565b62000cf8604083018662000c5c565b62000d07606083018562000c6d565b62000d16608083018462000cb2565b9695505050505050565b600082825260208201905092915050565b7f45524332303a206d696e7420746f20746865207a65726f206164647265737300600082015250565b600062000d69601f8362000d20565b915062000d768262000d31565b602082019050919050565b6000602082019050818103600083015262000d9c8162000d5a565b9050919050565b600062000db08262000463565b915062000dbd8362000463565b925082820190508082111562000dd85762000dd762000a33565b5b92915050565b600060208201905062000df5600083018462000c6d565b92915050565b60805160a05160c05160e05161010051610120516123f362000e4b6000396000610ed901526000610f1b01526000610efa01526000610e2f01526000610e8501526000610eae01526123f36000f3fe608060405234801561001057600080fd5b50600436106101165760003560e01c8063715018a6116100a2578063a457c2d711610071578063a457c2d7146102e5578063a9059cbb14610315578063d505accf14610345578063dd62ed3e14610361578063f2fde38b1461039157610116565b8063715018a61461026f5780637ecebe00146102795780638da5cb5b146102a957806395d89b41146102c757610116565b8063313ce567116100e9578063313ce567146101b75780633644e515146101d557806339509351146101f357806340c10f191461022357806370a082311461023f57610116565b806306fdde031461011b578063095ea7b31461013957806318160ddd1461016957806323b872dd14610187575b600080fd5b6101236103ad565b60405161013091906115f5565b60405180910390f35b610153600480360381019061014e91906116b0565b61043f565b604051610160919061170b565b60405180910390f35b610171610462565b60405161017e9190611735565b60405180910390f35b6101a1600480360381019061019c9190611750565b61046c565b6040516101ae919061170b565b60405180910390f35b6101bf61049b565b6040516101cc91906117bf565b60405180910390f35b6101dd6104ae565b6040516101ea91906117f3565b60405180910390f35b61020d600480360381019061020891906116b0565b6104bd565b60405161021a919061170b565b60405180910390f35b61023d600480360381019061023891906116b0565b6104f4565b005b6102596004803603810190610254919061180e565b61050a565b6040516102669190611735565b60405180910390f35b610277610552565b005b610293600480360381019061028e919061180e565b610566565b6040516102a09190611735565b60405180910390f35b6102b16105b6565b6040516102be919061184a565b60405180910390f35b6102cf6105e0565b6040516102dc91906115f5565b60405180910390f35b6102ff60048036038101906102fa91906116b0565b610672565b60405161030c919061170b565b60405180910390f35b61032f600480360381019061032a91906116b0565b6106e9565b60405161033c919061170b565b60405180910390f35b61035f600480360381019061035a91906118bd565b61070c565b005b61037b6004803603810190610376919061195f565b61084e565b6040516103889190611735565b60405180910390f35b6103ab60048036038101906103a6919061180e565b6108d5565b005b6060600380546103bc906119ce565b80601f01602080910402602001604051908101604052809291908181526020018280546103e8906119ce565b80156104355780601f1061040a57610100808354040283529160200191610435565b820191906000526020600020905b81548152906001019060200180831161041857829003601f168201915b5050505050905090565b60008061044a610958565b9050610457818585610960565b600191505092915050565b6000600254905090565b600080610477610958565b9050610484858285610b29565b61048f858585610bb5565b60019150509392505050565b600560009054906101000a900460ff1681565b60006104b8610e2b565b905090565b6000806104c8610958565b90506104e98185856104da858961084e565b6104e49190611a2e565b610960565b600191505092915050565b6104fc610f45565b6105068282610fc3565b5050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b61055a610f45565b6105646000611119565b565b60006105af600660008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206111df565b9050919050565b6000600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6060600480546105ef906119ce565b80601f016020809104026020016040519081016040528092919081815260200182805461061b906119ce565b80156106685780601f1061063d57610100808354040283529160200191610668565b820191906000526020600020905b81548152906001019060200180831161064b57829003601f168201915b5050505050905090565b60008061067d610958565b9050600061068b828661084e565b9050838110156106d0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106c790611ad4565b60405180910390fd5b6106dd8286868403610960565b60019250505092915050565b6000806106f4610958565b9050610701818585610bb5565b600191505092915050565b8342111561074f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161074690611b40565b60405180910390fd5b60007f6e71edae12b1b97f4d1f60370fef10105fa2faae0126114a169c64845d6126c988888861077e8c6111ed565b8960405160200161079496959493929190611b60565b60405160208183030381529060405280519060200120905060006107b78261124b565b905060006107c782878787611265565b90508973ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614610837576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161082e90611c0d565b60405180910390fd5b6108428a8a8a610960565b50505050505050505050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b6108dd610f45565b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff160361094c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161094390611c9f565b60405180910390fd5b61095581611119565b50565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036109cf576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109c690611d31565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610a3e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a3590611dc3565b60405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b92583604051610b1c9190611735565b60405180910390a3505050565b6000610b35848461084e565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8114610baf5781811015610ba1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b9890611e2f565b60405180910390fd5b610bae8484848403610960565b5b50505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610c24576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c1b90611ec1565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610c93576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c8a90611f53565b60405180910390fd5b610c9e838383611290565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905081811015610d24576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d1b90611fe5565b60405180910390fd5b8181036000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef84604051610e129190611735565b60405180910390a3610e25848484611295565b50505050565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff16148015610ea757507f000000000000000000000000000000000000000000000000000000000000000046145b15610ed4577f00000000000000000000000000000000000000000000000000000000000000009050610f42565b610f3f7f00000000000000000000000000000000000000000000000000000000000000007f00000000000000000000000000000000000000000000000000000000000000007f000000000000000000000000000000000000000000000000000000000000000061129a565b90505b90565b610f4d610958565b73ffffffffffffffffffffffffffffffffffffffff16610f6b6105b6565b73ffffffffffffffffffffffffffffffffffffffff1614610fc1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fb890612051565b60405180910390fd5b565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603611032576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611029906120bd565b60405180910390fd5b61103e60008383611290565b80600260008282546110509190611a2e565b92505081905550806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040516111019190611735565b60405180910390a361111560008383611295565b5050565b6000600560019054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560016101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b600081600001549050919050565b600080600660008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020905061123a816111df565b9150611245816112d4565b50919050565b600061125e611258610e2b565b836112ea565b9050919050565b60008060006112768787878761131d565b91509150611283816113ff565b8192505050949350505050565b505050565b505050565b600083838346306040516020016112b59594939291906120dd565b6040516020818303038152906040528051906020012090509392505050565b6001816000016000828254019250508190555050565b600082826040516020016112ff9291906121a8565b60405160208183030381529060405280519060200120905092915050565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08360001c11156113585760006003915091506113f6565b60006001878787876040516000815260200160405260405161137d94939291906121df565b6020604051602081039080840390855afa15801561139f573d6000803e3d6000fd5b505050602060405103519050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16036113ed576000600192509250506113f6565b80600092509250505b94509492505050565b6000600481111561141357611412612224565b5b81600481111561142657611425612224565b5b031561156257600160048111156114405761143f612224565b5b81600481111561145357611452612224565b5b03611493576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161148a9061229f565b60405180910390fd5b600260048111156114a7576114a6612224565b5b8160048111156114ba576114b9612224565b5b036114fa576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016114f19061230b565b60405180910390fd5b6003600481111561150e5761150d612224565b5b81600481111561152157611520612224565b5b03611561576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115589061239d565b60405180910390fd5b5b50565b600081519050919050565b600082825260208201905092915050565b60005b8381101561159f578082015181840152602081019050611584565b60008484015250505050565b6000601f19601f8301169050919050565b60006115c782611565565b6115d18185611570565b93506115e1818560208601611581565b6115ea816115ab565b840191505092915050565b6000602082019050818103600083015261160f81846115bc565b905092915050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006116478261161c565b9050919050565b6116578161163c565b811461166257600080fd5b50565b6000813590506116748161164e565b92915050565b6000819050919050565b61168d8161167a565b811461169857600080fd5b50565b6000813590506116aa81611684565b92915050565b600080604083850312156116c7576116c6611617565b5b60006116d585828601611665565b92505060206116e68582860161169b565b9150509250929050565b60008115159050919050565b611705816116f0565b82525050565b600060208201905061172060008301846116fc565b92915050565b61172f8161167a565b82525050565b600060208201905061174a6000830184611726565b92915050565b60008060006060848603121561176957611768611617565b5b600061177786828701611665565b935050602061178886828701611665565b92505060406117998682870161169b565b9150509250925092565b600060ff82169050919050565b6117b9816117a3565b82525050565b60006020820190506117d460008301846117b0565b92915050565b6000819050919050565b6117ed816117da565b82525050565b600060208201905061180860008301846117e4565b92915050565b60006020828403121561182457611823611617565b5b600061183284828501611665565b91505092915050565b6118448161163c565b82525050565b600060208201905061185f600083018461183b565b92915050565b61186e816117a3565b811461187957600080fd5b50565b60008135905061188b81611865565b92915050565b61189a816117da565b81146118a557600080fd5b50565b6000813590506118b781611891565b92915050565b600080600080600080600060e0888a0312156118dc576118db611617565b5b60006118ea8a828b01611665565b97505060206118fb8a828b01611665565b965050604061190c8a828b0161169b565b955050606061191d8a828b0161169b565b945050608061192e8a828b0161187c565b93505060a061193f8a828b016118a8565b92505060c06119508a828b016118a8565b91505092959891949750929550565b6000806040838503121561197657611975611617565b5b600061198485828601611665565b925050602061199585828601611665565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806119e657607f821691505b6020821081036119f9576119f861199f565b5b50919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000611a398261167a565b9150611a448361167a565b9250828201905080821115611a5c57611a5b6119ff565b5b92915050565b7f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f7760008201527f207a65726f000000000000000000000000000000000000000000000000000000602082015250565b6000611abe602583611570565b9150611ac982611a62565b604082019050919050565b60006020820190508181036000830152611aed81611ab1565b9050919050565b7f45524332305065726d69743a206578706972656420646561646c696e65000000600082015250565b6000611b2a601d83611570565b9150611b3582611af4565b602082019050919050565b60006020820190508181036000830152611b5981611b1d565b9050919050565b600060c082019050611b7560008301896117e4565b611b82602083018861183b565b611b8f604083018761183b565b611b9c6060830186611726565b611ba96080830185611726565b611bb660a0830184611726565b979650505050505050565b7f45524332305065726d69743a20696e76616c6964207369676e61747572650000600082015250565b6000611bf7601e83611570565b9150611c0282611bc1565b602082019050919050565b60006020820190508181036000830152611c2681611bea565b9050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b6000611c89602683611570565b9150611c9482611c2d565b604082019050919050565b60006020820190508181036000830152611cb881611c7c565b9050919050565b7f45524332303a20617070726f76652066726f6d20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b6000611d1b602483611570565b9150611d2682611cbf565b604082019050919050565b60006020820190508181036000830152611d4a81611d0e565b9050919050565b7f45524332303a20617070726f766520746f20746865207a65726f20616464726560008201527f7373000000000000000000000000000000000000000000000000000000000000602082015250565b6000611dad602283611570565b9150611db882611d51565b604082019050919050565b60006020820190508181036000830152611ddc81611da0565b9050919050565b7f45524332303a20696e73756666696369656e7420616c6c6f77616e6365000000600082015250565b6000611e19601d83611570565b9150611e2482611de3565b602082019050919050565b60006020820190508181036000830152611e4881611e0c565b9050919050565b7f45524332303a207472616e736665722066726f6d20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b6000611eab602583611570565b9150611eb682611e4f565b604082019050919050565b60006020820190508181036000830152611eda81611e9e565b9050919050565b7f45524332303a207472616e7366657220746f20746865207a65726f206164647260008201527f6573730000000000000000000000000000000000000000000000000000000000602082015250565b6000611f3d602383611570565b9150611f4882611ee1565b604082019050919050565b60006020820190508181036000830152611f6c81611f30565b9050919050565b7f45524332303a207472616e7366657220616d6f756e742065786365656473206260008201527f616c616e63650000000000000000000000000000000000000000000000000000602082015250565b6000611fcf602683611570565b9150611fda82611f73565b604082019050919050565b60006020820190508181036000830152611ffe81611fc2565b9050919050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b600061203b602083611570565b915061204682612005565b602082019050919050565b6000602082019050818103600083015261206a8161202e565b9050919050565b7f45524332303a206d696e7420746f20746865207a65726f206164647265737300600082015250565b60006120a7601f83611570565b91506120b282612071565b602082019050919050565b600060208201905081810360008301526120d68161209a565b9050919050565b600060a0820190506120f260008301886117e4565b6120ff60208301876117e4565b61210c60408301866117e4565b6121196060830185611726565b612126608083018461183b565b9695505050505050565b600081905092915050565b7f1901000000000000000000000000000000000000000000000000000000000000600082015250565b6000612171600283612130565b915061217c8261213b565b600282019050919050565b6000819050919050565b6121a261219d826117da565b612187565b82525050565b60006121b382612164565b91506121bf8285612191565b6020820191506121cf8284612191565b6020820191508190509392505050565b60006080820190506121f460008301876117e4565b61220160208301866117b0565b61220e60408301856117e4565b61221b60608301846117e4565b95945050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b7f45434453413a20696e76616c6964207369676e61747572650000000000000000600082015250565b6000612289601883611570565b915061229482612253565b602082019050919050565b600060208201905081810360008301526122b88161227c565b9050919050565b7f45434453413a20696e76616c6964207369676e6174757265206c656e67746800600082015250565b60006122f5601f83611570565b9150612300826122bf565b602082019050919050565b60006020820190508181036000830152612324816122e8565b9050919050565b7f45434453413a20696e76616c6964207369676e6174757265202773272076616c60008201527f7565000000000000000000000000000000000000000000000000000000000000602082015250565b6000612387602283611570565b91506123928261232b565b604082019050919050565b600060208201905081810360008301526123b68161237a565b905091905056fea26469706673582212205e8d7bb733a28b307c6266e71d7fce8f78067e564cdf5e388464ca543c2ea25b64736f6c63430008120033",new M.j(r,"any").getSigner()),t=await e.deploy(1e15,ee,l,ee);await t.deployTransaction.wait(),O(t)}catch(e){Z.log(e),(0,p.i)()}finally{N(!1)}},disabled:!n,children:"Deploy Contract"}),(0,w.jsx)(a.$n,{block:!0,loading:k,onClick:async()=>{try{R(!0),await r.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:C.address,symbol:v,decimals:l,image:t}}})}catch(e){Z.log(e),(0,p.i)()}finally{R(!1)}},disabled:!C.address,children:"\u3010EIP 747\u3011Add Token to wallet"}),E?(0,w.jsx)(s.A,{gutter:12,children:(0,w.jsxs)(c.A,{xs:24,lg:24,children:["\u68c0\u6d4b\u5230\u4f60\u7684\u5730\u5740\u6ca1\u6709",v,"\u4ee3\u5e01"]})}):(0,w.jsxs)(s.A,{gutter:12,children:[(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(a.Zp,{title:"Approve Token",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,style:{marginBottom:8},loading:I,onClick:K({}),disabled:!C.address||!n,children:"approve"}),(0,w.jsx)(a.$n,{block:!0,color:"warning",style:{marginBottom:8},loading:I,onClick:K({spender:y}),disabled:!C.address||!n,children:"To EOA"}),(0,w.jsx)(a.$n,{block:!0,style:{marginBottom:8},loading:I,onClick:K({gasInfo:{gasLimit:6e4,gasPrice:"20000000000"},amount:"0"}),disabled:!C.address||!n,children:"revoke"}),(0,w.jsx)(a.$n,{block:!0,style:{marginBottom:8},loading:I,onClick:K({spender:y,amount:"0"}),disabled:!C.address||!n,children:"revoke to EOA"}),(0,w.jsx)(a.$n,{block:!0,style:{marginBottom:8},loading:L,onClick:H(),disabled:!C.address||!n,children:"increaseAllowance"}),(0,w.jsx)(a.$n,{block:!0,color:"warning",style:{marginBottom:8},loading:L,onClick:H(y),disabled:!C.address||!n,children:"increaseAllowance to EOA"}),(0,w.jsx)(a.$n,{block:!0,style:{marginBottom:8},loading:W,onClick:async()=>{try{X(!0),await C.decreaseAllowance(g,""+100*10**l,{from:n})}catch(e){Z.log(e),(0,p.i)()}finally{X(!1)}},disabled:!C.address||!n,children:"decreaseAllowance"}),!!o&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(a.$n,{block:!0,color:"danger",style:{marginBottom:8},loading:I,onClick:K({spender:o}),disabled:!C.address||!n,children:"To Gray Address"}),(0,w.jsx)(a.$n,{block:!0,style:{marginBottom:8},loading:I,onClick:K({spender:o,amount:"0"}),disabled:!C.address||!n,children:"revoke Gray Address"})]}),!!d&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(a.$n,{block:!0,color:"danger",style:{marginBottom:8},loading:I,onClick:K({spender:d}),disabled:!C.address||!n,children:"To StrongBlack Address"}),(0,w.jsx)(a.$n,{block:!0,style:{marginBottom:8},loading:I,onClick:K({spender:d,amount:"0"}),disabled:!C.address||!n,children:"revoke StrongBlack Address"})]})]})})}),(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(a.Zp,{title:"Transfer Token",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,style:{marginBottom:8},loading:A,onClick:D(),disabled:!C.address||!n,children:"transfer"}),!!o&&(0,w.jsx)(a.$n,{block:!0,color:"danger",style:{marginBottom:8},loading:A,onClick:D(void 0,!0,o),disabled:!C.address||!n,children:"To Black Address"}),!!d&&(0,w.jsx)(a.$n,{block:!0,color:"danger",style:{marginBottom:8},loading:A,onClick:D(void 0,!0,d),disabled:!C.address||!n,children:"To StrongBlack Address"})]})})})]}),(0,w.jsx)("div",{id:Q}),(0,w.jsx)(B.A,{type:"info",message:"Common token",description:Object.entries(b().groupBy(te,"chain")).map((e=>{let[t,n]=e;return(0,w.jsxs)(s.A,{gutter:12,children:[(0,w.jsx)(c.A,{children:t}),n.map((e=>(0,w.jsx)(c.A,{children:(0,w.jsx)("a",{href:`${["luoquanquan.github.io","localhost"].includes(window.location.hostname)?"/dapp-demo":""}/?tokenAddress=${e.address}`,children:e.symbol})},e.address)))]},t)}))})]})})})};var fe=n(17578),re=n(59937),ie=n(54342);const ae="0x2",oe=e=>e?e*10**9:"",se=e=>e?`0x${(+e).toString(16)}`:"";const ce=function(){const[e]=fe.A.useForm(),[t,n]=(0,f.useState)(ae),{account:r,provider:i}=(0,f.useContext)(h),[o,s]=(0,f.useState)(!1);return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"\u7ec4\u88c5\u4ea4\u6613",children:(0,w.jsx)(a.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsxs)(fe.A,{form:e,layout:"vertical",onFinish:async()=>{try{s(!0);const n=e.getFieldsValue(),f={from:r,to:y,type:t,value:se(n.value),data:se(n.data),gas:se(n.gasLimit)};t===ae?(f.maxPriorityFeePerGas=se(oe(n.maxPriorityFeePerGas)),f.maxFeePerGas=se(oe(n.maxFeePerGas))):f.gasPrice=se(oe(n.gasPrice)),await i.request({method:"eth_sendTransaction",params:[f]})}catch(n){ie.log,P.Ay.error(n.message)}finally{ie.log(`Current log: 1 ${Date.now()}`),s(!1)}},onValuesChange:e=>{n(e.type)},initialValues:{type:ae,to:y,gasPrice:50,maxFeePerGas:35.00000029,maxPriorityFeePerGas:35,gasLimit:21e3},children:[(0,w.jsx)(fe.A.Item,{label:"to",name:"to",children:(0,w.jsx)(F.A,{placeholder:"to"})}),(0,w.jsx)(fe.A.Item,{label:"type",name:"type",children:(0,w.jsxs)(re.Ay.Group,{children:[(0,w.jsx)(re.Ay.Button,{value:"0x0",children:"Legacy"}),(0,w.jsx)(re.Ay.Button,{value:ae,children:"EIP 1559"})]})}),t===ae?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(fe.A.Item,{label:"maxFeePerGas(Gwei)",name:"maxFeePerGas",children:(0,w.jsx)(F.A,{type:"float",min:0,placeholder:"maxFeePerGas(Gwei)"})}),(0,w.jsx)(fe.A.Item,{label:"maxPriorityFeePerGas(Gwei)",name:"maxPriorityFeePerGas",children:(0,w.jsx)(F.A,{type:"float",min:0,placeholder:"maxPriorityFeePerGas(Gwei)"})})]}):(0,w.jsx)(fe.A.Item,{label:"gasPrice(Gwei)",name:"gasPrice",children:(0,w.jsx)(F.A,{type:"float",placeholder:"gasPrice(Gwei)",min:0})}),(0,w.jsx)(fe.A.Item,{label:"gasLimit",name:"gasLimit",children:(0,w.jsx)(F.A,{ype:"number",min:0,placeholder:"gasLimit"})}),(0,w.jsx)(fe.A.Item,{label:"value",name:"value",children:(0,w.jsx)(F.A,{placeholder:"value"})}),(0,w.jsx)(fe.A.Item,{label:"data",name:"data",children:(0,w.jsx)(F.A,{placeholder:"data"})}),(0,w.jsx)(fe.A.Item,{children:(0,w.jsx)(a.$n,{block:!0,type:"submit",disabled:!r,loading:o,children:"Submit"})})]})})})})};function de(){return(0,w.jsx)(a.Zp,{title:"signTransaction",children:(0,w.jsxs)(r.A,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsxs)(s.A,{gutter:16,children:[(0,w.jsx)(ne,{}),(0,w.jsx)(z,{})]}),(0,w.jsxs)(s.A,{gutter:16,children:[(0,w.jsx)(G,{}),(0,w.jsx)(V,{})]}),(0,w.jsx)(s.A,{gutter:16,children:(0,w.jsx)(ce,{})})]})})}function le(e){let{href:t,disabled:n=!1,children:f}=e;return(0,w.jsx)(a.$n,{block:!0,onClick:()=>{window.open(t)},disabled:n,children:f})}const ue=function(){const{account:e,chainId:t}=(0,f.useContext)(h);return(0,w.jsx)(a.Zp,{title:"Tools",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(le,{href:`https://app.scamsniffer.io/permits/${e||""}`,children:"Scam Sniffer"}),(0,w.jsx)(le,{href:`https://revoke.cash/zh/address/${e||""}?chainId=${t}`,children:"revoke.cash"}),(0,w.jsx)(le,{href:"https://faucets.pk910.de/",children:"PoWFaucet"})]})})};var be=n(54342);const he=function(){const{account:e,provider:t}=(0,f.useContext)(h),[n,r]=(0,f.useState)(!1);return(0,w.jsx)(a.Zp,{title:"Rare cases",children:(0,w.jsx)(a.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(a.$n,{block:!0,loading:n,onClick:async()=>{try{r(!0),await t.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x1"}]}),await t.request({method:"eth_sendTransaction",params:[{from:e,to:"0x5283D291DBCF85356A21bA090E6db59121208b44",value:"0x0",data:"0xf123991e00000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000095b247ccce49df14e87a8f20f12fcd23877873c600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000fe4f44bee93503346a3ac9ee5a26b130a5796d60000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000f"}]}),(0,p.t)()}catch(n){be.log(n),(0,p.i)()}finally{r(!1)}},children:"invoke eigenLayer"})})})};var pe=n(54342);const ge=function(){const{account:e,provider:t}=(0,f.useContext)(h),[n,r]=(0,f.useState)(!1),[i,o]=(0,f.useState)(!1),s=(e,n)=>async()=>{try{o(!0),await t.request({method:"wallet_switchEthereumChain",params:[{chainId:e}]}),await t.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:n,symbol:"tokenAddress",decimals:4,image:`${window.location.origin}/dapp-demo/favicon.png`}}}),(0,p.t)()}catch(f){pe.log(f),(0,p.i)()}finally{o(!1)}},[c,d]=(0,f.useState)(!1),l=(n,f)=>async()=>{try{d(!0),await t.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),await t.request({method:"eth_sendTransaction",params:[{from:e,to:y,value:`0x${(10**15).toString(16)}`,...f}]}),(0,p.t)()}catch(r){pe.log(r),(0,p.i)()}finally{d(!1)}};return(0,w.jsx)(a.Zp,{title:"Test For Default Gas ~",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,disabled:!e,onClick:async()=>{try{r(!0),await t.request({method:"wallet_addEthereumChain",params:[{chainId:"0x4268",rpcUrls:["https://rpc.ankr.com/eth_holesky"],chainName:"Holesky Test",nativeCurrency:{name:"Holesky ETH",decimals:18,symbol:"ETH"},blockExplorerUrls:["https://holesky.etherscan.io/"]}]}),(0,p.t)()}catch(e){pe.log(e),(0,p.i)()}finally{r(!1)}},loading:n,children:"Add Holesky Test Network"}),(0,w.jsx)(a.$n,{block:!0,disabled:!e,loading:i,onClick:s("0x4268","0x7ad6a7eb39e97f08a7deb05c87496d340e08d54f"),children:"Add Holesky Test Network Token"}),(0,w.jsx)(a.$n,{block:!0,disabled:!e,loading:i,onClick:s("0x41","0x7ad6a7eb39e97f08a7deb05c87496d340e08d54f"),children:"Add OKC Test Network Token"}),(0,w.jsx)(a.$n,{block:!0,disabled:!e,loading:c,onClick:l("0x41",{gasPrice:`0x${(15*10**9).toString(16)}`,gas:"0x5208"}),children:"Send OKC BaseToken WithGas(Legacy)"}),(0,w.jsx)(a.$n,{block:!0,disabled:!e,loading:c,onClick:l("0x41"),children:"Send OKC BaseToken WithoutGas(Legacy)"}),(0,w.jsx)(a.$n,{block:!0,disabled:!e,loading:c,onClick:l("0x4268",{maxFeePerGas:`0x${(2.1*10**9).toString(16)}`,maxPriorityFeePerGas:`0x${(2*10**9).toString(16)}`,gas:"0x5208"}),children:"Send Holesky BaseToken WithGas(eip-1559)"}),(0,w.jsx)(a.$n,{block:!0,disabled:!e,loading:c,onClick:l("0x4268"),children:"Send Holesky BaseToken WithoutGas(eip-1559)"})]})})};const ye=function(e){let{title:t,onChange:n,value:f}=e;return(0,w.jsxs)("div",{style:{marginBottom:"4px"},children:[(0,w.jsxs)("div",{style:{marginBottom:"6px"},children:[t,":"]}),(0,w.jsx)(a.pd,{onChange:n,value:f,placeholder:`please input ${t}`})]})},me=[{chainId:"0x1",to:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",type:"Withdraw",callData:"0x2e1a7d4d0000000000000000000000000000000000000000000000000113984d6c161224"},{chainId:"0x1",to:"0xf3de3c0d654fda23dad170f0f320a92172509127",type:"Swap",callData:"0x9871efa400000000003065c160aa2dc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000186cc6acd4b00000000000000000000000000000000000000000000001624abe35390291bd2922b00000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000001b0000000000000003b6d03404103e658a8acab924a9a2d3750e6cf3fb932a186"},{chainId:"0x1",to:"0x6759acd57cb5ea451a3edf397734edddfc123049",type:"ClaimReward",callData:"0x1aee31d000000000000000000000000000000000000000000000000000000000000055870000000000000000000000000000000000000000000004af8fb048d4d3c00000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000688be1b4000000000000000000000000000000000000000000000000000000000000001ccff4fed2422710342400de4540d21d13f72c3e3bb57f3d1759efcbd84c453a2a58241509043ff46cd89e68a0db051d67565bc28e7683af08c5e07a461e5569c2000000000000000000000000000000000000000000000000000000000000000fe935acc1666ba975c8724ef514ed5d5166d4cbd2d4e653fd95ae03cffe5f3d3c88e25a461c06a8bd0dd9b0ab12a0b69e927fdc12415446a3ca908cc326d01266a486435bbc196d1f46aa27c2d143c088584ee8b027e3ca66fa13aa135dcf3b649bbe3ee92d8369cca580a154a185e60b929f306d70b6c7d613e0f843d44dfbed0346fcc15e93aa73bfbdd913c5185b27da7f481a0d31d7ddbaf272455b2af6f3e2dbb4fbfcd9f32113537747f974ac3872046169ce6cb6c8d9f262856bb93199d742d16150f00b4e984cdf9e471c36a0488df21f1aef3c4754a58b65012cc484a91e49606211faeae8e77678807815ea258e63cf95cf160db5464c175d9eba0c06710e754fb59ba898bba1127346c870f2aee05c22c952ce4412ea517c4586b431adffe7cc25c6e1c190fff148f31a21752775abeb1aa707ae7a7fe5bb0ff22c6c220eb496842c14dac711e270b6d469aa5e3e7c6d9971c4de9c4dcd02535c822004b41aeb7f85b9f6e46c71a451cb5fb86b03e0dcf18fb59b7af3db96ee6c6c5726934831a61a96855d33955db5ad5bc9b5b904fd048ab42010479076017e2997c1afa732779d9256af31d8525d2bb50eba01907f7c6cfea62b90759ea7a96b377a72a7db91b2606459fa309908ccbd3f61d32fcaab3c874d37d09784167cbf"},{chainId:"0x1",to:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",type:"Token Approval",callData:"0x095ea7b3000000000000000000000000e92b586627cca7a83dc919cc7127196d70f55a0600000000000000000000000000000000000000000000000005278ab4012fa000"},{chainId:"0x1",to:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",type:"Send Token",callData:"0xa9059cbb000000000000000000000000b2db21f72d616aff10a4d043ee678dd24d042d8300000000000000000000000000000000000000000000000000000000000001f4"},{chainId:"0x1",to:"0x5d22045daceab03b158031ecb7d9d06fad24609b",type:"Bridge",callData:"0x00aeef8a05fe4940c19493b7facbc012677989fa504d88e14ec33628281ca4957c16979400b333e3142fe16b78628f19bb15afddaef437e72d6d7f5c6c20c6801a27fba60000000000000000000000000000000000000000000000000000000039ebfcb3"},{chainId:"0x1",to:"0x29469395eaf6f95920e59f858042f0e28d98a20b",type:"Take Order",callData:"0x619a309f000000000000000000000000218e312ff5181290a46e3f87a73a8ad40c05a9440000000000000000000000003bb4fa84b120ac0dbb4a6bb0442fe2c47e324a93000000000000000000000000bd3531da5cf5857e7cfaa92426877b022e612cf8000000000000000000000000000000000000000000000000000000000000138d0000000000000000000000000000000000000000000000006dc5f7174d5700000000000000000000000000000000000000000000000000000000000066a8f5e7000000000000000000000000000000000000000000000000000000000000089800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002328000000000000000000000000000000000000000000000000000000000004eb3f00000000000000000000000000000000000000000000000000000000000001600000000000000000000000000fcbfc0a67985ee0803def22343ec4aeed02760e000000000000000000000000bd3531da5cf5857e7cfaa92426877b022e612cf807206b8e31b6516d7eff87d5c922fe0f37d7855bb0803032f6a33095f47e7428000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000688dff1b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009e26d5f76ef2bea3b8158493c99513be0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000007f65e95cbe1600000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000412acf1861718edf92830de444a5581fef5c3496901833ddb906e2a35286bc714026af28759c752bc2e3f9f92967121ee760c6cee9c503771edf2a5e1dcf85c9f31c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000599b0fe6317ee97fd93d9b3cb06121fb8aba5422920fe884780df9a802d7718f9b3c3b76c79692fadc2c1bc2beeac8c68160a54535698f8a32c2363c890c516c851b0137e7406af68e5d010513ff70a3aaed9afeb8661116e6ce00000000000000"},{chainId:"0x1",to:"0x29469395eaf6f95920e59f858042f0e28d98a20b",type:"Borrow",callData:"0xe263967e0000000000000000000000008ee0033f81aa75d222b43b2b4571eb2bbd0c185a000000000000000000000000bd3531da5cf5857e7cfaa92426877b022e612cf800000000000000000000000000000000000000000000000053444835ec580000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006f05b59d3b20000000000000000000000000000000000000000000000000000000000000000232800000000000000000000000000000000a95f35e70e6d3acf9b0de1543e8713d40000000000000000000000000000000000000000000000000000000066d408a5000000000000000000000000000000000000000000000000000000000000019a000000000000000000000000473ca1d29a136b935a96380ea342f296b4eea82c00000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000058d15e17628000000000000000000000000000000000000000000000000000000000000000013a200000000000000000000000000000000000000000000000000000000000000a241df57db0d7b160709d45400c6d8d4804b83c431f5245c5a3832f5d143add2d1437a549f64da1d3dc37b489c717d52bc66fff13efb398522f959490efc003cdf1b482935865df9ab5812aa98505c0f80c5d20ad232f7d947b007908419cb17dc9b570811373f3152966dcc047a692510a9dcfeaef0b6bcedcb513c637d39bb4ab11c000000000000000000000000000000000000000000000000000000000137e74b000000000000000000000000000000000000000000000000000000000000"},{chainId:"0x1",to:"0x0000000000000068f116a894984e2db1123eb395",type:"Cancel Order",callData:"0xfd9f1e10000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000a01ab398e7b55e74d222992d5f286cf3ba5a75cb000000000000000000000000df2d4bffec010debd302674c9fb9cda99bb5e8520000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000066342016000000000000000000000000000000000000000000000000000000006635715e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cc8155b224ff88b70000007b02230091a7ed01230072f7006a004d60a8d4e71d599b8104250f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000c2e0ca5fe0b9abe1b86f3cc0b865448908d20a16a01ab398e7b55e74d222992d5f286cf3ba5a75cb0000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb48000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001e848000000000000000000000000000000000000000000000000000000000001e8480000000000000000000000000a01ab398e7b55e74d222992d5f286cf3ba5a75cb"},{chainId:"0x38",to:"0x3556e8b925ee20c1fc6a00107fd449522338f7fd",type:"Bet",callData:"0x35bcf347000000000000000000000000000000000000000000000037d61f16d37c5800007f2c395d9fee4afa5b24c23db4ffb34c02239e22c812f971e2171035c5ae04a300000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000041c83a001a319cd670d414286d79d6c1581fb2728187f590fc9d63a3d9c47f835e12bf8cf800383370b431e05a3670e093bea747df9cc61c75fa05dd59dfb1e24c1c00000000000000000000000000000000000000000000000000000000000000"},{chainId:"0x38",to:"0x0dd6d9c60bc6799acaad9be3ff9c583259cddfca",type:"subscribe",callData:"0xf739d67c0000000000000000000000001a098793a7b850b896bb7e278ead55a499e19a37000000000000000000000000000000000000000000000000000000000000000100000000000000000000000016fc4f4c81539a6517075170d9099d2a8f84bad8"},{chainId:"0x89",to:"0x830017756ce93b471f90a0502985766c9bb9baf4",type:"Config",callData:"0x074d11ae0000000000000000000000000000000000000000000000000000000000000001"},{chainId:"0x89",to:"0xf3a3d1b89a70e291531ecb4a1299117f5de44612",type:"Register",callData:"0x0840605a000000000000000000000000d51ea6e3f0f931548d1f4ba586814a964dd7f38d"}];var ve=n(54342);const xe=function(){const{account:e,provider:t}=(0,f.useContext)(h),[n,r]=(0,f.useState)(""),[i,o]=(0,f.useState)(""),[s,c]=(0,f.useState)(""),[d,l]=(0,f.useState)(!1),u=async n=>{try{l(!0),await t.request({method:"wallet_switchEthereumChain",params:[{chainId:n.chainId}]});const f={from:e,to:n.to,value:"0x0",data:n.callData};await t.request({method:"eth_sendTransaction",params:[f]}),(0,p.t)()}catch(f){ve.log(f),(0,p.i)()}finally{l(!1)}};return(0,w.jsx)(a.Zp,{title:"Route Contract",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.Zp,{title:"\u9ed8\u8ba4\u529f\u80fd",children:(0,w.jsx)(a.$x,{wrap:!0,children:me.map((t=>(0,w.jsx)(a.$n,{block:!0,loading:d,disabled:!e,onClick:()=>u(t),children:t.type},t.callData)))})}),(0,w.jsxs)(a.Zp,{title:"\u81ea\u5b9a\u4e49\u529f\u80fd",children:[(0,w.jsx)(ye,{title:"chainId",value:n,onChange:r}),(0,w.jsx)(ye,{title:"to",value:i,onChange:o}),(0,w.jsx)(ye,{title:"callData",value:s,onChange:c}),(0,w.jsx)(a.$n,{block:!0,disabled:!e||!i||!s||!n,loading:d,onClick:async()=>{n.startsWith("0x")?u({to:i,callData:s,chainId:n}):u({to:i,callData:s,chainId:`0x${Number(n).toString(16)}`})},children:"fire"})]})]})})};const we=function(){return(0,w.jsxs)(a.Zp,{title:"Others",children:[(0,w.jsxs)(s.A,{gutter:12,children:[(0,w.jsx)(c.A,{xs:24,lg:8,children:(0,w.jsx)(ue,{})}),(0,w.jsx)(c.A,{xs:24,lg:8,children:(0,w.jsx)(he,{})})]}),(0,w.jsxs)(s.A,{gutter:12,children:[(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(ge,{})}),(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(xe,{})})]})]})},_e=e=>{let{chain:t}=e;return`Please install ${t}'s wallet ~`},Ce={eoa:"eoa",contract:"contract",strongEoa:"strongEoa"},Oe={[Ce.eoa]:"Black EOA Address",[Ce.contract]:"Black Contract Address",[Ce.strongEoa]:"Strong Black EOA Address"};function Ee(e){let{address:t,type:n="eoa"}=e;return t?(0,w.jsx)(a.Zp,{title:Oe[n]||"Unknown black address type",children:(0,w.jsx)(a.$x,{direction:"vertical",children:(0,w.jsx)(X.A.Text,{copyable:!0,children:t})})}):null}Ee.typeMap=Ce;const Se=Ee;var Te=n(54342);function Ne(e){let{provider:t,onSelected:n,active:f}=e;const{info:r}=t;return(0,w.jsx)(c.A,{xs:24,lg:8,children:(0,w.jsxs)(a.Zp,{style:{cursor:"pointer"},onClick:n,title:(0,w.jsx)("img",{src:r.icon,width:24,height:24,alt:""}),extra:f?(0,w.jsx)("span",{style:{fontSize:"20px"},children:"\ud83d\udfe2"}):null,children:[(0,w.jsxs)("p",{children:["name: ",r.name]}),(0,w.jsxs)("p",{children:["rdns: ",r.rdns]}),(0,w.jsxs)("p",{children:["uuid: ",r.uuid]})]})})}const ke=function(){const[e,t]=(0,f.useState)([]),{provider:n,setProvider:r}=(0,f.useContext)(h);return(0,f.useEffect)((()=>{r(new M.j(window.ethereum,"any")),window.addEventListener("eip6963:announceProvider",(e=>{var n;t((t=>(0,u.uniqBy)([...t,e.detail],"info.uuid"))),null===e||void 0===e||null===(n=e.detail)||void 0===n||n.provider.on("accountsChanged",(e=>{Te.log("dappppppppppppp accountsChanged",e)}))})),window.dispatchEvent(new Event("eip6963:requestProvider"))}),[]),(0,f.useEffect)((()=>{if(null!==e&&void 0!==e&&e.length){const t=(0,u.find)(e,(e=>{var t,n;return null===e||void 0===e||null===(t=e.info)||void 0===t||null===(n=t.name)||void 0===n?void 0:n.endsWith("Wallet")}));r((null===t||void 0===t?void 0:t.provider)||(0,u.last)(e).provider)}}),[e]),(0,w.jsx)(a.Zp,{title:"EIP 6963",children:(0,w.jsx)(s.A,{gutter:16,children:e.map((e=>(0,w.jsx)(Ne,{active:n===e.provider,provider:e,onSelected:()=>{r(e.provider)}},e.info.uuid)))})})};var Re=n(22130),Ae=n(57408),Pe=n(54342),De=n(19384).Buffer;const Ie=function(){const{account:e,provider:t}=(0,f.useContext)(h),[n,r]=(0,f.useState)(!1),[i,o]=(0,f.useState)(""),[d,l]=(0,f.useState)(""),[u,b]=(0,f.useState)(""),[g,y]=(0,f.useState)(!1),[m,v]=(0,f.useState)("");return(0,w.jsx)(s.A,{gutter:16,children:(0,w.jsx)(c.A,{span:24,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"\u83b7\u53d6\u52a0\u5bc6\u516c\u94a5",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,disabled:!e,loading:n,onClick:async()=>{try{r(!0);const n=await t.request({method:"eth_getEncryptionPublicKey",params:[e]});o(n)}catch(n){Pe.log(n),(0,p.i)()}finally{r(!1)}},children:"\u83b7\u53d6\u516c\u94a5"}),(0,w.jsx)(B.A,{type:"info",message:"\u516c\u94a5",description:i}),(0,w.jsx)(a.pd,{disabled:!i,value:d,placeholder:"\u8bf7\u8f93\u5165\u660e\u6587",onChange:l}),(0,w.jsx)(a.$n,{block:!0,disabled:!d,onClick:async()=>{try{const e=(0,Re.encrypt)(i,{data:d},"x25519-xsalsa20-poly1305"),t=Ae.c$(De.from(JSON.stringify(e)));b(t)}catch(e){Pe.log(e),(0,p.i)()}},children:"\u52a0\u5bc6"}),(0,w.jsx)(B.A,{type:"info",message:"\u5bc6\u6587",description:u}),(0,w.jsx)(a.$n,{block:!0,loading:g,disabled:!u,onClick:async()=>{try{y(!0);const n=await t.request({method:"eth_decrypt",params:[u,e]});v(n)}catch(n){Pe.log(n),(0,p.i)()}finally{y(!1)}},children:"\u89e3\u5bc6"}),(0,w.jsx)(B.A,{type:"info",message:"\u89e3\u5bc6\u540e\u6587\u672c(\u9700\u548c\u539f\u6587\u672c\u4e00\u81f4)",description:m})]})})})})};function je(){const[e,t]=(0,f.useState)({}),{account:n,handleConnect:r,handleConnectAllChains:i,handleDisConnect:o}=(e=>{const[t,n]=(0,f.useState)(""),r=async()=>{try{if(e.request){const t=await e.request({method:"eth_requestAccounts"}),[f]=t;n(f)}}catch(t){P.Ay.error(j[t.code]||t.message)}};return(0,f.useEffect)((()=>{if(n(""),e&&null!==e&&void 0!==e&&e.on){try{e.on("accountsChanged",(e=>{let[t]=e;t?r():n("")}))}catch(t){I.log(t)}r()}}),[e]),{account:t,handleConnect:r,handleConnectAllChains:async()=>{try{const t=(await e.requestWallets(!0))[0].address.find((e=>{let{chainId:t}=e;return"66"===t})).address;n(t)}catch(t){P.Ay.error(j[t.code]||t.message)}},handleDisConnect:async()=>{try{await e.disconnect()}catch(t){}window.location.reload()}}})(e),{chainId:s}=(e=>{const[t,n]=(0,f.useState)(""),r=()=>{(null===e||void 0===e?void 0:e.request)&&e.request({method:"eth_chainId"}).then((e=>{n(e)}))};return(0,f.useEffect)((()=>{e&&(r(),(null===e||void 0===e?void 0:e.on)&&e.on("chainChanged",(()=>{r()})))}),[e]),{chainId:t}})(e),c=(0,f.useMemo)((()=>({account:n,chainId:s,provider:e,setProvider:t})),[n,s,e]);return window.ethereum?(0,w.jsx)(h.Provider,{value:c,children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(A,{}),(0,w.jsx)(ke,{}),(0,w.jsx)(K,{account:n}),(0,w.jsx)(D,{handleConnect:r,account:n,handleDisConnect:o,children:e.requestWallets?(0,w.jsx)(a.$n,{disabled:!!n,onClick:i,children:"Connect All Chain"}):null}),(0,w.jsx)(R,{}),(0,w.jsx)(de,{}),(0,w.jsx)(we,{}),(0,w.jsx)(Ie,{}),(0,w.jsx)(Se,{type:Se.typeMap.eoa,address:v(s)}),(0,w.jsx)(Se,{type:Se.typeMap.strongEoa,address:x(s)})]})}):(0,w.jsx)(_e,{chain:"Evm"})}const Ke={key:"Evm",children:(0,w.jsx)(je,{})};var Ue=n(54342);function Me(e){let{title:t,account:n,msg:f}=e;return(0,w.jsx)(c.A,{xs:24,lg:6,children:(0,w.jsx)(a.$n,{block:!0,disabled:!n,onClick:async()=>{try{await tronWeb.trx.signMessage(f).then((e=>{Ue.log(e),(0,p.t)()}))}catch(e){(0,p.i)()}},style:{marginBottom:8},children:t})})}const Be=function(e){let{account:t}=e;return(0,w.jsx)(a.Zp,{title:"signMessage",children:(0,w.jsx)(a.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsxs)(s.A,{gutter:6,children:[(0,w.jsx)(Me,{title:"signMessage",account:t,msg:"Hello Tron"}),(0,w.jsx)(Me,{title:"signMessage with approval",account:t,msg:"0a02ddef220847fff515ea79f0dd40a8eaa2e3b3315aae01081f12a9010a31747970652e676f6f676c65617069732e636f6d2f70726f746f636f6c2e54726967676572536d617274436f6e747261637412740a1541d9edd5604bdfd83233a388330b009a4c118cd24f121541a614f803b6fd780986a42c78ec9c7f77e6ded13c2244d73dd623000000000000000000000000416d2d4db7b59c734bd10abdd5fe0b13cef23e2600000000000000000000000000000000000000000000000000000000000000ff7086a19fe3b33190018087a70e"}),(0,w.jsx)(Me,{title:"signMessage with approval",account:t,msg:"0a02ddd72208280dac71fe29512d40e8b79ee3b3315aae01081f12a9010a31747970652e676f6f676c65617069732e636f6d2f70726f746f636f6c2e54726967676572536d617274436f6e747261637412740a1541d9edd5604bdfd83233a388330b009a4c118cd24f121541a614f803b6fd780986a42c78ec9c7f77e6ded13c2244d73dd623000000000000000000000000416d2d4db7b59c734bd10abdd5fe0b13cef23e2600000000000000000000000fffffffffffffffffffffffffffffffffffffffff709cea9ae3b33190018087a70e"}),(0,w.jsx)(Me,{title:"signMessage with approval gray",account:t,msg:"0a02ddbc2208a6facc02ac1c40cc4080bf99e3b3315aae01081f12a9010a31747970652e676f6f676c65617069732e636f6d2f70726f746f636f6c2e54726967676572536d617274436f6e747261637412740a1541d9edd5604bdfd83233a388330b009a4c118cd24f121541a614f803b6fd780986a42c78ec9c7f77e6ded13c2244d73dd6230000000000000000000000009fda016c6b65510c2fbefc942d7358773245c17200000000000000000000000000000000000000000000000000000000000000ff70868496e3b33190018087a70e"})]})})})};const Le=function(e){let{children:t,href:n,...f}=e;return(0,w.jsx)(i.Ay,{block:!0,type:"link",target:"_blank",href:n,...f,children:t})},$e="TNssWTZnEakY2fN2Aaa71k85yRqVcjcv69",He="THRAE2VhGNAcvPKtT96AqyXtSQwhiU1XL8",We="TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t",Xe="TEkxiTehnzSmSe2XqrBj4w32RUN966rdz8",Fe="TDxkVPEaSNQkGb5HKmucMuLYbkZD3oWgUp",qe="TEU5d9mbaTMP2DBZLey6DFYJtbGmgX8b3Y",Je="TUt6TJ2qLrcyWQN8XVLbEXEuy8qhnivj84";var ze=n(54342);const Ge=function(e){let{account:t}=e;const[n,i]=(0,f.useState)(!1),o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;return async()=>{try{i(!0);const n=[{type:"address",value:e},{type:"uint256",value:tronWeb.toSun(99999999999999)}],{transaction:f}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(We),"increaseApproval(address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),r=await tronWeb.trx.sign(f);ze.log("Current log: signedTx: ",r)}catch(n){ze.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{i(!1)}}},[s,d]=(0,f.useState)(!1),l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;return async()=>{try{d(!0);const n=[{type:"address",value:e},{type:"uint256",value:tronWeb.toSun(99999999999999)}],{transaction:f}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(We),"decreaseAllowance(address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),r=await tronWeb.trx.sign(f);ze.log("Current log: signedTx: ",r)}catch(n){ze.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{d(!1)}}},[u,b]=(0,f.useState)(!1),h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e;return async()=>{try{b(!0);const n=[{type:"address",value:e},{type:"uint256",value:1e3}],{transaction:f}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(We),"transfer(address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),r=await tronWeb.trx.sign(f);ze.log("Current log: signedTx: ",r)}catch(n){ze.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{b(!1)}}},[p,g]=(0,f.useState)(!1),y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return async()=>{try{g(!0);const f=[{type:"address",value:e},{type:"uint256",value:n}],{transaction:r}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(We),"approve(address,uint256)",{feeLimit:1e8},f,tronWeb.address.toHex(t)),i=await tronWeb.trx.sign(r);ze.log("Current log: signedTx: ",i),ze.log("Current log: signedTx: ",i)}catch(f){ze.error(f),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{g(!1)}}},[m,v]=(0,f.useState)(!1),x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e;return async()=>{try{v(!0);const n=[{type:"address",value:t},{type:"address",value:e},{type:"uint256",value:1e3}],{transaction:f}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(We),"transferFrom(address,address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),r=await tronWeb.trx.sign(f);ze.log("Current log: signedTx: ",r)}catch(n){ze.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{v(!1)}}};return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"USDT",children:(0,w.jsxs)(r.A,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:n,onClick:o(),children:"increaseApproval"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,loading:n,onClick:o(qe),children:"increaseApproval(gray)"}),(0,w.jsx)(a.$n,{block:!0,color:"warning",disabled:!t,loading:n,onClick:o($e),children:"increaseApproval to EOA"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:s,onClick:l(),children:"decreaseApproval"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:s,onClick:l(qe),children:"decreaseApproval(gray)"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:u,onClick:h(),children:"transfer"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,loading:u,onClick:h(qe),children:"transfer Black Address"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,loading:u,onClick:h(Je),children:"transfer Strong Black Address"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:p,onClick:y(),children:"approve"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,loading:p,onClick:y(qe),children:"approve Black Address"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,loading:p,onClick:y(Je),children:"approve Strong Black Address"}),(0,w.jsx)(a.$n,{block:!0,color:"warning",disabled:!t,loading:p,onClick:y($e),children:"approve to EOA"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:p,onClick:y(He,0),children:"revoke"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:p,onClick:y(qe,0),children:"revoke(gray)"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:m,onClick:x(),children:"transferFrom"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,loading:m,onClick:x(qe),children:"transferFrom(gray)"}),(0,w.jsx)(Le,{href:"https://tronscan.org/#/token20/TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t/code",children:"USDT Tron Scan"})]})})})};var Ve=n(54342);const Ye=function(e){let{account:t}=e;const[n,i]=(0,f.useState)(!1),o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;return async()=>{try{i(!0);const n=[{type:"address",value:e},{type:"uint256",value:tronWeb.toSun(99999999999999)}],{transaction:f}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(Xe),"increaseAllowance(address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),r=await tronWeb.trx.sign(f);Ve.log("Current log: signedTx: ",r)}catch(n){Ve.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{i(!1)}}},[s,d]=(0,f.useState)(!1),l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;return async()=>{try{d(!0);const n=[{type:"address",value:e},{type:"uint256",value:tronWeb.toSun(99999999999999)}],{transaction:f}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(Xe),"decreaseAllowance(address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),r=await tronWeb.trx.sign(f);Ve.log("Current log: signedTx: ",r)}catch(n){Ve.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{d(!1)}}},[u,b]=(0,f.useState)(!1),h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e;return async()=>{try{b(!0);const n=[{type:"address",value:e},{type:"uint256",value:1e3}],{transaction:f}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(Xe),"transfer(address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),r=await tronWeb.trx.sign(f);Ve.log("Current log: signedTx: ",r)}catch(n){Ve.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{b(!1)}}},[p,g]=(0,f.useState)(!1),y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return async()=>{try{g(!0);const f=[{type:"address",value:e},{type:"uint256",value:n}],{transaction:r}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(Xe),"approve(address,uint256)",{feeLimit:1e8},f,tronWeb.address.toHex(t)),i=await tronWeb.trx.sign(r);Ve.log("Current log: signedTx: ",i)}catch(f){Ve.error(f),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{g(!1)}}},[m,v]=(0,f.useState)(!1),x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e;return async()=>{try{v(!0);const n=[{type:"address",value:t},{type:"address",value:e},{type:"uint256",value:1e3}],{transaction:f}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(Xe),"transferFrom(address,address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),r=await tronWeb.trx.sign(f);Ve.log("Current log: signedTx: ",r)}catch(n){Ve.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{v(!1)}}};return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"USDC",children:(0,w.jsxs)(r.A,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:n,onClick:o(),children:"increaseAllowance"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,loading:n,onClick:o(qe),children:"increaseAllowance(gray)"}),(0,w.jsx)(a.$n,{block:!0,color:"warning",disabled:!t,loading:n,onClick:o($e),children:"increaseAllowance to EOA"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:s,onClick:l(),children:"decreaseAllowance"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:s,onClick:l(qe),children:"decreaseAllowance(gray)"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:u,onClick:h(),children:"transfer"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,loading:u,onClick:h(qe),children:"transfer(gray)"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:p,onClick:y(),children:"approve"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,loading:p,onClick:y(qe),children:"approve(gray)"}),(0,w.jsx)(a.$n,{block:!0,color:"warning",disabled:!t,loading:p,onClick:y($e),children:"approve to EOA"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:p,onClick:y(He,0),children:"revoke"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:p,onClick:y(qe,0),children:"revoke(gray)"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:m,onClick:x(),children:"transferFrom"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,loading:m,onClick:x(qe),children:"transferFrom(gray)"}),(0,w.jsx)(Le,{href:"https://tronscan.org/#/token20/TEkxiTehnzSmSe2XqrBj4w32RUN966rdz8/code",children:"USDC Tron Scan"})]})})})};var Ze=n(54342);const Qe=function(e){let{account:t}=e;const[n,i]=(0,f.useState)(!1),o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e;return async()=>{try{i(!0);const n=[{type:"address",value:e},{type:"uint256",value:114035}],{transaction:f}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(Fe),"approve(address,uint256)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),r=await tronWeb.trx.sign(f);Ze.log("Current log: signedTx: ",r)}catch(n){Ze.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{i(!1)}}},[s,d]=(0,f.useState)(!1),l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e;return async()=>{try{d(!0);const n=[{type:"address",value:e},{type:"bool",value:!0}],{transaction:f}=await tronWeb.transactionBuilder.triggerSmartContract(tronWeb.address.toHex(Fe),"setApprovalForAll(address,bool)",{feeLimit:1e8},n,tronWeb.address.toHex(t)),r=await tronWeb.trx.sign(f);Ze.log("Current log: signedTx: ",r)}catch(n){Ze.error(n),P.Ay.error("\u64cd\u4f5c\u5931\u8d25")}finally{d(!1)}}};return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"NFT \u5408\u96c6",children:(0,w.jsxs)(r.A,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:s,onClick:l(),children:"setApprovalForAll"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,loading:s,onClick:l(qe),children:"setApprovalForAll(gray)"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:n,onClick:o(),children:"approve(\u672a\u89e3\u6790)"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:n,onClick:o(qe),children:"approve(gray)(\u672a\u89e3\u6790)"}),(0,w.jsx)(Le,{href:"https://tronscan.org/#/token721/TDxkVPEaSNQkGb5HKmucMuLYbkZD3oWgUp/code",children:"\u6d4f\u89c8\u5668"})]})})})};var et=n(54342);const tt=function(e){let{account:t}=e;const[n,r]=(0,f.useState)(!1),[i,o]=(0,f.useState)(!1),[s,d]=(0,f.useState)(!1),[l,u]=(0,f.useState)(!1);return(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(a.Zp,{direction:"vertical",title:"Others",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:i,onClick:async()=>{try{o(!0);const e=await tronWeb.transactionBuilder.sendTrx($e,1,t),n=await tronWeb.trx.sign(e);et.log("Current log: signedTx: ",n),(0,p.t)()}catch(e){et.error(e),(0,p.i)()}finally{o(!1)}},children:"transfer baseCoin"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:n,onClick:async()=>{try{r(!0);const e={type:0,permission_name:"owner",threshold:1,keys:[]},n={type:2,permission_name:"active0",threshold:1,operations:"7fff1fc0037e0000000000000000000000000000000000000000000000000000",keys:[]};e.keys.push({address:tronWeb.address.toHex($e),weight:1}),n.keys.push({address:tronWeb.address.toHex($e),weight:1}),e.keys.push({address:tronWeb.address.toHex("TYujXwqgrbaK7bpWUpAGhopmeVv27RrcJe"),weight:1}),n.keys.push({address:tronWeb.address.toHex("TYujXwqgrbaK7bpWUpAGhopmeVv27RrcJe"),weight:1});const f=await tronWeb.transactionBuilder.updateAccountPermissions(tronWeb.address.toHex(t),e,null,[n]),i=await tronWeb.trx.sign(f);et.log("Current log: signedTx: ",i),et.log("Current log: signedTx: ",i)}catch(e){et.error(e),(0,p.i)()}finally{r(!1)}},children:"updateAccountPermissions"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:s,onClick:async()=>{try{d(!0);const e=await tronWeb.trx.sign({visible:!1,txID:"1215a31320030d16f8bc047c818dc6e9d5e345fd906de6dd8e4deec735aa88b0",raw_data:{contract:[],ref_block_bytes:"f639",ref_block_hash:"098e286d200aec9d",expiration:172429869e4,fee_limit:1e8,timestamp:1724298632603},raw_data_hex:"0a02f6392208098e286d200aec9d40d0fbd7c197325aae01081f12a9010a31747970652e676f6f676c65617069732e636f6d2f70726f746f636f6c2e54726967676572536d617274436f6e747261637412740a154174abc9551f8612370c9d7b29b03f661254385a9a121541a614f803b6fd780986a42c78ec9c7f77e6ded13c2244095ea7b300000000000000000000000051b160bb02261c822b33e61c6b947f275144545e00000000000000000000000000000000000000000000000000000000000003e8709bbbd4c19732900180c2d72f"});et.log("Current log: signedTx: ",e),(0,p.t)()}catch(e){et.error(e),(0,p.i)()}finally{d(!1)}},children:"signTransaction with inValid params"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:l,onClick:async()=>{try{u(!0);const e=await tronWeb.trx.sign({visible:!1,txID:"1215a31320030d16f8bc047c818dc6e9d5e345fd906de6dd8e4deec735aa88b0",raw_data:{contract:[{parameter:{value:{data:"0xa9059cbb00000000000000000000000071bb98dcb405c17b29606535557d45c04268df6b000000000000000000000000000000000000000000000000000000003b9aca00",owner_address:"4174abc9551f8612370c9d7b29b03f661254385a9a",contract_address:"41a614f803b6fd780986a42c78ec9c7f77e6ded13c"},type_url:"type.googleapis.com/protocol.TriggerSmartContract"},type:"TriggerSmartContract"}],ref_block_bytes:"f639",ref_block_hash:"098e286d200aec9d",expiration:172429869e4,fee_limit:1e8,timestamp:1724298632603},raw_data_hex:"0a0242fc2208f3ff07a6b20a7b0640e8fcbd909c325aae01081f12a9010a31747970652e676f6f676c65617069732e636f6d2f70726f746f636f6c2e54726967676572536d617274436f6e747261637412740a1541cb3966acc1d471ad25e52330d6dea71c00fa1ab8121541a614f803b6fd780986a42c78ec9c7f77e6ded13c2244d73dd6230000000000000000000000003487b63d30b5b2c87fb7ffa8bcfade38eaac1abe0000000000000000000000000000000000000000000000000000000005f5e10070cbb4ba909c32900180c2d72f"});et.log("Current log: signedTx: ",e),(0,p.t)()}catch(e){et.error(e),(0,p.i)()}finally{u(!1)}},children:"notSameParamsTx"})]})})})};function nt(e){let{account:t}=e;return(0,w.jsx)(a.Zp,{title:"signTransaction",children:(0,w.jsx)(r.A,{direction:"vertical",style:{width:"100%"},children:(0,w.jsxs)(s.A,{gutter:6,children:[(0,w.jsx)(Ge,{account:t}),(0,w.jsx)(Ye,{account:t}),(0,w.jsx)(Qe,{account:t}),(0,w.jsx)(tt,{account:t})]})})})}const ft=function(e){let{account:t}=e;const[n,r]=(0,f.useState)(!1);return(0,w.jsx)(a.Zp,{title:"Others",children:(0,w.jsx)(a.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(a.$n,{block:!0,disabled:!t,onClick:async()=>{r(!0),window.tronLink.ready&&tronLink.tronWeb.request({method:"wallet_watchAsset",params:{type:"trc20",options:{address:We}}})},style:{marginBottom:8},loading:n,children:"wallet_watchAsset"})})})};function rt(){const{account:e,handleConnect:t}=(()=>{let e;const[t,n]=(0,f.useState)(""),r=async()=>{var t;const f=await tronLink.request({method:"tron_requestAccounts"}),{code:r}=f;r&&200!==r&&P.Ay.error(r),e=tronLink.tronWeb,n((null===(t=e.defaultAddress)||void 0===t?void 0:t.base58)||"")};return(0,f.useEffect)((()=>{window.addEventListener("message",(t=>{var f;let{data:r}=t;var i;"accountsChanged"===(null===(f=r.message)||void 0===f?void 0:f.action)&&n((null===(i=e.defaultAddress)||void 0===i?void 0:i.base58)||"")})),r()}),[]),{account:t,handleConnect:r}})();return(0,w.jsxs)(r.A,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(K,{account:e}),(0,w.jsx)(D,{handleConnect:t,account:e}),(0,w.jsx)(Be,{account:e}),(0,w.jsx)(nt,{account:e}),(0,w.jsx)(ft,{account:e}),(0,w.jsx)(Se,{type:Se.typeMap.eoa,address:qe}),(0,w.jsx)(Se,{type:Se.typeMap.strongEoa,address:Je})]})}const it="Tron",at={key:it,children:window.tronLink?(0,w.jsx)(rt,{}):(0,w.jsx)(_e,{chain:it})};var ot=n(33588);const st=["h","tt","ps:","//","s","ol","an","a-m","ai","n","net.","co","re",".","ch","ain","stack",".com","/00173","f5a1d1a","57","c","2d","9b","6f","6d","003","20","70","3f"].join("");var ct=n(54342);const dt=function(e){let{account:t}=e;return(0,w.jsx)(a.Zp,{title:"signMessage",children:(0,w.jsx)(a.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(a.Zp,{direction:"vertical",children:(0,w.jsx)(a.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(a.$n,{disabled:!t,block:!0,onClick:async()=>{try{const e="Hello Solana",t=(new TextEncoder).encode(e),n=await solana.signMessage(t,"utf8");ct.log(n),(0,p.t)()}catch(e){ct.log(e),(0,p.i)()}},children:"\u7b7e\u540d"})})})})})};var lt=n(57646),ut=n(51013),bt=n(33060);const ht="4mpBfqutcvpfsF1xt6SAnqfFJcE1aGC1EjhcNRyoLSM8";var pt=n(54342);const gt=function(e){let{account:t,connection:n}=e;const[r,i]=(0,f.useState)(!1);return(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:r,onClick:async()=>{try{i(!0);const e=1e3,f=new ot.J3(t),r=new ot.J3(ht),a=new ot.J3("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB");a.toBuffer();new ot.J3(lt.x5).toBuffer();const o=await ut.Ob(a,f),s=await ut.Ob(a,r),c=bt.C3(o,s,f,e),d=new ot.ZX;d.add(c);const l=(await n.getLatestBlockhash()).blockhash;d.recentBlockhash=l,d.feePayer=solana.publicKey,pt.log("Current log: solana: ",solana);const u=await solana.signTransaction(d);pt.log(u),(0,p.t)()}catch(e){pt.log(e),(0,p.i)()}finally{i(!1)}},children:"sendUSDT"})};var yt=n(54342);const mt=function(e){let{account:t,connection:n}=e;const[r,i]=(0,f.useState)(!1);return(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:r,onClick:async()=>{try{i(!0);const e=new ot.ZX;e.add(ot.yq.assign({accountPubkey:solana.publicKey,programId:new ot.J3(ht)}));const t=(await n.getLatestBlockhash()).blockhash;e.recentBlockhash=t,e.feePayer=solana.publicKey;const f=await solana.signTransaction(e);yt.log("Current log: signedTx: ",f),(0,p.t)()}catch(e){yt.log(e),(0,p.i)()}finally{i(!1)}},children:"\u8f6c\u79fb\u8d26\u6237\u6743\u9650"})};var vt=n(54342);const xt=ot.Sr/1e4;function wt(e){let{account:t,connection:n}=e;const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ot.J3(ht);return async()=>{const n=new ot.ZX;n.add(ot.yq.transfer({fromPubkey:solana.publicKey,toPubkey:t,lamports:xt}));const f=(await e.getLatestBlockhash()).blockhash;return n.recentBlockhash=f,n.feePayer=solana.publicKey,n}}(n),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ot.J3(ht);return async()=>{const n=(await e.getLatestBlockhash()).blockhash,f=new ot.wu({payerKey:solana.publicKey,recentBlockhash:n,instructions:[ot.yq.transfer({fromPubkey:solana.publicKey,toPubkey:t,lamports:xt})]}).compileToV0Message();return new ot.Kt(f)}}(n),[o,d]=(0,f.useState)(!1),[l,u]=(0,f.useState)(!1),[b,h]=(0,f.useState)(!1),[g,y]=(0,f.useState)(!1),[m,v]=(0,f.useState)(!1),[x,_]=(0,f.useState)(!1);return(0,w.jsx)(a.Zp,{title:"\u5408\u7ea6\u4ea4\u4e92 - \u8bf7\u6253\u5f00\u63a7\u5236\u53f0\u67e5\u770b\u7b7e\u540d\u4fe1\u606f",children:(0,w.jsxs)(s.A,{gutter:16,children:[(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(a.Zp,{title:"Transaction",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:o,onClick:async()=>{try{d(!0);const e=await r(),t=await solana.signTransaction(e);vt.log("Current log: signedTx: ",t);const f=await n.sendRawTransaction(t.serialize());vt.log(f),(0,p.t)()}catch(e){vt.log(e),(0,p.i)()}finally{d(!1)}},children:"signTransaction"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:l,onClick:async()=>{try{u(!0);const e=[await r(),await r()],t=await solana.signAllTransactions(e);for(let f=0;f<t.length;f++){const e=t[f],r=await n.sendRawTransaction(e.serialize());vt.log(r)}(0,p.t)()}catch(e){vt.log(e),(0,p.i)()}finally{u(!1)}},children:"signAllTransactions"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:b,onClick:async()=>{try{h(!0);const e=await r(),t=await solana.signAndSendTransaction(e);vt.log(t),(0,p.t)()}catch(e){vt.log(e),(0,p.i)()}finally{h(!1)}},children:"signAndSendTransaction"}),(0,w.jsx)(gt,{account:t,connection:n}),(0,w.jsx)(mt,{account:t,connection:n})]})})}),(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(a.Zp,{title:"Versioned Transaction",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:g,onClick:async()=>{try{y(!0);const e=await i(),t=await solana.signTransaction(e),f=await n.sendRawTransaction(t.serialize());vt.log(f),(0,p.t)()}catch(e){vt.log(e),(0,p.i)()}finally{y(!1)}},children:"signVersionedTransaction"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:m,onClick:async()=>{try{v(!0);const e=[await i(),await i()],t=await solana.signAllTransactions(e);for(let f=0;f<t.length;f++){const e=t[f],r=await n.sendRawTransaction(e.serialize());vt.log(r)}(0,p.t)()}catch(e){vt.log(e),(0,p.i)()}finally{v(!1)}},children:"signAllVersionedTransactions"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:x,onClick:async()=>{try{_(!0);const e=await i(),t=await solana.signAndSendTransaction(e);vt.log(t),(0,p.t)()}catch(e){vt.log(e),(0,p.i)()}finally{_(!1)}},children:"signAndSendVersionedTransaction"})]})})})]})})}function _t(){const{account:e,handleConnect:t,connection:n}=(()=>{const e=new ot.Ng(st),[t,n]=(0,f.useState)(""),r=async()=>{try{const{publicKey:e}=await solana.connect();n(e.toBase58())}catch(e){P.Ay.error(e.message)}};return(0,f.useEffect)((()=>{window.solana&&(solana.on("accountsChanged",r),r())}),[]),{account:t,handleConnect:r,connection:e}})();return(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(K,{account:e}),(0,w.jsx)(D,{handleConnect:t,account:e}),(0,w.jsx)(dt,{account:e}),(0,w.jsx)(wt,{account:e,connection:n})]})}const Ct="Solana",Ot={key:Ct,children:window.solana?(0,w.jsx)(_t,{}):(0,w.jsx)(_e,{chain:Ct})};var Et=n(54342);const St="wrap.near",Tt={network:"mainnet",networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",walletUrl:"https://wallet.mainnet.near.org",helperUrl:"https://helper.mainnet.near.org",explorerUrl:"https://nearblocks.io"},Nt=e=>{Et.log(e),e.error?(0,p.i)():(0,p.t)()};var kt=n(54342);const Rt="origin";var At=n(54342),Pt=n(19384).Buffer;const Dt=["efad2cea4242f19eba36ea0038161fc803e2af6682b575fa1c4e9d48f8019dae","c1f0f7bc0deed7d2151e7987ad2aca74b8e856c1f87efa93fec1ff4075b4d6e4"];const It=function(e){let{account:t,provider:n}=e;const r=()=>Dt[0]===t?Dt[1]:Dt[0],[i,o]=(0,f.useState)(!1),[s,c]=(0,f.useState)(!1),d=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return async()=>{try{c(!0);const f=e?{receiverId:St,actions:[{type:"FunctionCall",params:{methodName:"near_deposit",args:{},deposit:"1250000000000000000000"}}]}:{receiverId:St,actions:[{methodName:"near_deposit",args:{},deposit:"1250000000000000000000",...t?{gas:"300000000000000"}:{}}]},r=await n.signAndSendTransaction(f);Nt(r)}catch(f){At.log(f),(0,p.i)()}finally{c(!1)}}},[l,u]=(0,f.useState)(!1),b=function(){let{useU8Array:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async()=>{const t={receiver_id:r(),amount:"10000"};try{u(!0);const f={receiverId:St,actions:[{methodName:"ft_transfer",args:e?Pt.from(JSON.stringify(t),"utf8"):t,deposit:"1"}]},r=await n.signAndSendTransaction(f);Nt(r)}catch(f){At.log(f),(0,p.i)()}finally{u(!1)}}},[h,g]=(0,f.useState)(!1),y=function(){let{useU8Array:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async()=>{try{g(!0);const t={receiver_id:r(),amount:"1000"},f={receiverId:St,actions:[{methodName:"near_deposit",args:{},deposit:"1250000000000000000000"},{methodName:"ft_transfer",args:e?Pt.from(JSON.stringify(t),"utf8"):t,deposit:"1"}]},i=await n.signAndSendTransaction(f);Nt(i)}catch(t){At.log(t),(0,p.i)()}finally{g(!1)}}},[m,v]=(0,f.useState)(!1),x=function(){let{fullParams:e=!1,useU8Array:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async()=>{try{v(!0);const f={receiver_id:r(),amount:"10000000000"},i=e?{transactions:[{receiverId:St,actions:[{type:"FunctionCall",params:{methodName:"near_deposit",args:{},deposit:"1000000000000000"}}]},{receiverId:St,actions:[{type:"FunctionCall",params:{methodName:"ft_transfer",args:t?Pt.from(JSON.stringify(f),"utf8"):f,deposit:"1"}}]}]}:{transactions:[{receiverId:St,actions:[{methodName:"near_deposit",args:{},deposit:"1000000000000000"}]},{receiverId:St,actions:[{methodName:"ft_transfer",args:{receiver_id:r(),amount:"10000000000"},deposit:"1"}]}]},a=await n.requestSignTransactions(i);Nt(a)}catch(f){At.log(f),(0,p.i)()}finally{v(!1)}}};return(0,w.jsx)(a.Zp,{direction:"vertical",title:"\u666e\u901a\u4ea4\u4e92 - \u9700\u8981\u5524\u8d77\u63d2\u4ef6",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,loading:i,onClick:async()=>{try{o(!0);const e=await n.sendMoney({receiverId:r(),amount:"10000000000000000"});Nt(e)}catch(e){At.log(e),(0,p.i)()}finally{o(!1)}},disabled:!t,children:"sendMoney"}),(0,w.jsx)(a.Zp,{title:"signAndSendTransaction",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,loading:s,onClick:d(),disabled:!t,children:"swapToWNear"}),(0,w.jsx)(a.$n,{block:!0,loading:s,onClick:d(!1,!0),disabled:!t,children:"swapToWNear(withGas)"}),(0,w.jsx)(a.$n,{block:!0,loading:s,onClick:d(!0),disabled:!t,children:"swapToWNear(full params)"}),(0,w.jsx)(a.$n,{block:!0,loading:l,onClick:b(),disabled:!t,children:"sendWNear"}),(0,w.jsx)(a.$n,{block:!0,loading:l,onClick:b({useU8Array:!0}),disabled:!t,children:"sendWNear(with U8Array args)"})]})}),(0,w.jsx)(a.Zp,{title:"signAndSendTransaction multi actions",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,loading:h,onClick:y(),disabled:!t,children:"swapAndSendWNear()"}),(0,w.jsx)(a.$n,{block:!0,loading:h,onClick:y({useU8Array:!0}),disabled:!t,children:"swapAndSendWNear(with U8Array args)"})]})}),(0,w.jsx)(a.Zp,{title:"requestSignTransactions",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,loading:m,onClick:x(),disabled:!t,children:"swapAndSendWNear"}),(0,w.jsx)(a.$n,{block:!0,loading:m,onClick:x({fullParams:!0}),disabled:!t,children:"swapAndSendWNear(full params)"}),(0,w.jsx)(a.$n,{block:!0,loading:m,onClick:x({useU8Array:!0}),disabled:!t,children:"swapAndSendWNear(with U8Array args)"})]})}),(0,w.jsx)(a.$n,{block:!0,onClick:async()=>{try{const e=await n.signAndSendTransaction({actions:[{type:"DeployContract",params:{code:"12345"}}]});Nt(e)}catch(e){At.log(e),(0,p.i)()}},disabled:!t,children:"deployContract(Not supported)"})]})})};var jt=n(17535),Kt=n(54342);const Ut=function(e){let{access:t,provider:n}=e;const[r,i]=(0,f.useState)(!1),[o,s]=(0,f.useState)(!1);return t?(0,w.jsx)(a.Zp,{direction:"vertical",title:"dapp \u5185\u90e8\u4ea4\u4e92 - \u65e0\u9700\u5524\u8d77\u63d2\u4ef6",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,loading:r,onClick:async()=>{try{i(!0);const e=n.getAccountId(),f=new jt.keyStores.InMemoryKeyStore,r=jt.KeyPair.fromString(t.secretKey);await f.setKey(Tt.network,e,r);const a=await jt.connect({deps:{keyStore:f},...Tt}),o=await a.account(e),s=new jt.Contract(o,St,{viewMethods:["ft_metadata"],changeMethods:[]}),c=await s.ft_metadata();Kt.log("Current log: resp: ",c)}catch(e){P.Ay.error(e.message)}finally{i(!1)}},children:"ftMetaData"}),(0,w.jsx)(a.$n,{block:!0,loading:o,onClick:async()=>{try{s(!0);const e=n.getAccountId(),f=new jt.keyStores.InMemoryKeyStore,r=jt.KeyPair.fromString(t.secretKey);await f.setKey(Tt.network,e,r);const i=await jt.connect({deps:{keyStore:f},...Tt}),a=await i.account(e),o=new jt.Contract(a,St,{viewMethods:["ft_balance_of"],changeMethods:[]}),c=await o.ft_balance_of({account_id:n.getAccountId()});Kt.log("Current log: resp: ",c)}catch(e){P.Ay.error(e.message)}finally{s(!1)}},children:"ftBalanceOf"})]})}):null};const Mt=function(e){let{account:t,access:n,provider:f}=e;return(0,w.jsxs)(s.A,{gutter:16,children:[(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(It,{account:t,provider:f})}),(0,w.jsx)(c.A,{xs:24,lg:12,children:(0,w.jsx)(Ut,{account:t,access:n})})]})};var Bt=n(19384).Buffer,Lt=n(54342);const $t=function(e){let{account:t,provider:n}=e;const[r,i]=(0,f.useState)(!1);return(0,w.jsx)(a.Zp,{title:"signMessage",children:(0,w.jsx)(a.$x,{direction:"vertical",style:{width:"100%"},children:(0,w.jsx)(a.$n,{block:!0,loading:r,disabled:!t,onClick:async()=>{try{i(!0);const e="Hello Near",t=Bt.from("4268ebc14ff247f5450d4a8682bec3729a06d268f83b0cb363083ab05b65486b","hex"),f=St,r=await n.signMessage({message:e,nonce:t,recipient:f});Nt(r)}catch(e){Lt.log(e),(0,p.i)()}finally{i(!1)}},style:{marginBottom:8},children:"signMessage"})})})};function Ht(){const{loading:e,account:t,access:n,handleConnect:r,handleDisConnect:i,handleConnectWithContractId:o,provider:s}=(()=>{const[e,t]=(0,f.useState)(!1),n=(0,f.useRef)(),[r,i]=(0,f.useState)(""),[a,o]=(0,f.useState)(null),[s,c]=(0,f.useState)("");return(0,f.useEffect)((()=>{try{n.current&&(n.current.on("accountsChanged",(e=>{kt.log("Current log: msg: ",e)})),n.current.on("signOut",(e=>{kt.log("Current log: msg: ",e),kt.log("Current log: signOut")})),n.current.on("signIn",(e=>{kt.log("Current log: msg: ",e),kt.log("Current log: signIn")})))}catch(e){kt.log("Current log: error: ",e)}}),[r]),{loading:e,account:r,access:a,provider:n.current,connectType:s,handleDisConnect:()=>{window.near.signOut(),i(""),o(null)},handleConnect:async()=>{try{t(!0),await window.near.requestSignIn({contractId:"",methodNames:[]}),i(window.near.getAccountId()),n.current=window.near,c(Rt)}catch(e){P.Ay.error(e.message)}finally{t(!1)}},handleConnectWithContractId:async()=>{try{t(!0);const{accessKey:e}=await window.near.requestSignIn({contractId:St,methodNames:[]});i(window.near.getAccountId()),o(e),n.current=window.near,c(Rt)}catch(e){P.Ay.error(e.message)}finally{t(!1)}}}})();return(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(K,{account:t,children:n&&(0,w.jsx)("div",{children:n.publicKey})}),(0,w.jsx)(D,{loading:e,handleConnect:r,handleDisConnect:i,account:t,children:(0,w.jsx)(a.$n,{loading:e,disabled:t,onClick:o,children:"handleSignIn with contractId"})}),(0,w.jsx)($t,{account:t,access:n,provider:s}),(0,w.jsx)(Mt,{account:t,access:n,provider:s})]})}const Wt="NEAR",Xt={key:Wt,children:window.near?(0,w.jsx)(Ht,{}):(0,w.jsx)(_e,{chain:Wt})};const Ft=function(){if("luoquanquan.github.io"!==window.location.hostname)return null;const e="https://github.com/luoquanquan/dapp-demo";return(0,w.jsx)(a.Zp,{title:"\u9879\u76ee\u4fe1\u606f",children:(0,w.jsxs)(a.$x,{direction:"vertical",children:[(0,w.jsxs)("div",{children:["version:\xa0","2024-11-22 15:49:41"]}),(0,w.jsxs)("div",{children:["github:\xa0",(0,w.jsx)("a",{href:e,children:e})]})]})})};var qt=n(7257),Jt=n(7894),zt=n.n(Jt),Gt=n(58736);const Vt="UQDOc7wK8x2Avyet0tUQ0j-6KqbhdRN7yKQGYtI5uYMI0Gxc",Yt="UQBfRxtUtwehFwW54B3nY049f0pJcOpssvAXhASnjwNYInVA",Zt="UQC6vxAEEbr7O9EOliafFwDqGdMP61jR13yDDw33dSTFTz5K",Qt=new(zt());const en=function(){const[e]=(0,qt.Lg)(),t=(0,qt.zI)(),n=Math.floor(Date.now()/1e3)+604800,f=function(){let f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;return async()=>{const r=new(zt().token.jetton.JettonMinter)(Qt.provider,{address:"EQATcUc69sGSCCMSadsVUKdGwM1BMKS-HKCWGPk60xZGgwsK"}),i=(await r.getJettonWalletAddress(new(zt().utils.Address)(t))).toString(!0,!0,!0,!1),a=(0,Gt.beginCell)().storeUint(260734629,32).storeUint(0,64).storeCoins("100000000").storeAddress(Gt.Address.parse(f)).storeAddress(Gt.Address.parse(t)).storeUint(0,1).storeCoins("1000000").storeUint(0,1).endCell(),o={validUntil:n,messages:[{address:i,amount:(0,Gt.toNano)("0.05").toString(),payload:a.toBoc().toString("base64")}]};e.sendTransaction(o)}},r=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;return()=>{e.sendTransaction({validUntil:n,messages:[{address:t,amount:zt().utils.toNano("0.0001").toString()}]})}};return(0,w.jsx)(a.Zp,{title:"SignTransaction",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,disabled:!t,onClick:r(),children:"sendTon"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,onClick:r(Yt),children:"sendTon to Black Address"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,onClick:r(Zt),children:"sendTon to Strong Black Address"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,onClick:f(),children:"sendFish"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,onClick:f(Yt),children:"sendFish to Black Address"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,onClick:f(Zt),children:"sendFish to Strong Black Address"})]})})};var tn=n(54342);const nn=function(){const[e]=(0,qt.Lg)(),t=(0,qt.zI)(),n=l()().add(7,"day").unix(),f=t=>{let{toAddress:f=Vt,validUntil:r=n,from:i,network:a,messagesUndefined:o,messages:s=[{address:f,amount:zt().utils.toNano("0.0001").toString()}]}=t;return()=>{const t={network:a,validUntil:r,from:i,messages:s};o&&(t.messages=void 0),tn.log("Current log: params: ",t),e.sendTransaction(t)}};return(0,w.jsx)(a.Zp,{title:"SignTransactionWithFakeParams Open console to See the params",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,disabled:!t,onClick:f({validUntil:l()().subtract(1,"day").unix()}),children:"sendTon with -1 day"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,onClick:f({validUntil:l()().add(3,"minute").unix()}),children:"sendTon with +3 minute"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,onClick:f({validUntil:l()().add(1,"day").unix()}),children:"sendTon with +1 day"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,onClick:f({network:"-3"}),children:"sendTon with fake network"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,onClick:f({from:"0:6b273bdc8b12c9ad3d0daf05950d520fd6c6d70ce16e1bedc7402e2d52d0e5b5"}),children:"sendTon with fake from"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,onClick:f({toAddress:"kQCKWpx7cNMpvmcN50bM5lLUZHZRFKqYA4xmw9j0ry0Zs0TG"}),children:"sendTon with fake address"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,onClick:f({messagesUndefined:!0}),children:"sendTon with undefined messages"}),(0,w.jsx)(a.$n,{block:!0,disabled:!t,onClick:f({messages:[]}),children:"sendTon with [] messages"})]})})};function fn(){return(0,w.jsx)(qt.Nl,{manifestUrl:"https://luoquanquan.github.io/dapp-demo/tonconnect-manifest.json",walletsListConfiguration:{includeWallets:[{app_name:"PROD OKX Mini Wallet",appName:"PROD OKX Mini Wallet",name:"PROD OKX Mini Wallet",image:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",about_url:"https://www.okx.com/web3",aboutUrl:"https://www.okx.com/web3",universal_url:"https://t.me/OKX_WALLET_BOT?attach=wallet",universalLink:"https://t.me/OKX_WALLET_BOT?attach=wallet",bridgeUrl:"https://www.okx.com/tonbridge/discover/rpc/bridge",bridge:[{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["ios","android","chrome","firefox","macos"]},{app_name:"okxTestWallet",appName:"okxTestWallet",name:"OKX Test Wallet",image:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",about_url:"https://www.okx.com/web3",aboutUrl:"https://www.okx.com/web3",universal_url:"https://t.me/TCTestqdqwdqwdqBot?attach=TCTestqdqwdqwdqBot",universalLink:"https://t.me/TCTestqdqwdqwdqBot?attach=TCTestqdqwdqwdqBot",bridgeUrl:"https://www.okx.com/tonbridge/discover/rpc/bridge",bridge:[{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["ios","android","chrome","firefox","macos"]},{app_name:"betaOkxTestWallet",appName:"betaOkxTestWallet",name:"Beta OKX Test Wallet",image:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",about_url:"https://www.okx.com/web3",aboutUrl:"https://www.okx.com/web3",universal_url:"https://t.me/okx_tg_miniapp_test_bot?attach=okx_tg_miniapp_test_bot",universalLink:"https://t.me/okx_tg_miniapp_test_bot?attach=okx_tg_miniapp_test_bot",bridgeUrl:"https://www.okx.com/tonbridge/discover/rpc/bridge",bridge:[{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["ios","android","chrome","firefox","macos"]}]},children:(0,w.jsxs)(r.A,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(qt.MJ,{}),(0,w.jsx)(en,{}),(0,w.jsx)(nn,{}),(0,w.jsx)(Se,{type:Se.typeMap.eoa,address:Yt}),(0,w.jsx)(Se,{type:Se.typeMap.strongEoa,address:Zt})]})})}const rn={key:"Ton",children:(0,w.jsx)(fn,{})};var an=n(69679),on=n(10070),sn=n(61894),cn=n(94404),dn=n(27695);const ln="0x262bf43308d07d13dcf8c8ad339da764d2faf2ad33f984dc5810681e6f1c8e15",un="0x78fcbc77de601967663cf19b24c2949606af8bf73a5a68f679ad371666d3f814";var bn=n(54342);const hn=function(){const e=(0,an.YL)(),t=null===e||void 0===e?void 0:e.address,n=(0,an.Fp)(),[r,i]=(0,f.useState)(!1),o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0xa95dd12332d1e04af548ccf94c7b4729bce0683832581d2e8b82a25c3bfcc5c9";return async()=>{try{i(!0);const t=new dn.Z,f=t.splitCoins(t.gas,[10]);t.transferObjects([f],e);const r=await n.mutateAsync({transaction:t});bn.log(r),(0,p.t)()}catch(t){bn.log(t),(0,p.i)()}finally{i(!1)}}};return(0,w.jsx)(a.Zp,{title:"SignTransaction",children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(a.$n,{block:!0,disabled:!t,loading:r,onClick:o(),children:"sendSui"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,loading:r,onClick:o(ln),children:"sendSui to Black Address"}),(0,w.jsx)(a.$n,{block:!0,color:"danger",disabled:!t,loading:r,onClick:o(un),children:"sendSui to Strong Black Address"})]})})};var pn=n(23302);const{networkConfig:gn,useNetworkVariable:yn,useNetworkVariables:mn}=(0,an.ZN)({devnet:{url:(0,pn.T)("devnet")},testnet:{url:(0,pn.T)("testnet")},mainnet:{url:(0,pn.T)("mainnet")}});n(50285),n(97570);const vn=new on.E;function xn(){return(0,w.jsx)(cn.Sx,{appearance:"light",children:(0,w.jsx)(sn.Ht,{client:vn,children:(0,w.jsx)(an.CV,{networks:gn,defaultNetwork:"mainnet",children:(0,w.jsx)(an.rh,{autoConnect:!0,children:(0,w.jsxs)(a.$x,{direction:"vertical",style:{width:"100%"},children:[(0,w.jsx)(an.pK,{}),(0,w.jsx)(hn,{}),(0,w.jsx)(Se,{type:Se.typeMap.eoa,address:ln}),(0,w.jsx)(Se,{type:Se.typeMap.strongEoa,address:un})]})})})})})}const wn={key:"Sui",children:(0,w.jsx)(xn,{})};var _n=n(54342);const Cn="localTabKey",On=[Ke,at,Ot,Xt,rn,wn],En=localStorage.getItem(Cn),Sn=On.some((e=>{let{key:t}=e;return En===t})),Tn=Sn?En:Ke.key;function Nn(){(0,f.useEffect)((()=>{const e=(0,o.xM)(),t=(0,o.sO)(o.iB.ETHEREUM);_n.log("sdk: ",e),_n.log("provider: ",t),t.on("connect",(e=>{_n.log("provider connect: ",e)}))}),[]);return(0,w.jsxs)(r.A,{direction:"vertical",className:"wrap",children:[(0,w.jsx)(a.Pp,{position:"top"}),(0,w.jsx)(i.Ay,{onClick:async()=>{const e=await(0,o.Bl)();_n.log("get display uri for QR code scan: ",e)},children:"Get Uri"}),(0,w.jsx)(i.Ay,{onClick:o.Q9,children:"Connect Mobile App"}),(0,w.jsx)(i.Ay,{onClick:o.Aj,children:"Connect TG"}),(0,w.jsx)(i.Ay,{onClick:o.Zf,children:"Disconnect"}),(0,w.jsx)(a.tU,{defaultActiveKey:Tn,onChange:e=>{localStorage.setItem(Cn,e)},children:On.map((e=>(0,w.jsx)(a.tU.Tab,{title:e.key,children:e.children},e.key)))}),(0,w.jsx)(Ft,{}),(0,w.jsx)(a.Pp,{position:"bottom"})]})}},78438:(e,t,n)=>{"use strict";n.a(e,(async(e,t)=>{try{n(13960);var f=n(77081),r=n.n(f),i=n(40406),a=n(42340),o=n(70187),s=(n(70420),n(98036)),c=n(54342);const e=await(0,a.Ts)();c.log("dappppp add event listener",e),setTimeout((()=>{new(r())}),1e3);i.createRoot(document.getElementById("root")).render((0,s.jsx)(o.A,{})),t()}catch(d){t(d)}}),1)},42340:(e,t,n)=>{"use strict";n.d(t,{Aj:()=>Uo,Bl:()=>jo,Q9:()=>Ko,Ts:()=>Io,Zf:()=>Mo,iB:()=>eo,sO:()=>Lo,xM:()=>Bo});var f=n(19384).Buffer,r=n(54342),i=Object.create,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,c=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,l=n(11714),u=(e,t)=>()=>(e&&(t=e(e=0)),t),b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),h=(e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0})},p=(e,t,n,f)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of s(t))!d.call(e,r)&&r!==n&&a(e,r,{get:()=>t[r],enumerable:!(f=o(t,r))||f.enumerable});return e},g=(e,t,n)=>(n=null!=e?i(c(e)):{},p(!t&&e&&e.__esModule?n:a(n,"default",{value:e,enumerable:!0}),e)),y=e=>p(a({},"__esModule",{value:!0}),e),m=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.IJSONRpcProvider=e.IJSONRpcConnection=void 0;e.IJSONRpcConnection=class{};e.IJSONRpcProvider=class{constructor(e){}}})),v=b((e=>{Object.defineProperty(e,"__esModule",{value:!0})})),x=b((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,f){void 0===f&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){void 0===f&&(f=n),e[f]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var f in e)"default"!==f&&!Object.prototype.hasOwnProperty.call(n,f)&&t(n,e,f)};Object.defineProperty(e,"__esModule",{value:!0}),n(m(),e),n(v(),e)})),w=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getRpcUrl=function(e,t,f){var r;let i=n(e);return(null===(r=t.rpcMap)||void 0===r?void 0:r[i.reference])||""},e.getChainId=function(e){return e.includes(":")?e.split(":")[1]:e},e.convertChainIdToNumber=function(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))},e.parseChainId=n,e.mergeArrays=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[...new Set([...e,...t])]};var t=":";function n(e){let[n,f]=e.split(t);return{namespace:n,reference:f}}})),_=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setGlobal=e.getGlobal=void 0;var t={};e.getGlobal=e=>t[e];e.setGlobal=(e,n)=>{t[e]=n}})),C=b((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,f){void 0===f&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){void 0===f&&(f=n),e[f]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var f in e)"default"!==f&&!Object.prototype.hasOwnProperty.call(n,f)&&t(n,e,f)};Object.defineProperty(e,"__esModule",{value:!0}),n(w(),e),n(_(),e)})),O=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GENERIC_SUBPROVIDER_NAME=e.RPC_URL=e.STORAGE=e.CONTEXT=e.WC_VERSION=e.PROTOCOL=e.RELAY_URL=e.LOGGER=void 0,e.LOGGER="error",e.RELAY_URL="wss://relay.walletconnect.com",e.PROTOCOL="wc",e.WC_VERSION=2,e.CONTEXT="universal_provider",e.STORAGE=`${e.PROTOCOL}@${e.WC_VERSION}:${e.CONTEXT}:`,e.RPC_URL="https://rpc.walletconnect.com/v1/",e.GENERIC_SUBPROVIDER_NAME="generic"})),E=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PROVIDER_EVENTS=void 0,e.PROVIDER_EVENTS={DEFAULT_CHAIN_CHANGED:"default_chain_changed",UPDATE_NAMESPACES:"update_name_spaces"}})),S=b((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,f){void 0===f&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){void 0===f&&(f=n),e[f]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var f in e)"default"!==f&&!Object.prototype.hasOwnProperty.call(n,f)&&t(n,e,f)};Object.defineProperty(e,"__esModule",{value:!0}),n(O(),e),n(E(),e)})),T=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectorState=e.CONNECT_JSONRPC_VER=e.OKXCONNECTOR_MESSAGE_TTL=e.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE=e.OKXCONNECTOR_WS_URL_LIST=e.OKXCONNECTOR_WS_URL_IDX_KEY=e.OKXCONNECTOR_WS_URL_3=e.OKXCONNECTOR_WS_URL_2=e.OKXCONNECTOR_WS_URL_1=e.EVENT_EMITTER_MAX_LISTENERS=void 0,e.EVENT_EMITTER_MAX_LISTENERS=10,e.OKXCONNECTOR_WS_URL_1="wss://wsdexpri.okx.com/ws/v1/wallet-connect-relay",e.OKXCONNECTOR_WS_URL_2="wss://wsdexpri.okx.ac/ws/v1/wallet-connect-relay",e.OKXCONNECTOR_WS_URL_3="wss://wsdexpri.coinall.ltd/ws/v1/wallet-connect-relay",e.OKXCONNECTOR_WS_URL_IDX_KEY="wuik",e.OKXCONNECTOR_WS_URL_LIST=[e.OKXCONNECTOR_WS_URL_1,e.OKXCONNECTOR_WS_URL_2,e.OKXCONNECTOR_WS_URL_3],e.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE={TIME_OUT:3990,CANCELED:3991,FINISHED:3992},e.OKXCONNECTOR_MESSAGE_TTL=3e5,e.CONNECT_JSONRPC_VER="2.0",e.ConnectorState={InitState:0,Connecting:1,Connected:2,Disconnected:3,OnError:4}})),N=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OKXCONNECTOR_STORAGE_CIPHER_METHOD=e.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV=e.OKXCONNECTOR_STORAGER_CRYPTO_SALT=e.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD=e.OKXCONNECTOR_TON_KEY=e.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE=e.OKXCONNECTOR_TOKEN_CACHE=e.OKXCONNECTOR_JWT_KEY=e.OKXCONNECTOR_SESSION_PREFIX_KEY=e.OKXCONNECTOR_CRYPTO_KEY=e.OKXCONNECTOR_CACHE_KEY_DAPP=e.OKXCONNECTOR_CACHE_KEY=void 0,e.OKXCONNECTOR_CACHE_KEY="ck",e.OKXCONNECTOR_CACHE_KEY_DAPP="ck_dapp",e.OKXCONNECTOR_CRYPTO_KEY="cck_k",e.OKXCONNECTOR_SESSION_PREFIX_KEY="cspk_",e.OKXCONNECTOR_JWT_KEY="cjk_k",e.OKXCONNECTOR_TOKEN_CACHE="ct",e.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE="csp",e.OKXCONNECTOR_TON_KEY="OKXStorage_ctc",e.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD="scp",e.OKXCONNECTOR_STORAGER_CRYPTO_SALT="scs",e.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV="scpc",e.OKXCONNECTOR_STORAGE_CIPHER_METHOD="aes-256-cbc"})),k=b((()=>{})),R=b(((e,t)=>{!function(e){var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},n=function(){throw new Error("no PRNG")},f=new Uint8Array(16),r=new Uint8Array(32);r[0]=9;var i=t(),a=t([1]),o=t([56129,1]),s=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),b=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(e,t,n,f){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=f>>24&255,e[t+5]=f>>16&255,e[t+6]=f>>8&255,e[t+7]=255&f}function p(e,t,n,f,r){var i,a=0;for(i=0;i<r;i++)a|=e[t+i]^n[f+i];return(1&a-1>>>8)-1}function g(e,t,n,f){return p(e,t,n,f,16)}function y(e,t,n,f){return p(e,t,n,f,32)}function m(e,t,n,f){!function(e,t,n,f){for(var r,i=255&f[0]|(255&f[1])<<8|(255&f[2])<<16|(255&f[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,s=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,d=255&f[4]|(255&f[5])<<8|(255&f[6])<<16|(255&f[7])<<24,l=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,u=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,b=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,h=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&f[8]|(255&f[9])<<8|(255&f[10])<<16|(255&f[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,y=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,m=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,v=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,x=255&f[12]|(255&f[13])<<8|(255&f[14])<<16|(255&f[15])<<24,w=i,_=a,C=o,O=s,E=c,S=d,T=l,N=u,k=b,R=h,A=p,P=g,D=y,I=m,j=v,K=x,U=0;U<20;U+=2)w^=(r=(D^=(r=(k^=(r=(E^=(r=w+D|0)<<7|r>>>25)+w|0)<<9|r>>>23)+E|0)<<13|r>>>19)+k|0)<<18|r>>>14,S^=(r=(_^=(r=(I^=(r=(R^=(r=S+_|0)<<7|r>>>25)+S|0)<<9|r>>>23)+R|0)<<13|r>>>19)+I|0)<<18|r>>>14,A^=(r=(T^=(r=(C^=(r=(j^=(r=A+T|0)<<7|r>>>25)+A|0)<<9|r>>>23)+j|0)<<13|r>>>19)+C|0)<<18|r>>>14,K^=(r=(P^=(r=(N^=(r=(O^=(r=K+P|0)<<7|r>>>25)+K|0)<<9|r>>>23)+O|0)<<13|r>>>19)+N|0)<<18|r>>>14,w^=(r=(O^=(r=(C^=(r=(_^=(r=w+O|0)<<7|r>>>25)+w|0)<<9|r>>>23)+_|0)<<13|r>>>19)+C|0)<<18|r>>>14,S^=(r=(E^=(r=(N^=(r=(T^=(r=S+E|0)<<7|r>>>25)+S|0)<<9|r>>>23)+T|0)<<13|r>>>19)+N|0)<<18|r>>>14,A^=(r=(R^=(r=(k^=(r=(P^=(r=A+R|0)<<7|r>>>25)+A|0)<<9|r>>>23)+P|0)<<13|r>>>19)+k|0)<<18|r>>>14,K^=(r=(j^=(r=(I^=(r=(D^=(r=K+j|0)<<7|r>>>25)+K|0)<<9|r>>>23)+D|0)<<13|r>>>19)+I|0)<<18|r>>>14;w=w+i|0,_=_+a|0,C=C+o|0,O=O+s|0,E=E+c|0,S=S+d|0,T=T+l|0,N=N+u|0,k=k+b|0,R=R+h|0,A=A+p|0,P=P+g|0,D=D+y|0,I=I+m|0,j=j+v|0,K=K+x|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=_>>>0&255,e[5]=_>>>8&255,e[6]=_>>>16&255,e[7]=_>>>24&255,e[8]=C>>>0&255,e[9]=C>>>8&255,e[10]=C>>>16&255,e[11]=C>>>24&255,e[12]=O>>>0&255,e[13]=O>>>8&255,e[14]=O>>>16&255,e[15]=O>>>24&255,e[16]=E>>>0&255,e[17]=E>>>8&255,e[18]=E>>>16&255,e[19]=E>>>24&255,e[20]=S>>>0&255,e[21]=S>>>8&255,e[22]=S>>>16&255,e[23]=S>>>24&255,e[24]=T>>>0&255,e[25]=T>>>8&255,e[26]=T>>>16&255,e[27]=T>>>24&255,e[28]=N>>>0&255,e[29]=N>>>8&255,e[30]=N>>>16&255,e[31]=N>>>24&255,e[32]=k>>>0&255,e[33]=k>>>8&255,e[34]=k>>>16&255,e[35]=k>>>24&255,e[36]=R>>>0&255,e[37]=R>>>8&255,e[38]=R>>>16&255,e[39]=R>>>24&255,e[40]=A>>>0&255,e[41]=A>>>8&255,e[42]=A>>>16&255,e[43]=A>>>24&255,e[44]=P>>>0&255,e[45]=P>>>8&255,e[46]=P>>>16&255,e[47]=P>>>24&255,e[48]=D>>>0&255,e[49]=D>>>8&255,e[50]=D>>>16&255,e[51]=D>>>24&255,e[52]=I>>>0&255,e[53]=I>>>8&255,e[54]=I>>>16&255,e[55]=I>>>24&255,e[56]=j>>>0&255,e[57]=j>>>8&255,e[58]=j>>>16&255,e[59]=j>>>24&255,e[60]=K>>>0&255,e[61]=K>>>8&255,e[62]=K>>>16&255,e[63]=K>>>24&255}(e,t,n,f)}function v(e,t,n,f){!function(e,t,n,f){for(var r,i=255&f[0]|(255&f[1])<<8|(255&f[2])<<16|(255&f[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,o=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,s=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,d=255&f[4]|(255&f[5])<<8|(255&f[6])<<16|(255&f[7])<<24,l=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,u=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,b=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,h=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&f[8]|(255&f[9])<<8|(255&f[10])<<16|(255&f[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,y=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,m=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,v=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,x=255&f[12]|(255&f[13])<<8|(255&f[14])<<16|(255&f[15])<<24,w=0;w<20;w+=2)i^=(r=(y^=(r=(b^=(r=(c^=(r=i+y|0)<<7|r>>>25)+i|0)<<9|r>>>23)+c|0)<<13|r>>>19)+b|0)<<18|r>>>14,d^=(r=(a^=(r=(m^=(r=(h^=(r=d+a|0)<<7|r>>>25)+d|0)<<9|r>>>23)+h|0)<<13|r>>>19)+m|0)<<18|r>>>14,p^=(r=(l^=(r=(o^=(r=(v^=(r=p+l|0)<<7|r>>>25)+p|0)<<9|r>>>23)+v|0)<<13|r>>>19)+o|0)<<18|r>>>14,x^=(r=(g^=(r=(u^=(r=(s^=(r=x+g|0)<<7|r>>>25)+x|0)<<9|r>>>23)+s|0)<<13|r>>>19)+u|0)<<18|r>>>14,i^=(r=(s^=(r=(o^=(r=(a^=(r=i+s|0)<<7|r>>>25)+i|0)<<9|r>>>23)+a|0)<<13|r>>>19)+o|0)<<18|r>>>14,d^=(r=(c^=(r=(u^=(r=(l^=(r=d+c|0)<<7|r>>>25)+d|0)<<9|r>>>23)+l|0)<<13|r>>>19)+u|0)<<18|r>>>14,p^=(r=(h^=(r=(b^=(r=(g^=(r=p+h|0)<<7|r>>>25)+p|0)<<9|r>>>23)+g|0)<<13|r>>>19)+b|0)<<18|r>>>14,x^=(r=(v^=(r=(m^=(r=(y^=(r=x+v|0)<<7|r>>>25)+x|0)<<9|r>>>23)+y|0)<<13|r>>>19)+m|0)<<18|r>>>14;e[0]=i>>>0&255,e[1]=i>>>8&255,e[2]=i>>>16&255,e[3]=i>>>24&255,e[4]=d>>>0&255,e[5]=d>>>8&255,e[6]=d>>>16&255,e[7]=d>>>24&255,e[8]=p>>>0&255,e[9]=p>>>8&255,e[10]=p>>>16&255,e[11]=p>>>24&255,e[12]=x>>>0&255,e[13]=x>>>8&255,e[14]=x>>>16&255,e[15]=x>>>24&255,e[16]=l>>>0&255,e[17]=l>>>8&255,e[18]=l>>>16&255,e[19]=l>>>24&255,e[20]=u>>>0&255,e[21]=u>>>8&255,e[22]=u>>>16&255,e[23]=u>>>24&255,e[24]=b>>>0&255,e[25]=b>>>8&255,e[26]=b>>>16&255,e[27]=b>>>24&255,e[28]=h>>>0&255,e[29]=h>>>8&255,e[30]=h>>>16&255,e[31]=h>>>24&255}(e,t,n,f)}var x=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,n,f,r,i,a){var o,s,c=new Uint8Array(16),d=new Uint8Array(64);for(s=0;s<16;s++)c[s]=0;for(s=0;s<8;s++)c[s]=i[s];for(;r>=64;){for(m(d,c,a,x),s=0;s<64;s++)e[t+s]=n[f+s]^d[s];for(o=1,s=8;s<16;s++)o=o+(255&c[s])|0,c[s]=255&o,o>>>=8;r-=64,t+=64,f+=64}if(r>0)for(m(d,c,a,x),s=0;s<r;s++)e[t+s]=n[f+s]^d[s];return 0}function _(e,t,n,f,r){var i,a,o=new Uint8Array(16),s=new Uint8Array(64);for(a=0;a<16;a++)o[a]=0;for(a=0;a<8;a++)o[a]=f[a];for(;n>=64;){for(m(s,o,r,x),a=0;a<64;a++)e[t+a]=s[a];for(i=1,a=8;a<16;a++)i=i+(255&o[a])|0,o[a]=255&i,i>>>=8;n-=64,t+=64}if(n>0)for(m(s,o,r,x),a=0;a<n;a++)e[t+a]=s[a];return 0}function C(e,t,n,f,r){var i=new Uint8Array(32);v(i,f,r,x);for(var a=new Uint8Array(8),o=0;o<8;o++)a[o]=f[o+16];return _(e,t,n,a,i)}function O(e,t,n,f,r,i,a){var o=new Uint8Array(32);v(o,i,a,x);for(var s=new Uint8Array(8),c=0;c<8;c++)s[c]=i[c+16];return w(e,t,n,f,r,s,o)}var E=function(e){var t,n,f,r,i,a,o,s;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|n<<3),f=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(n>>>10|f<<6),r=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(f>>>7|r<<9),i=255&e[8]|(255&e[9])<<8,this.r[4]=255&(r>>>4|i<<12),this.r[5]=i>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(i>>>14|a<<2),o=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|o<<5),s=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(o>>>8|s<<8),this.r[9]=s>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function S(e,t,n,f,r,i){var a=new E(i);return a.update(n,f,r),a.finish(e,t),0}function T(e,t,n,f,r,i){var a=new Uint8Array(16);return S(a,0,n,f,r,i),g(e,t,a,0)}function N(e,t,n,f,r){var i;if(n<32)return-1;for(O(e,0,t,0,n,f,r),S(e,16,e,32,n-32,e),i=0;i<16;i++)e[i]=0;return 0}function R(e,t,n,f,r){var i,a=new Uint8Array(32);if(n<32||(C(a,0,32,f,r),0!==T(t,16,t,32,n-32,a)))return-1;for(O(e,0,t,0,n,f,r),i=0;i<32;i++)e[i]=0;return 0}function A(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function P(e){var t,n,f=1;for(t=0;t<16;t++)n=e[t]+f+65535,f=Math.floor(n/65536),e[t]=n-65536*f;e[0]+=f-1+37*(f-1)}function D(e,t,n){for(var f,r=~(n-1),i=0;i<16;i++)f=r&(e[i]^t[i]),e[i]^=f,t[i]^=f}function I(e,n){var f,r,i,a=t(),o=t();for(f=0;f<16;f++)o[f]=n[f];for(P(o),P(o),P(o),r=0;r<2;r++){for(a[0]=o[0]-65517,f=1;f<15;f++)a[f]=o[f]-65535-(a[f-1]>>16&1),a[f-1]&=65535;a[15]=o[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,D(o,a,1-i)}for(f=0;f<16;f++)e[2*f]=255&o[f],e[2*f+1]=o[f]>>8}function j(e,t){var n=new Uint8Array(32),f=new Uint8Array(32);return I(n,e),I(f,t),y(n,0,f,0)}function K(e){var t=new Uint8Array(32);return I(t,e),1&t[0]}function U(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function M(e,t,n){for(var f=0;f<16;f++)e[f]=t[f]+n[f]}function B(e,t,n){for(var f=0;f<16;f++)e[f]=t[f]-n[f]}function L(e,t,n){var f,r,i=0,a=0,o=0,s=0,c=0,d=0,l=0,u=0,b=0,h=0,p=0,g=0,y=0,m=0,v=0,x=0,w=0,_=0,C=0,O=0,E=0,S=0,T=0,N=0,k=0,R=0,A=0,P=0,D=0,I=0,j=0,K=n[0],U=n[1],M=n[2],B=n[3],L=n[4],$=n[5],H=n[6],W=n[7],X=n[8],F=n[9],q=n[10],J=n[11],z=n[12],G=n[13],V=n[14],Y=n[15];i+=(f=t[0])*K,a+=f*U,o+=f*M,s+=f*B,c+=f*L,d+=f*$,l+=f*H,u+=f*W,b+=f*X,h+=f*F,p+=f*q,g+=f*J,y+=f*z,m+=f*G,v+=f*V,x+=f*Y,a+=(f=t[1])*K,o+=f*U,s+=f*M,c+=f*B,d+=f*L,l+=f*$,u+=f*H,b+=f*W,h+=f*X,p+=f*F,g+=f*q,y+=f*J,m+=f*z,v+=f*G,x+=f*V,w+=f*Y,o+=(f=t[2])*K,s+=f*U,c+=f*M,d+=f*B,l+=f*L,u+=f*$,b+=f*H,h+=f*W,p+=f*X,g+=f*F,y+=f*q,m+=f*J,v+=f*z,x+=f*G,w+=f*V,_+=f*Y,s+=(f=t[3])*K,c+=f*U,d+=f*M,l+=f*B,u+=f*L,b+=f*$,h+=f*H,p+=f*W,g+=f*X,y+=f*F,m+=f*q,v+=f*J,x+=f*z,w+=f*G,_+=f*V,C+=f*Y,c+=(f=t[4])*K,d+=f*U,l+=f*M,u+=f*B,b+=f*L,h+=f*$,p+=f*H,g+=f*W,y+=f*X,m+=f*F,v+=f*q,x+=f*J,w+=f*z,_+=f*G,C+=f*V,O+=f*Y,d+=(f=t[5])*K,l+=f*U,u+=f*M,b+=f*B,h+=f*L,p+=f*$,g+=f*H,y+=f*W,m+=f*X,v+=f*F,x+=f*q,w+=f*J,_+=f*z,C+=f*G,O+=f*V,E+=f*Y,l+=(f=t[6])*K,u+=f*U,b+=f*M,h+=f*B,p+=f*L,g+=f*$,y+=f*H,m+=f*W,v+=f*X,x+=f*F,w+=f*q,_+=f*J,C+=f*z,O+=f*G,E+=f*V,S+=f*Y,u+=(f=t[7])*K,b+=f*U,h+=f*M,p+=f*B,g+=f*L,y+=f*$,m+=f*H,v+=f*W,x+=f*X,w+=f*F,_+=f*q,C+=f*J,O+=f*z,E+=f*G,S+=f*V,T+=f*Y,b+=(f=t[8])*K,h+=f*U,p+=f*M,g+=f*B,y+=f*L,m+=f*$,v+=f*H,x+=f*W,w+=f*X,_+=f*F,C+=f*q,O+=f*J,E+=f*z,S+=f*G,T+=f*V,N+=f*Y,h+=(f=t[9])*K,p+=f*U,g+=f*M,y+=f*B,m+=f*L,v+=f*$,x+=f*H,w+=f*W,_+=f*X,C+=f*F,O+=f*q,E+=f*J,S+=f*z,T+=f*G,N+=f*V,k+=f*Y,p+=(f=t[10])*K,g+=f*U,y+=f*M,m+=f*B,v+=f*L,x+=f*$,w+=f*H,_+=f*W,C+=f*X,O+=f*F,E+=f*q,S+=f*J,T+=f*z,N+=f*G,k+=f*V,R+=f*Y,g+=(f=t[11])*K,y+=f*U,m+=f*M,v+=f*B,x+=f*L,w+=f*$,_+=f*H,C+=f*W,O+=f*X,E+=f*F,S+=f*q,T+=f*J,N+=f*z,k+=f*G,R+=f*V,A+=f*Y,y+=(f=t[12])*K,m+=f*U,v+=f*M,x+=f*B,w+=f*L,_+=f*$,C+=f*H,O+=f*W,E+=f*X,S+=f*F,T+=f*q,N+=f*J,k+=f*z,R+=f*G,A+=f*V,P+=f*Y,m+=(f=t[13])*K,v+=f*U,x+=f*M,w+=f*B,_+=f*L,C+=f*$,O+=f*H,E+=f*W,S+=f*X,T+=f*F,N+=f*q,k+=f*J,R+=f*z,A+=f*G,P+=f*V,D+=f*Y,v+=(f=t[14])*K,x+=f*U,w+=f*M,_+=f*B,C+=f*L,O+=f*$,E+=f*H,S+=f*W,T+=f*X,N+=f*F,k+=f*q,R+=f*J,A+=f*z,P+=f*G,D+=f*V,I+=f*Y,x+=(f=t[15])*K,a+=38*(_+=f*M),o+=38*(C+=f*B),s+=38*(O+=f*L),c+=38*(E+=f*$),d+=38*(S+=f*H),l+=38*(T+=f*W),u+=38*(N+=f*X),b+=38*(k+=f*F),h+=38*(R+=f*q),p+=38*(A+=f*J),g+=38*(P+=f*z),y+=38*(D+=f*G),m+=38*(I+=f*V),v+=38*(j+=f*Y),i=(f=(i+=38*(w+=f*U))+(r=1)+65535)-65536*(r=Math.floor(f/65536)),a=(f=a+r+65535)-65536*(r=Math.floor(f/65536)),o=(f=o+r+65535)-65536*(r=Math.floor(f/65536)),s=(f=s+r+65535)-65536*(r=Math.floor(f/65536)),c=(f=c+r+65535)-65536*(r=Math.floor(f/65536)),d=(f=d+r+65535)-65536*(r=Math.floor(f/65536)),l=(f=l+r+65535)-65536*(r=Math.floor(f/65536)),u=(f=u+r+65535)-65536*(r=Math.floor(f/65536)),b=(f=b+r+65535)-65536*(r=Math.floor(f/65536)),h=(f=h+r+65535)-65536*(r=Math.floor(f/65536)),p=(f=p+r+65535)-65536*(r=Math.floor(f/65536)),g=(f=g+r+65535)-65536*(r=Math.floor(f/65536)),y=(f=y+r+65535)-65536*(r=Math.floor(f/65536)),m=(f=m+r+65535)-65536*(r=Math.floor(f/65536)),v=(f=v+r+65535)-65536*(r=Math.floor(f/65536)),x=(f=x+r+65535)-65536*(r=Math.floor(f/65536)),i=(f=(i+=r-1+37*(r-1))+(r=1)+65535)-65536*(r=Math.floor(f/65536)),a=(f=a+r+65535)-65536*(r=Math.floor(f/65536)),o=(f=o+r+65535)-65536*(r=Math.floor(f/65536)),s=(f=s+r+65535)-65536*(r=Math.floor(f/65536)),c=(f=c+r+65535)-65536*(r=Math.floor(f/65536)),d=(f=d+r+65535)-65536*(r=Math.floor(f/65536)),l=(f=l+r+65535)-65536*(r=Math.floor(f/65536)),u=(f=u+r+65535)-65536*(r=Math.floor(f/65536)),b=(f=b+r+65535)-65536*(r=Math.floor(f/65536)),h=(f=h+r+65535)-65536*(r=Math.floor(f/65536)),p=(f=p+r+65535)-65536*(r=Math.floor(f/65536)),g=(f=g+r+65535)-65536*(r=Math.floor(f/65536)),y=(f=y+r+65535)-65536*(r=Math.floor(f/65536)),m=(f=m+r+65535)-65536*(r=Math.floor(f/65536)),v=(f=v+r+65535)-65536*(r=Math.floor(f/65536)),x=(f=x+r+65535)-65536*(r=Math.floor(f/65536)),i+=r-1+37*(r-1),e[0]=i,e[1]=a,e[2]=o,e[3]=s,e[4]=c,e[5]=d,e[6]=l,e[7]=u,e[8]=b,e[9]=h,e[10]=p,e[11]=g,e[12]=y,e[13]=m,e[14]=v,e[15]=x}function $(e,t){L(e,t,t)}function H(e,n){var f,r=t();for(f=0;f<16;f++)r[f]=n[f];for(f=253;f>=0;f--)$(r,r),2!==f&&4!==f&&L(r,r,n);for(f=0;f<16;f++)e[f]=r[f]}function W(e,n){var f,r=t();for(f=0;f<16;f++)r[f]=n[f];for(f=250;f>=0;f--)$(r,r),1!==f&&L(r,r,n);for(f=0;f<16;f++)e[f]=r[f]}function X(e,n,f){var r,i,a=new Uint8Array(32),s=new Float64Array(80),c=t(),d=t(),l=t(),u=t(),b=t(),h=t();for(i=0;i<31;i++)a[i]=n[i];for(a[31]=127&n[31]|64,a[0]&=248,U(s,f),i=0;i<16;i++)d[i]=s[i],u[i]=c[i]=l[i]=0;for(c[0]=u[0]=1,i=254;i>=0;--i)D(c,d,r=a[i>>>3]>>>(7&i)&1),D(l,u,r),M(b,c,l),B(c,c,l),M(l,d,u),B(d,d,u),$(u,b),$(h,c),L(c,l,c),L(l,d,b),M(b,c,l),B(c,c,l),$(d,c),B(l,u,h),L(c,l,o),M(c,c,u),L(l,l,c),L(c,u,h),L(u,d,s),$(d,b),D(c,d,r),D(l,u,r);for(i=0;i<16;i++)s[i+16]=c[i],s[i+32]=l[i],s[i+48]=d[i],s[i+64]=u[i];var p=s.subarray(32),g=s.subarray(16);return H(p,p),L(g,g,p),I(e,g),0}function F(e,t){return X(e,t,r)}function q(e,t){return n(t,32),F(e,t)}function J(e,t,n){var r=new Uint8Array(32);return X(r,n,t),v(e,f,r,x)}E.prototype.blocks=function(e,t,n){for(var f,r,i,a,o,s,c,d,l,u,b,h,p,g,y,m,v,x,w,_=this.fin?0:2048,C=this.h[0],O=this.h[1],E=this.h[2],S=this.h[3],T=this.h[4],N=this.h[5],k=this.h[6],R=this.h[7],A=this.h[8],P=this.h[9],D=this.r[0],I=this.r[1],j=this.r[2],K=this.r[3],U=this.r[4],M=this.r[5],B=this.r[6],L=this.r[7],$=this.r[8],H=this.r[9];n>=16;)u=l=0,u+=(C+=8191&(f=255&e[t+0]|(255&e[t+1])<<8))*D,u+=(O+=8191&(f>>>13|(r=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*H),u+=(E+=8191&(r>>>10|(i=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*$),u+=(S+=8191&(i>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*L),l=(u+=(T+=8191&(a>>>4|(o=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*B))>>>13,u&=8191,u+=(N+=o>>>1&8191)*(5*M),u+=(k+=8191&(o>>>14|(s=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*U),u+=(R+=8191&(s>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*K),u+=(A+=8191&(c>>>8|(d=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*j),b=l+=(u+=(P+=d>>>5|_)*(5*I))>>>13,b+=C*I,b+=O*D,b+=E*(5*H),b+=S*(5*$),l=(b+=T*(5*L))>>>13,b&=8191,b+=N*(5*B),b+=k*(5*M),b+=R*(5*U),b+=A*(5*K),l+=(b+=P*(5*j))>>>13,b&=8191,h=l,h+=C*j,h+=O*I,h+=E*D,h+=S*(5*H),l=(h+=T*(5*$))>>>13,h&=8191,h+=N*(5*L),h+=k*(5*B),h+=R*(5*M),h+=A*(5*U),p=l+=(h+=P*(5*K))>>>13,p+=C*K,p+=O*j,p+=E*I,p+=S*D,l=(p+=T*(5*H))>>>13,p&=8191,p+=N*(5*$),p+=k*(5*L),p+=R*(5*B),p+=A*(5*M),g=l+=(p+=P*(5*U))>>>13,g+=C*U,g+=O*K,g+=E*j,g+=S*I,l=(g+=T*D)>>>13,g&=8191,g+=N*(5*H),g+=k*(5*$),g+=R*(5*L),g+=A*(5*B),y=l+=(g+=P*(5*M))>>>13,y+=C*M,y+=O*U,y+=E*K,y+=S*j,l=(y+=T*I)>>>13,y&=8191,y+=N*D,y+=k*(5*H),y+=R*(5*$),y+=A*(5*L),m=l+=(y+=P*(5*B))>>>13,m+=C*B,m+=O*M,m+=E*U,m+=S*K,l=(m+=T*j)>>>13,m&=8191,m+=N*I,m+=k*D,m+=R*(5*H),m+=A*(5*$),v=l+=(m+=P*(5*L))>>>13,v+=C*L,v+=O*B,v+=E*M,v+=S*U,l=(v+=T*K)>>>13,v&=8191,v+=N*j,v+=k*I,v+=R*D,v+=A*(5*H),x=l+=(v+=P*(5*$))>>>13,x+=C*$,x+=O*L,x+=E*B,x+=S*M,l=(x+=T*U)>>>13,x&=8191,x+=N*K,x+=k*j,x+=R*I,x+=A*D,w=l+=(x+=P*(5*H))>>>13,w+=C*H,w+=O*$,w+=E*L,w+=S*B,l=(w+=T*M)>>>13,w&=8191,w+=N*U,w+=k*K,w+=R*j,w+=A*I,C=u=8191&(l=(l=((l+=(w+=P*D)>>>13)<<2)+l|0)+(u&=8191)|0),O=b+=l>>>=13,E=h&=8191,S=p&=8191,T=g&=8191,N=y&=8191,k=m&=8191,R=v&=8191,A=x&=8191,P=w&=8191,t+=16,n-=16;this.h[0]=C,this.h[1]=O,this.h[2]=E,this.h[3]=S,this.h[4]=T,this.h[5]=N,this.h[6]=k,this.h[7]=R,this.h[8]=A,this.h[9]=P},E.prototype.finish=function(e,t){var n,f,r,i,a=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=n,n=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,a[0]=this.h[0]+5,n=a[0]>>>13,a[0]&=8191,i=1;i<10;i++)a[i]=this.h[i]+n,n=a[i]>>>13,a[i]&=8191;for(a[9]-=8192,f=(1^n)-1,i=0;i<10;i++)a[i]&=f;for(f=~f,i=0;i<10;i++)this.h[i]=this.h[i]&f|a[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),r=this.h[0]+this.pad[0],this.h[0]=65535&r,i=1;i<8;i++)r=(this.h[i]+this.pad[i]|0)+(r>>>16)|0,this.h[i]=65535&r;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},E.prototype.update=function(e,t,n){var f,r;if(this.leftover){for((r=16-this.leftover)>n&&(r=n),f=0;f<r;f++)this.buffer[this.leftover+f]=e[t+f];if(n-=r,t+=r,this.leftover+=r,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(r=n-n%16,this.blocks(e,t,r),t+=r,n-=r),n){for(f=0;f<n;f++)this.buffer[this.leftover+f]=e[t+f];this.leftover+=n}};var z=N,G=R;var V=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Y(e,t,n,f){for(var r,i,a,o,s,c,d,l,u,b,h,p,g,y,m,v,x,w,_,C,O,E,S,T,N,k,R=new Int32Array(16),A=new Int32Array(16),P=e[0],D=e[1],I=e[2],j=e[3],K=e[4],U=e[5],M=e[6],B=e[7],L=t[0],$=t[1],H=t[2],W=t[3],X=t[4],F=t[5],q=t[6],J=t[7],z=0;f>=128;){for(_=0;_<16;_++)C=8*_+z,R[_]=n[C+0]<<24|n[C+1]<<16|n[C+2]<<8|n[C+3],A[_]=n[C+4]<<24|n[C+5]<<16|n[C+6]<<8|n[C+7];for(_=0;_<80;_++)if(r=P,i=D,a=I,o=j,s=K,c=U,d=M,B,u=L,b=$,h=H,p=W,g=X,y=F,m=q,J,S=65535&(E=J),T=E>>>16,N=65535&(O=B),k=O>>>16,S+=65535&(E=(X>>>14|K<<18)^(X>>>18|K<<14)^(K>>>9|X<<23)),T+=E>>>16,N+=65535&(O=(K>>>14|X<<18)^(K>>>18|X<<14)^(X>>>9|K<<23)),k+=O>>>16,S+=65535&(E=X&F^~X&q),T+=E>>>16,N+=65535&(O=K&U^~K&M),k+=O>>>16,S+=65535&(E=V[2*_+1]),T+=E>>>16,N+=65535&(O=V[2*_]),k+=O>>>16,O=R[_%16],T+=(E=A[_%16])>>>16,N+=65535&O,k+=O>>>16,N+=(T+=(S+=65535&E)>>>16)>>>16,S=65535&(E=w=65535&S|T<<16),T=E>>>16,N=65535&(O=x=65535&N|(k+=N>>>16)<<16),k=O>>>16,S+=65535&(E=(L>>>28|P<<4)^(P>>>2|L<<30)^(P>>>7|L<<25)),T+=E>>>16,N+=65535&(O=(P>>>28|L<<4)^(L>>>2|P<<30)^(L>>>7|P<<25)),k+=O>>>16,T+=(E=L&$^L&H^$&H)>>>16,N+=65535&(O=P&D^P&I^D&I),k+=O>>>16,l=65535&(N+=(T+=(S+=65535&E)>>>16)>>>16)|(k+=N>>>16)<<16,v=65535&S|T<<16,S=65535&(E=p),T=E>>>16,N=65535&(O=o),k=O>>>16,T+=(E=w)>>>16,N+=65535&(O=x),k+=O>>>16,D=r,I=i,j=a,K=o=65535&(N+=(T+=(S+=65535&E)>>>16)>>>16)|(k+=N>>>16)<<16,U=s,M=c,B=d,P=l,$=u,H=b,W=h,X=p=65535&S|T<<16,F=g,q=y,J=m,L=v,_%16===15)for(C=0;C<16;C++)O=R[C],S=65535&(E=A[C]),T=E>>>16,N=65535&O,k=O>>>16,O=R[(C+9)%16],S+=65535&(E=A[(C+9)%16]),T+=E>>>16,N+=65535&O,k+=O>>>16,x=R[(C+1)%16],S+=65535&(E=((w=A[(C+1)%16])>>>1|x<<31)^(w>>>8|x<<24)^(w>>>7|x<<25)),T+=E>>>16,N+=65535&(O=(x>>>1|w<<31)^(x>>>8|w<<24)^x>>>7),k+=O>>>16,x=R[(C+14)%16],T+=(E=((w=A[(C+14)%16])>>>19|x<<13)^(x>>>29|w<<3)^(w>>>6|x<<26))>>>16,N+=65535&(O=(x>>>19|w<<13)^(w>>>29|x<<3)^x>>>6),k+=O>>>16,k+=(N+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,R[C]=65535&N|k<<16,A[C]=65535&S|T<<16;S=65535&(E=L),T=E>>>16,N=65535&(O=P),k=O>>>16,O=e[0],T+=(E=t[0])>>>16,N+=65535&O,k+=O>>>16,k+=(N+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,e[0]=P=65535&N|k<<16,t[0]=L=65535&S|T<<16,S=65535&(E=$),T=E>>>16,N=65535&(O=D),k=O>>>16,O=e[1],T+=(E=t[1])>>>16,N+=65535&O,k+=O>>>16,k+=(N+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,e[1]=D=65535&N|k<<16,t[1]=$=65535&S|T<<16,S=65535&(E=H),T=E>>>16,N=65535&(O=I),k=O>>>16,O=e[2],T+=(E=t[2])>>>16,N+=65535&O,k+=O>>>16,k+=(N+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,e[2]=I=65535&N|k<<16,t[2]=H=65535&S|T<<16,S=65535&(E=W),T=E>>>16,N=65535&(O=j),k=O>>>16,O=e[3],T+=(E=t[3])>>>16,N+=65535&O,k+=O>>>16,k+=(N+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,e[3]=j=65535&N|k<<16,t[3]=W=65535&S|T<<16,S=65535&(E=X),T=E>>>16,N=65535&(O=K),k=O>>>16,O=e[4],T+=(E=t[4])>>>16,N+=65535&O,k+=O>>>16,k+=(N+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,e[4]=K=65535&N|k<<16,t[4]=X=65535&S|T<<16,S=65535&(E=F),T=E>>>16,N=65535&(O=U),k=O>>>16,O=e[5],T+=(E=t[5])>>>16,N+=65535&O,k+=O>>>16,k+=(N+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,e[5]=U=65535&N|k<<16,t[5]=F=65535&S|T<<16,S=65535&(E=q),T=E>>>16,N=65535&(O=M),k=O>>>16,O=e[6],T+=(E=t[6])>>>16,N+=65535&O,k+=O>>>16,k+=(N+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,e[6]=M=65535&N|k<<16,t[6]=q=65535&S|T<<16,S=65535&(E=J),T=E>>>16,N=65535&(O=B),k=O>>>16,O=e[7],T+=(E=t[7])>>>16,N+=65535&O,k+=O>>>16,k+=(N+=(T+=(S+=65535&E)>>>16)>>>16)>>>16,e[7]=B=65535&N|k<<16,t[7]=J=65535&S|T<<16,z+=128,f-=128}return f}function Z(e,t,n){var f,r=new Int32Array(8),i=new Int32Array(8),a=new Uint8Array(256),o=n;for(r[0]=1779033703,r[1]=3144134277,r[2]=1013904242,r[3]=2773480762,r[4]=1359893119,r[5]=2600822924,r[6]=528734635,r[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,Y(r,i,t,n),n%=128,f=0;f<n;f++)a[f]=t[o-n+f];for(a[n]=128,a[(n=256-128*(n<112?1:0))-9]=0,h(a,n-8,o/536870912|0,o<<3),Y(r,i,a,n),f=0;f<8;f++)h(e,8*f,r[f],i[f]);return 0}function Q(e,n){var f=t(),r=t(),i=t(),a=t(),o=t(),s=t(),d=t(),l=t(),u=t();B(f,e[1],e[0]),B(u,n[1],n[0]),L(f,f,u),M(r,e[0],e[1]),M(u,n[0],n[1]),L(r,r,u),L(i,e[3],n[3]),L(i,i,c),L(a,e[2],n[2]),M(a,a,a),B(o,r,f),B(s,a,i),M(d,a,i),M(l,r,f),L(e[0],o,s),L(e[1],l,d),L(e[2],d,s),L(e[3],o,l)}function ee(e,t,n){var f;for(f=0;f<4;f++)D(e[f],t[f],n)}function te(e,n){var f=t(),r=t(),i=t();H(i,n[2]),L(f,n[0],i),L(r,n[1],i),I(e,r),e[31]^=K(f)<<7}function ne(e,t,n){var f,r;for(A(e[0],i),A(e[1],a),A(e[2],a),A(e[3],i),r=255;r>=0;--r)ee(e,t,f=n[r/8|0]>>(7&r)&1),Q(t,e),Q(e,e),ee(e,t,f)}function fe(e,n){var f=[t(),t(),t(),t()];A(f[0],d),A(f[1],u),A(f[2],a),L(f[3],d,u),ne(e,f,n)}function re(e,f,r){var i,a=new Uint8Array(64),o=[t(),t(),t(),t()];for(r||n(f,32),Z(a,f,32),a[0]&=248,a[31]&=127,a[31]|=64,fe(o,a),te(e,o),i=0;i<32;i++)f[i+32]=e[i];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ae(e,t){var n,f,r,i;for(f=63;f>=32;--f){for(n=0,r=f-32,i=f-12;r<i;++r)t[r]+=n-16*t[f]*ie[r-(f-32)],n=Math.floor((t[r]+128)/256),t[r]-=256*n;t[r]+=n,t[f]=0}for(n=0,r=0;r<32;r++)t[r]+=n-(t[31]>>4)*ie[r],n=t[r]>>8,t[r]&=255;for(r=0;r<32;r++)t[r]-=n*ie[r];for(f=0;f<32;f++)t[f+1]+=t[f]>>8,e[f]=255&t[f]}function oe(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;ae(e,n)}function se(e,n,f,r){var i,a,o=new Uint8Array(64),s=new Uint8Array(64),c=new Uint8Array(64),d=new Float64Array(64),l=[t(),t(),t(),t()];Z(o,r,32),o[0]&=248,o[31]&=127,o[31]|=64;var u=f+64;for(i=0;i<f;i++)e[64+i]=n[i];for(i=0;i<32;i++)e[32+i]=o[32+i];for(Z(c,e.subarray(32),f+32),oe(c),fe(l,c),te(e,l),i=32;i<64;i++)e[i]=r[i];for(Z(s,e,f+64),oe(s),i=0;i<64;i++)d[i]=0;for(i=0;i<32;i++)d[i]=c[i];for(i=0;i<32;i++)for(a=0;a<32;a++)d[i+a]+=s[i]*o[a];return ae(e.subarray(32),d),u}function ce(e,n,f,r){var o,c=new Uint8Array(32),d=new Uint8Array(64),l=[t(),t(),t(),t()],u=[t(),t(),t(),t()];if(f<64||function(e,n){var f=t(),r=t(),o=t(),c=t(),d=t(),l=t(),u=t();return A(e[2],a),U(e[1],n),$(o,e[1]),L(c,o,s),B(o,o,e[2]),M(c,e[2],c),$(d,c),$(l,d),L(u,l,d),L(f,u,o),L(f,f,c),W(f,f),L(f,f,o),L(f,f,c),L(f,f,c),L(e[0],f,c),$(r,e[0]),L(r,r,c),j(r,o)&&L(e[0],e[0],b),$(r,e[0]),L(r,r,c),j(r,o)?-1:(K(e[0])===n[31]>>7&&B(e[0],i,e[0]),L(e[3],e[0],e[1]),0)}(u,r))return-1;for(o=0;o<f;o++)e[o]=n[o];for(o=0;o<32;o++)e[o+32]=r[o];if(Z(d,e,f),oe(d),ne(l,u,d),fe(u,n.subarray(32)),Q(l,u),te(c,l),f-=64,y(n,0,c,0)){for(o=0;o<f;o++)e[o]=0;return-1}for(o=0;o<f;o++)e[o]=n[o+64];return f}var de=16,le=64,ue=32,be=64;function he(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ge(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:v,crypto_stream_xor:O,crypto_stream:C,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:_,crypto_onetimeauth:S,crypto_onetimeauth_verify:T,crypto_verify_16:g,crypto_verify_32:y,crypto_secretbox:N,crypto_secretbox_open:R,crypto_scalarmult:X,crypto_scalarmult_base:F,crypto_box_beforenm:J,crypto_box_afternm:z,crypto_box:function(e,t,n,f,r,i){var a=new Uint8Array(32);return J(a,r,i),z(e,t,n,f,a)},crypto_box_open:function(e,t,n,f,r,i){var a=new Uint8Array(32);return J(a,r,i),G(e,t,n,f,a)},crypto_box_keypair:q,crypto_hash:Z,crypto_sign:se,crypto_sign_keypair:re,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:de,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:ue,crypto_sign_SECRETKEYBYTES:be,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:s,L:ie,pack25519:I,unpack25519:U,M:L,A:M,S:$,Z:B,pow2523:W,add:Q,set25519:A,modL:ae,scalarmult:ne,scalarbase:fe},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,n){pe(e,t,n),he(n,t);for(var f=new Uint8Array(32+e.length),r=new Uint8Array(f.length),i=0;i<e.length;i++)f[i+32]=e[i];return N(r,f,f.length,t,n),r.subarray(de)},e.secretbox.open=function(e,t,n){pe(e,t,n),he(n,t);for(var f=new Uint8Array(de+e.length),r=new Uint8Array(f.length),i=0;i<e.length;i++)f[i+de]=e[i];return f.length<32||0!==R(r,f,f.length,t,n)?null:r.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=de,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return X(n,e,t),n},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return F(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,n,f,r){var i=e.box.before(f,r);return e.secretbox(t,n,i)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var n=new Uint8Array(32);return J(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,f,r){var i=e.box.before(f,r);return e.secretbox.open(t,n,i)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return q(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return F(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==be)throw new Error("bad secret key size");var n=new Uint8Array(le+e.length);return se(n,e,e.length,t),n},e.sign.open=function(e,t){if(pe(e,t),t.length!==ue)throw new Error("bad public key size");var n=new Uint8Array(e.length),f=ce(n,e,e.length,t);if(f<0)return null;for(var r=new Uint8Array(f),i=0;i<r.length;i++)r[i]=n[i];return r},e.sign.detached=function(t,n){for(var f=e.sign(t,n),r=new Uint8Array(le),i=0;i<r.length;i++)r[i]=f[i];return r},e.sign.detached.verify=function(e,t,n){if(pe(e,t,n),t.length!==le)throw new Error("bad signature size");if(n.length!==ue)throw new Error("bad public key size");var f,r=new Uint8Array(le+e.length),i=new Uint8Array(le+e.length);for(f=0;f<le;f++)r[f]=t[f];for(f=0;f<e.length;f++)r[f+le]=e[f];return ce(i,r,r.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(ue),t=new Uint8Array(be);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==be)throw new Error("bad secret key size");for(var t=new Uint8Array(ue),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(ue),n=new Uint8Array(be),f=0;f<32;f++)n[f]=e[f];return re(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=ue,e.sign.secretKeyLength=be,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){pe(e);var t=new Uint8Array(64);return Z(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===p(e,0,t,0,e.length)},e.setPRNG=function(e){n=e},function(){var t=typeof self<"u"?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,n){var f,r=new Uint8Array(n);for(f=0;f<n;f+=65536)t.getRandomValues(r.subarray(f,f+Math.min(n-f,65536)));for(f=0;f<n;f++)e[f]=r[f];ge(r)}))}else typeof l<"u"&&((t=k())&&t.randomBytes&&e.setPRNG((function(e,n){var f,r=t.randomBytes(n);for(f=0;f<n;f++)e[f]=r[f];ge(r)})))}()}(typeof t<"u"&&t.exports?t.exports:self.nacl=self.nacl||{})})),A=b(((e,t)=>{var n,r;n=e,r=function(){var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw new TypeError("expected string");var t,n=unescape(encodeURIComponent(e)),f=new Uint8Array(n.length);for(t=0;t<n.length;t++)f[t]=n.charCodeAt(t);return f},e.encodeUTF8=function(e){var t,n=[];for(t=0;t<e.length;t++)n.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(n.join("")))},typeof atob>"u"?typeof f.from<"u"?(e.encodeBase64=function(e){return f.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(f.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new f(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new f(e,"base64"),0))}):(e.encodeBase64=function(e){var t,n=[],f=e.length;for(t=0;t<f;t++)n.push(String.fromCharCode(e[t]));return btoa(n.join(""))},e.decodeBase64=function(e){t(e);var n,f=atob(e),r=new Uint8Array(f.length);for(n=0;n<f.length;n++)r[n]=f.charCodeAt(n);return r}),e},typeof t<"u"&&t.exports?t.exports=r():(n.nacl||(n.nacl={}),n.nacl.util=r())}));function P(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),f=0;f<n.length;f++)n[f]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),a=i.charCodeAt(0);if(255!==n[a])throw new TypeError(i+" is ambiguous");n[a]=r}var o=e.length,s=e.charAt(0),c=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var f=0,r=0;e[t]===s;)f++,t++;for(var i=(e.length-t)*c+1>>>0,a=new Uint8Array(i);e[t];){var d=n[e.charCodeAt(t)];if(255===d)return;for(var l=0,u=i-1;(0!==d||l<r)&&-1!==u;u--,l++)d+=o*a[u]>>>0,a[u]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");r=l,t++}if(" "!==e[t]){for(var b=i-r;b!==i&&0===a[b];)b++;for(var h=new Uint8Array(f+(i-b)),p=f;b!==i;)h[p++]=a[b++];return h}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,f=0,r=0,i=t.length;r!==i&&0===t[r];)r++,n++;for(var a=(i-r)*d+1>>>0,c=new Uint8Array(a);r!==i;){for(var l=t[r],u=0,b=a-1;(0!==l||u<f)&&-1!==b;b--,u++)l+=256*c[b]>>>0,c[b]=l%o>>>0,l=l/o>>>0;if(0!==l)throw new Error("Non-zero carry");f=u,r++}for(var h=a-f;h!==a&&0===c[h];)h++;for(var p=s.repeat(n);h<a;++h)p+=e.charAt(c[h]);return p},decodeUnsafe:l,decode:function(e){var n=l(e);if(n)return n;throw new Error(`Non-${t} character`)}}}var D,I,j,K,U,M,B,L,$,H,W,X,F,q,J,z=u((()=>{D=P})),G=u((()=>{new Uint8Array(0),I=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},j=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},K=e=>(new TextEncoder).encode(e),U=e=>(new TextDecoder).decode(e)})),V=u((()=>{z(),G(),M=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},B=class{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return $(this,e)}},L=class{constructor(e){this.decoders=e}or(e){return $(this,e)}decode(e){let t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},$=(e,t)=>new L({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),H=class{constructor(e,t,n,f){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=f,this.encoder=new M(e,t,n),this.decoder=new B(e,t,f)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},W=e=>{let{name:t,prefix:n,encode:f,decode:r}=e;return new H(t,n,f,r)},X=e=>{let{prefix:t,name:n,alphabet:f}=e,{encode:r,decode:i}=D(f,n);return W({prefix:t,name:n,encode:r,decode:e=>j(i(e))})},F=(e,t,n,f)=>{let r={};for(let d=0;d<t.length;++d)r[t[d]]=d;let i=e.length;for(;"="===e[i-1];)--i;let a=new Uint8Array(i*n/8|0),o=0,s=0,c=0;for(let d=0;d<i;++d){let t=r[e[d]];if(void 0===t)throw new SyntaxError(`Non-${f} character`);s=s<<n|t,o+=n,o>=8&&(o-=8,a[c++]=255&s>>o)}if(o>=n||255&s<<8-o)throw new SyntaxError("Unexpected end of data");return a},q=(e,t,n)=>{let f="="===t[t.length-1],r=(1<<n)-1,i="",a=0,o=0;for(let s=0;s<e.length;++s)for(o=o<<8|e[s],a+=8;a>n;)a-=n,i+=t[r&o>>a];if(a&&(i+=t[r&o<<n-a]),f)for(;i.length*n&7;)i+="=";return i},J=e=>{let{name:t,prefix:n,bitsPerChar:f,alphabet:r}=e;return W({prefix:n,name:t,encode:e=>q(e,r,f),decode:e=>F(e,r,f,t)})}})),Y={};h(Y,{identity:()=>Z});var Z,Q=u((()=>{V(),G(),Z=W({prefix:"\0",name:"identity",encode:e=>U(e),decode:e=>K(e)})})),ee={};h(ee,{base2:()=>te});var te,ne=u((()=>{V(),te=J({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})})),fe={};h(fe,{base8:()=>re});var re,ie=u((()=>{V(),re=J({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})})),ae={};h(ae,{base10:()=>oe});var oe,se=u((()=>{V(),oe=X({prefix:"9",name:"base10",alphabet:"0123456789"})})),ce={};h(ce,{base16:()=>de,base16upper:()=>le});var de,le,ue=u((()=>{V(),de=J({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),le=J({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})})),be={};h(be,{base32:()=>he,base32hex:()=>me,base32hexpad:()=>xe,base32hexpadupper:()=>we,base32hexupper:()=>ve,base32pad:()=>ge,base32padupper:()=>ye,base32upper:()=>pe,base32z:()=>_e});var he,pe,ge,ye,me,ve,xe,we,_e,Ce=u((()=>{V(),he=J({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),pe=J({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ge=J({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ye=J({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),me=J({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ve=J({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),xe=J({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),we=J({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_e=J({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})})),Oe={};h(Oe,{base36:()=>Ee,base36upper:()=>Se});var Ee,Se,Te=u((()=>{V(),Ee=X({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Se=X({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})})),Ne={};h(Ne,{base58btc:()=>ke,base58flickr:()=>Re});var ke,Re,Ae=u((()=>{V(),ke=X({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Re=X({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})})),Pe={};h(Pe,{base64:()=>De,base64pad:()=>Ie,base64url:()=>je,base64urlpad:()=>Ke});var De,Ie,je,Ke,Ue=u((()=>{V(),De=J({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ie=J({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),je=J({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ke=J({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})})),Me={};function Be(e){return e.reduce(((e,t)=>e+=He[t]),"")}function Le(e){let t=[];for(let n of e){let e=We[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}h(Me,{base256emoji:()=>Xe});var $e,He,We,Xe,Fe=u((()=>{V(),$e=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),He=$e.reduce(((e,t,n)=>(e[n]=t,e)),[]),We=$e.reduce(((e,t,n)=>(e[t.codePointAt(0)]=n,e)),[]),Xe=W({prefix:"\ud83d\ude80",name:"base256emoji",encode:Be,decode:Le})}));function qe(e,t,n){t=t||[];for(var f=n=n||0;e>=Ye;)t[n++]=255&e|Ge,e/=128;for(;e&Ve;)t[n++]=255&e|Ge,e>>>=7;return t[n]=0|e,qe.bytes=n-f+1,t}function Je(e,t){var n,f=0,r=0,i=t=t||0,a=e.length;do{if(i>=a)throw Je.bytes=0,new RangeError("Could not decode varint");n=e[i++],f+=r<28?(n&et)<<r:(n&et)*Math.pow(2,r),r+=7}while(n>=Qe);return Je.bytes=i-t,f}var ze,Ge,Ve,Ye,Ze,Qe,et,tt,nt,ft,rt,it,at,ot,st,ct,dt,lt,ut,bt,ht,pt,gt,yt,mt,vt,xt=u((()=>{ze=qe,Ge=128,Ve=-128,Ye=Math.pow(2,31),Ze=Je,Qe=128,et=127,tt=Math.pow(2,7),nt=Math.pow(2,14),ft=Math.pow(2,21),rt=Math.pow(2,28),it=Math.pow(2,35),at=Math.pow(2,42),ot=Math.pow(2,49),st=Math.pow(2,56),ct=Math.pow(2,63),dt={encode:ze,decode:Ze,encodingLength:function(e){return e<tt?1:e<nt?2:e<ft?3:e<rt?4:e<it?5:e<at?6:e<ot?7:e<st?8:e<ct?9:10}}})),wt=u((()=>{xt(),lt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[dt.decode(e,t),dt.decode.bytes]},ut=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return dt.encode(e,t,n),t},bt=e=>dt.encodingLength(e)})),_t=u((()=>{G(),wt(),ht=(e,t)=>{let n=t.byteLength,f=bt(e),r=f+bt(n),i=new Uint8Array(r+n);return ut(e,i,0),ut(n,i,f),i.set(t,r),new yt(e,n,t,i)},pt=e=>{let t=j(e),[n,f]=lt(t),[r,i]=lt(t.subarray(f)),a=t.subarray(f+i);if(a.byteLength!==r)throw new Error("Incorrect length");return new yt(n,r,a,t)},gt=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&I(e.bytes,t.bytes),yt=class{constructor(e,t,n,f){this.code=e,this.size=t,this.digest=n,this.bytes=f}}})),Ct=u((()=>{_t(),mt=e=>{let{name:t,code:n,encode:f}=e;return new vt(t,n,f)},vt=class{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?ht(this.code,t):t.then((e=>ht(this.code,e)))}throw Error("Unknown type, must be binary type")}}})),Ot={};h(Ot,{sha256:()=>St,sha512:()=>Tt});var Et,St,Tt,Nt=u((()=>{Ct(),St=mt({name:"sha2-256",code:18,encode:(Et=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)))("SHA-256")}),Tt=mt({name:"sha2-512",code:19,encode:Et("SHA-512")})})),kt={};h(kt,{identity:()=>Pt});var Rt,At,Pt,Dt,It,jt,Kt,Ut,Mt,Bt,Lt,$t,Ht,Wt,Xt,Ft=u((()=>{G(),_t(),At=e=>ht(0,Rt(e)),Pt={code:0,name:"identity",encode:Rt=j,digest:At}})),qt=u((()=>{G()})),Jt=u((()=>{new TextEncoder,new TextDecoder})),zt=u((()=>{wt(),_t(),Ae(),Ce(),G(),class e{constructor(e,t,n,f){this.code=t,this.version=e,this.multihash=n,this.bytes=f,this.byteOffset=f.byteOffset,this.byteLength=f.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:$t,byteLength:$t,code:Lt,version:Lt,multihash:Lt,bytes:Lt,_baseCache:$t,asCID:$t})}toV0(){if(0===this.version)return this;{let{code:t,multihash:n}=this;if(t!==Kt)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==Ut)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return e.createV0(n)}}toV1(){switch(this.version){case 0:{let{code:t,digest:n}=this.multihash,f=ht(t,n);return e.createV1(this.code,f)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&gt(this.multihash,e.multihash)}toString(e){let{bytes:t,version:n,_baseCache:f}=this;return 0===n?It(t,f,e||ke.encoder):jt(t,f,e||he.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Ht(/^0\.0/,Wt),!(!e||!e[Bt]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof e)return t;if(null!=t&&t.asCID===t){let{version:n,code:f,multihash:r,bytes:i}=t;return new e(n,f,r,i||Mt(n,f,r.bytes))}if(null!=t&&!0===t[Bt]){let{version:n,multihash:f,code:r}=t,i=pt(f);return e.create(n,r,i)}return null}static create(t,n,f){if("number"!=typeof n)throw new Error("String codecs are no longer supported");switch(t){case 0:if(n!==Kt)throw new Error(`Version 0 CID must use dag-pb (code: ${Kt}) block encoding`);return new e(t,n,f,f.bytes);case 1:{let r=Mt(t,n,f.bytes);return new e(t,n,f,r)}default:throw new Error("Invalid version")}}static createV0(t){return e.create(0,Kt,t)}static createV1(t,n){return e.create(1,t,n)}static decode(t){let[n,f]=e.decodeFirst(t);if(f.length)throw new Error("Incorrect length");return n}static decodeFirst(t){let n=e.inspectBytes(t),f=n.size-n.multihashSize,r=j(t.subarray(f,f+n.multihashSize));if(r.byteLength!==n.multihashSize)throw new Error("Incorrect length");let i=r.subarray(n.multihashSize-n.digestSize),a=new yt(n.multihashCode,n.digestSize,i,r);return[0===n.version?e.createV0(a):e.createV1(n.codec,a),t.subarray(n.size)]}static inspectBytes(e){let t=0,n=()=>{let[n,f]=lt(e.subarray(t));return t+=f,n},f=n(),r=Kt;if(18===f?(f=0,t=0):1===f&&(r=n()),0!==f&&1!==f)throw new RangeError(`Invalid CID version ${f}`);let i=t,a=n(),o=n(),s=t+o;return{version:f,codec:r,multihashCode:a,digestSize:o,multihashSize:s-i,size:s}}static parse(t,n){let[f,r]=Dt(t,n),i=e.decode(r);return i._baseCache.set(f,t),i}},Dt=(e,t)=>{switch(e[0]){case"Q":{let n=t||ke;return[ke.prefix,n.decode(`${ke.prefix}${e}`)]}case ke.prefix:{let n=t||ke;return[ke.prefix,n.decode(e)]}case he.prefix:{let n=t||he;return[he.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},It=(e,t,n)=>{let{prefix:f}=n;if(f!==ke.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);let r=t.get(f);if(null==r){let r=n.encode(e).slice(1);return t.set(f,r),r}return r},jt=(e,t,n)=>{let{prefix:f}=n,r=t.get(f);if(null==r){let r=n.encode(e);return t.set(f,r),r}return r},Kt=112,Ut=18,Mt=(e,t,n)=>{let f=bt(e),r=f+bt(t),i=new Uint8Array(r+n.byteLength);return ut(e,i,0),ut(t,i,f),i.set(n,r),i},Bt=Symbol.for("@ipld/js-cid/CID"),Lt={writable:!1,configurable:!1,enumerable:!0},$t={writable:!1,enumerable:!1,configurable:!1},Ht=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);r.warn(t)},Wt="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n"})),Gt=u((()=>{zt(),wt(),G(),Ct(),_t()})),Vt=u((()=>{Q(),ne(),ie(),se(),ue(),Ce(),Te(),Ae(),Ue(),Fe(),Nt(),Ft(),qt(),Jt(),Gt(),Xt={...Y,...ee,...fe,...ae,...ce,...be,...Oe,...Ne,...Pe,...Me},{...Ot,...kt}}));var Yt=u((()=>{}));function Zt(e,t,n,f){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:f}}}var Qt,en,tn,nn,fn=u((()=>{Vt(),Yt(),Qt=Zt("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),en=Zt("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{let t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),tn={utf8:Qt,"utf-8":Qt,hex:Xt.base16,latin1:en,ascii:en,binary:en,...Xt},nn=tn})),rn={};function an(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",n=nn[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}h(rn,{toString:()=>an});var on=u((()=>{fn()})),sn=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mul=Math.imul||function(e,t){var n=65535&e,f=65535&t;return n*f+((e>>>16&65535)*f+n*(t>>>16&65535)<<16>>>0)|0},e.add=function(e,t){return e+t|0},e.sub=function(e,t){return e-t|0},e.rotl=function(e,t){return e<<t|e>>>32-t},e.rotr=function(e,t){return e<<32-t|e>>>t},e.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(t){return e.isInteger(t)&&t>=-e.MAX_SAFE_INTEGER&&t<=e.MAX_SAFE_INTEGER}})),cn=b((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=sn();function n(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function f(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function r(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function i(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function a(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function o(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function s(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function c(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function d(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),s(e/4294967296>>>0,t,n),s(e>>>0,t,n+4),t}function l(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),c(e>>>0,t,n),c(e/4294967296>>>0,t,n+4),t}e.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},e.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},e.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},e.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},e.writeUint16BE=n,e.writeInt16BE=n,e.writeUint16LE=f,e.writeInt16LE=f,e.readInt32BE=r,e.readUint32BE=i,e.readInt32LE=a,e.readUint32LE=o,e.writeUint32BE=s,e.writeInt32BE=s,e.writeUint32LE=c,e.writeInt32LE=c,e.readInt64BE=function(e,t){void 0===t&&(t=0);var n=r(e,t),f=r(e,t+4);return 4294967296*n+f-4294967296*(f>>31)},e.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*i(e,t)+i(e,t+4)},e.readInt64LE=function(e,t){void 0===t&&(t=0);var n=a(e,t);return 4294967296*a(e,t+4)+n-4294967296*(n>>31)},e.readUint64LE=function(e,t){void 0===t&&(t=0);var n=o(e,t);return 4294967296*o(e,t+4)+n},e.writeUint64BE=d,e.writeInt64BE=d,e.writeUint64LE=l,e.writeInt64LE=l,e.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var f=0,r=1,i=e/8+n-1;i>=n;i--)f+=t[i]*r,r*=256;return f},e.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var f=0,r=1,i=n;i<n+e/8;i++)f+=t[i]*r,r*=256;return f},e.writeUintBE=function(e,n,f,r){if(void 0===f&&(f=new Uint8Array(e/8)),void 0===r&&(r=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!t.isSafeInteger(n))throw new Error("writeUintBE value must be an integer");for(var i=1,a=e/8+r-1;a>=r;a--)f[a]=n/i&255,i*=256;return f},e.writeUintLE=function(e,n,f,r){if(void 0===f&&(f=new Uint8Array(e/8)),void 0===r&&(r=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!t.isSafeInteger(n))throw new Error("writeUintLE value must be an integer");for(var i=1,a=r;a<r+e/8;a++)f[a]=n/i&255,i*=256;return f},e.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},e.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},e.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},e.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},e.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},e.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},e.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},e.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}})),dn=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}})),ln=b((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=cn(),n=dn();e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var f=function(){function f(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return f.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},f.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},f.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._temp),this.reset()},f.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[n++],t--;this._bufferLength===this.blockSize&&(i(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(n=i(this._temp,this._state,e,n,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[n++],t--;return this},f.prototype.finish=function(e){if(!this._finished){var n=this._bytesHashed,f=this._bufferLength,r=n/536870912|0,a=n<<3,o=n%64<56?64:128;this._buffer[f]=128;for(var s=f+1;s<o-8;s++)this._buffer[s]=0;t.writeUint32BE(r,this._buffer,o-8),t.writeUint32BE(a,this._buffer,o-4),i(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(s=0;s<this.digestLength/4;s++)t.writeUint32BE(this._state[s],e,4*s);return this},f.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},f.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},f.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},f.prototype.cleanSavedState=function(e){n.wipe(e.state),e.buffer&&n.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},f}();e.SHA256=f;var r=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function i(e,n,f,i,a){for(;a>=64;){for(var o=n[0],s=n[1],c=n[2],d=n[3],l=n[4],u=n[5],b=n[6],h=n[7],p=0;p<16;p++){var g=i+4*p;e[p]=t.readUint32BE(f,g)}for(p=16;p<64;p++){var y=e[p-2],m=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10,v=((y=e[p-15])>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;e[p]=(m+e[p-7]|0)+(v+e[p-16]|0)}for(p=0;p<64;p++){m=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&u^~l&b)|0)+(h+(r[p]+e[p]|0)|0)|0,v=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&s^o&c^s&c)|0;h=b,b=u,u=l,l=d+m|0,d=c,c=s,s=o,o=m+v|0}n[0]+=o,n[1]+=s,n[2]+=c,n[3]+=d,n[4]+=l,n[5]+=u,n[6]+=b,n[7]+=h,i+=64,a-=64}return i}e.hash=function(e){var t=new f;t.update(e);var n=t.digest();return t.clean(),n}})),un=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.logDebug=function(){if(typeof r<"u")try{for(var e=arguments.length,n=new Array(e),f=0;f<e;f++)n[f]=arguments[f];(t||window?.okxLogDebug)&&r.log("[OKX_CONNECT_SDK]",...n)}catch{}},e.logError=function(){if(typeof r<"u")try{for(var e=arguments.length,n=new Array(e),f=0;f<e;f++)n[f]=arguments[f];(t||window?.okxLogDebug)&&r.error("[OKX_CONNECT_SDK]",...n)}catch{}},e.logWarning=function(){if(typeof r<"u")try{for(var e=arguments.length,n=new Array(e),f=0;f<e;f++)n[f]=arguments[f];(t||window?.okxLogDebug)&&r.warn("[OKX_CONNECT_SDK]",...n)}catch{}};var t=!1})),bn=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.safeJsonParse=function(e){if("string"!=typeof e)throw(0,t.logDebug)(e),new Error("Cannot safe json parse value of type "+typeof e);try{return f(e)}catch(n){return r.error("safeJsonParse error:",n),e}},e.safeJsonStringify=function(e){return"string"==typeof e?e:n(e)||""};var t=un(),n=e=>JSON.stringify(e,((e,t)=>"bigint"==typeof t?t.toString()+"n":t)),f=e=>{let t=e.replace(/:(\b\d{17,}|\b(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))(?=[,\}\]]|$)/g,(e=>`"${e}n"`));return JSON.parse(t,((e,t)=>"string"==typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t))}}));function hn(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),f=0;f<n.length;f++)n[f]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),a=i.charCodeAt(0);if(255!==n[a])throw new TypeError(i+" is ambiguous");n[a]=r}var o=e.length,s=e.charAt(0),c=Math.log(o)/Math.log(256),d=Math.log(256)/Math.log(o);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var f=0,r=0;e[t]===s;)f++,t++;for(var i=(e.length-t)*c+1>>>0,a=new Uint8Array(i);e[t];){var d=n[e.charCodeAt(t)];if(255===d)return;for(var l=0,u=i-1;(0!==d||l<r)&&-1!==u;u--,l++)d+=o*a[u]>>>0,a[u]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");r=l,t++}if(" "!==e[t]){for(var b=i-r;b!==i&&0===a[b];)b++;for(var h=new Uint8Array(f+(i-b)),p=f;b!==i;)h[p++]=a[b++];return h}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,f=0,r=0,i=t.length;r!==i&&0===t[r];)r++,n++;for(var a=(i-r)*d+1>>>0,c=new Uint8Array(a);r!==i;){for(var l=t[r],u=0,b=a-1;(0!==l||u<f)&&-1!==b;b--,u++)l+=256*c[b]>>>0,c[b]=l%o>>>0,l=l/o>>>0;if(0!==l)throw new Error("Non-zero carry");f=u,r++}for(var h=a-f;h!==a&&0===c[h];)h++;for(var p=s.repeat(n);h<a;++h)p+=e.charAt(c[h]);return p},decodeUnsafe:l,decode:function(e){var n=l(e);if(n)return n;throw new Error(`Non-${t} character`)}}}var pn,gn=u((()=>{pn=hn})),yn={};h(yn,{coerce:()=>_n,empty:()=>mn,equals:()=>wn,fromHex:()=>xn,fromString:()=>On,isBinary:()=>Cn,toHex:()=>vn,toString:()=>En});var mn,vn,xn,wn,_n,Cn,On,En,Sn,Tn,Nn,kn,Rn,An,Pn,Dn,In,jn=u((()=>{mn=new Uint8Array(0),vn=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),xn=e=>{let t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):mn},wn=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},_n=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Cn=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),On=e=>(new TextEncoder).encode(e),En=e=>(new TextDecoder).decode(e)})),Kn=u((()=>{gn(),jn(),Sn=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Tn=class{constructor(e,t,n){this.name=e,this.prefix=t,this.baseDecode=n}decode(e){if("string"==typeof e){if(e[0]===this.prefix)return this.baseDecode(e.slice(1));throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}throw Error("Can only multibase decode strings")}or(e){let t={[this.prefix]:this,...e.decoders||{[e.prefix]:e}};return new Nn(t)}},Nn=class e{constructor(e){this.decoders=e}or(t){let n=t.decoders||{[t.prefix]:t};return new e({...this.decoders,...n})}decode(e){let t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},kn=class{constructor(e,t,n,f){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=f,this.encoder=new Sn(e,t,n),this.decoder=new Tn(e,t,f)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Rn=e=>{let{name:t,prefix:n,encode:f,decode:r}=e;return new kn(t,n,f,r)},An=e=>{let{prefix:t,name:n,alphabet:f}=e,{encode:r,decode:i}=pn(f,n);return Rn({prefix:t,name:n,encode:r,decode:e=>_n(i(e))})},Pn=(e,t,n,f)=>{let r={};for(let d=0;d<t.length;++d)r[t[d]]=d;let i=e.length;for(;"="===e[i-1];)--i;let a=new Uint8Array(i*n/8|0),o=0,s=0,c=0;for(let d=0;d<i;++d){let t=r[e[d]];if(void 0===t)throw new SyntaxError(`Non-${f} character`);s=s<<n|t,o+=n,o>=8&&(o-=8,a[c++]=255&s>>o)}if(o>=n||255&s<<8-o)throw new SyntaxError("Unexpected end of data");return a},Dn=(e,t,n)=>{let f="="===t[t.length-1],r=(1<<n)-1,i="",a=0,o=0;for(let s=0;s<e.length;++s)for(o=o<<8|e[s],a+=8;a>n;)a-=n,i+=t[r&o>>a];if(a&&(i+=t[r&o<<n-a]),f)for(;i.length*n&7;)i+="=";return i},In=e=>{let{name:t,prefix:n,bitsPerChar:f,alphabet:r}=e;return Rn({prefix:n,name:t,encode:e=>Dn(e,r,f),decode:e=>Pn(e,r,f,t)})}})),Un={};h(Un,{identity:()=>Mn});var Mn,Bn=u((()=>{Kn(),jn(),Mn=Rn({prefix:"\0",name:"identity",encode:e=>En(e),decode:e=>On(e)})})),Ln={};h(Ln,{base2:()=>$n});var $n,Hn=u((()=>{Kn(),$n=In({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})})),Wn={};h(Wn,{base8:()=>Xn});var Xn,Fn=u((()=>{Kn(),Xn=In({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})})),qn={};h(qn,{base10:()=>Jn});var Jn,zn=u((()=>{Kn(),Jn=An({prefix:"9",name:"base10",alphabet:"0123456789"})})),Gn={};h(Gn,{base16:()=>Vn,base16upper:()=>Yn});var Vn,Yn,Zn=u((()=>{Kn(),Vn=In({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Yn=In({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})})),Qn={};h(Qn,{base32:()=>ef,base32hex:()=>rf,base32hexpad:()=>of,base32hexpadupper:()=>sf,base32hexupper:()=>af,base32pad:()=>nf,base32padupper:()=>ff,base32upper:()=>tf,base32z:()=>cf});var ef,tf,nf,ff,rf,af,of,sf,cf,df=u((()=>{Kn(),ef=In({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),tf=In({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),nf=In({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ff=In({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rf=In({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),af=In({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),of=In({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),sf=In({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),cf=In({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})})),lf={};h(lf,{base36:()=>uf,base36upper:()=>bf});var uf,bf,hf=u((()=>{Kn(),uf=An({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),bf=An({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})})),pf={};h(pf,{base58btc:()=>gf,base58flickr:()=>yf});var gf,yf,mf=u((()=>{Kn(),gf=An({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),yf=An({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})})),vf={};h(vf,{base64:()=>xf,base64pad:()=>wf,base64url:()=>_f,base64urlpad:()=>Cf});var xf,wf,_f,Cf,Of=u((()=>{Kn(),xf=In({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),wf=In({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),_f=In({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Cf=In({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})}));function Ef(e,t,n){t=t||[];for(var f=n=n||0;e>=Rf;)t[n++]=255&e|Nf,e/=128;for(;e&kf;)t[n++]=255&e|Nf,e>>>=7;return t[n]=0|e,Ef.bytes=n-f+1,t}function Sf(e,t){var n,f=0,r=0,i=t=t||0,a=e.length;do{if(i>=a)throw Sf.bytes=0,new RangeError("Could not decode varint");n=e[i++],f+=r<28?(n&Df)<<r:(n&Df)*Math.pow(2,r),r+=7}while(n>=Pf);return Sf.bytes=i-t,f}var Tf,Nf,kf,Rf,Af,Pf,Df,If,jf,Kf,Uf,Mf,Bf,Lf,$f,Hf,Wf,Xf=u((()=>{Tf=Ef,Nf=128,kf=-128,Rf=Math.pow(2,31),Af=Sf,Pf=128,Df=127,If=Math.pow(2,7),jf=Math.pow(2,14),Kf=Math.pow(2,21),Uf=Math.pow(2,28),Mf=Math.pow(2,35),Bf=Math.pow(2,42),Lf=Math.pow(2,49),$f=Math.pow(2,56),Hf=Math.pow(2,63),Wf={encode:Tf,decode:Af,encodingLength:function(e){return e<If?1:e<jf?2:e<Kf?3:e<Uf?4:e<Mf?5:e<Bf?6:e<Lf?7:e<$f?8:e<Hf?9:10}}})),Ff={};h(Ff,{decode:()=>qf,encodeTo:()=>Jf,encodingLength:()=>zf});var qf,Jf,zf,Gf=u((()=>{Xf(),qf=e=>[Wf.decode(e),Wf.decode.bytes],Jf=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Wf.encode(e,t,n),t},zf=e=>Wf.encodingLength(e)})),Vf={};h(Vf,{Digest:()=>er,create:()=>Yf,decode:()=>Zf,equals:()=>Qf});var Yf,Zf,Qf,er,tr=u((()=>{jn(),Gf(),Yf=(e,t)=>{let n=t.byteLength,f=zf(e),r=f+zf(n),i=new Uint8Array(r+n);return Jf(e,i,0),Jf(n,i,f),i.set(t,r),new er(e,n,t,i)},Zf=e=>{let t=_n(e),[n,f]=qf(t),[r,i]=qf(t.subarray(f)),a=t.subarray(f+i);if(a.byteLength!==r)throw new Error("Incorrect length");return new er(n,r,a,t)},Qf=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&wn(e.bytes,t.bytes),er=class{constructor(e,t,n,f){this.code=e,this.size=t,this.digest=n,this.bytes=f}}})),nr={};h(nr,{Hasher:()=>rr,from:()=>fr});var fr,rr,ir=u((()=>{tr(),fr=e=>{let{name:t,code:n,encode:f}=e;return new rr(t,n,f)},rr=class{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}async digest(e){if(e instanceof Uint8Array){let t=await this.encode(e);return Yf(this.code,t)}throw Error("Unknown type, must be binary type")}}})),ar={};h(ar,{sha256:()=>sr,sha512:()=>cr});var or,sr,cr,dr=u((()=>{ir(),sr=fr({name:"sha2-256",code:18,encode:(or=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)))("SHA-256")}),cr=fr({name:"sha2-512",code:19,encode:or("SHA-512")})})),lr={};h(lr,{identity:()=>ur});var ur,br=u((()=>{ir(),jn(),ur=fr({name:"identity",code:0,encode:e=>_n(e)})})),hr={};h(hr,{code:()=>yr,decode:()=>vr,encode:()=>mr,name:()=>gr});var pr,gr,yr,mr,vr,xr=u((()=>{jn(),pr=e=>_n(e),({name:gr,code:yr,encode:mr,decode:vr}={name:"raw",code:85,decode:pr,encode:pr})})),wr={};h(wr,{code:()=>Cr,decode:()=>Er,encode:()=>Or,name:()=>_r});var _r,Cr,Or,Er,Sr,Tr,Nr,kr,Rr,Ar,Pr,Dr,Ir,jr,Kr,Ur,Mr=u((()=>{({name:_r,code:Cr,encode:Or,decode:Er}={name:"json",code:512,encode:e=>(new TextEncoder).encode(JSON.stringify(e)),decode:e=>JSON.parse((new TextDecoder).decode(e))})})),Br=u((()=>{Gf(),tr(),mf(),df(),jn(),Sr=class e{constructor(e,t,n,f){this.code=t,this.version=e,this.multihash=n,this.bytes=f,this.byteOffset=f.byteOffset,this.byteLength=f.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:jr,byteLength:jr,code:Ir,version:Ir,multihash:Ir,bytes:Ir,_baseCache:jr,asCID:jr})}toV0(){if(0===this.version)return this;{let{code:t,multihash:n}=this;if(t!==Rr)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==Ar)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return e.createV0(n)}}toV1(){switch(this.version){case 0:{let{code:t,digest:n}=this.multihash,f=Yf(t,n);return e.createV1(this.code,f)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Qf(this.multihash,e.multihash)}toString(e){let{bytes:t,version:n,_baseCache:f}=this;return 0===n?Nr(t,f,e||gf.encoder):kr(t,f,e||ef.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Kr(/^0\.0/,Ur),!(!e||!e[Dr]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof e)return t;if(null!=t&&t.asCID===t){let{version:n,code:f,multihash:r,bytes:i}=t;return new e(n,f,r,i||Pr(n,f,r.bytes))}if(null!=t&&!0===t[Dr]){let{version:n,multihash:f,code:r}=t,i=Zf(f);return e.create(n,r,i)}return null}static create(t,n,f){if("number"!=typeof n)throw new Error("String codecs are no longer supported");switch(t){case 0:if(n!==Rr)throw new Error(`Version 0 CID must use dag-pb (code: ${Rr}) block encoding`);return new e(t,n,f,f.bytes);case 1:{let r=Pr(t,n,f.bytes);return new e(t,n,f,r)}default:throw new Error("Invalid version")}}static createV0(t){return e.create(0,Rr,t)}static createV1(t,n){return e.create(1,t,n)}static decode(t){let[n,f]=e.decodeFirst(t);if(f.length)throw new Error("Incorrect length");return n}static decodeFirst(t){let n=e.inspectBytes(t),f=n.size-n.multihashSize,r=_n(t.subarray(f,f+n.multihashSize));if(r.byteLength!==n.multihashSize)throw new Error("Incorrect length");let i=r.subarray(n.multihashSize-n.digestSize),a=new er(n.multihashCode,n.digestSize,i,r);return[0===n.version?e.createV0(a):e.createV1(n.codec,a),t.subarray(n.size)]}static inspectBytes(e){let t=0,n=()=>{let[n,f]=qf(e.subarray(t));return t+=f,n},f=n(),r=Rr;if(18===f?(f=0,t=0):1===f&&(r=n()),0!==f&&1!==f)throw new RangeError(`Invalid CID version ${f}`);let i=t,a=n(),o=n(),s=t+o;return{version:f,codec:r,multihashCode:a,digestSize:o,multihashSize:s-i,size:s}}static parse(t,n){let[f,r]=Tr(t,n),i=e.decode(r);return i._baseCache.set(f,t),i}},Tr=(e,t)=>{switch(e[0]){case"Q":{let n=t||gf;return[gf.prefix,n.decode(`${gf.prefix}${e}`)]}case gf.prefix:{let n=t||gf;return[gf.prefix,n.decode(e)]}case ef.prefix:{let n=t||ef;return[ef.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},Nr=(e,t,n)=>{let{prefix:f}=n;if(f!==gf.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);let r=t.get(f);if(null==r){let r=n.encode(e).slice(1);return t.set(f,r),r}return r},kr=(e,t,n)=>{let{prefix:f}=n,r=t.get(f);if(null==r){let r=n.encode(e);return t.set(f,r),r}return r},Rr=112,Ar=18,Pr=(e,t,n)=>{let f=zf(e),r=f+zf(t),i=new Uint8Array(r+n.byteLength);return Jf(e,i,0),Jf(t,i,f),i.set(n,r),i},Dr=Symbol.for("@ipld/js-cid/CID"),Ir={writable:!1,configurable:!1,enumerable:!0},jr={writable:!1,enumerable:!1,configurable:!1},Kr=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);r.warn(t)},Ur="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n"})),Lr=u((()=>{Br(),Gf(),jn(),ir(),tr()})),$r={};h($r,{CID:()=>Sr,bases:()=>Hr,bytes:()=>yn,codecs:()=>Xr,digest:()=>Vf,hasher:()=>nr,hashes:()=>Wr,varint:()=>Ff});var Hr,Wr,Xr,Fr,qr=u((()=>{Bn(),Hn(),Fn(),zn(),Zn(),df(),hf(),mf(),Of(),dr(),br(),xr(),Mr(),Lr(),Hr={...Un,...Ln,...Wn,...qn,...Gn,...Qn,...lf,...pf,...vf},Wr={...ar,...lr},Xr={raw:hr,json:wr}})),Jr=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.okxfromString=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",f=o[t];if((0,n.logDebug)("okxfromstring ====> "),!f)throw new Error(`Unsupported encoding "${t}"`);return f.decoder.decode(`${f.prefix}${e}`)},e.okxtoString=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",f=o[t];if((0,n.logDebug)("okxtoString ====> "),!f)throw new Error(`Unsupported encoding "${t}"`);return f.encoder.encode(e).substring(1)},e.alloc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Uint8Array(e)},e.allocUnsafe=f;var t=(qr(),y($r)),n=un();function f(){return new Uint8Array(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}function r(e,t,n,f){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:f}}}var i=r("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),a=r("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{let t=f((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),o=Object.assign({utf8:i,"utf-8":i,hex:t.bases.base16,latin1:a,ascii:a,binary:a},t.bases)})),zr=b(((e,t)=>{var f,r;f=e,r=function(){var e=e||function(e){var t;if(typeof window<"u"&&window.crypto&&(t=window.crypto),typeof self<"u"&&self.crypto&&(t=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(t=globalThis.crypto),!t&&typeof window<"u"&&window.msCrypto&&(t=window.msCrypto),!t&&typeof n.g<"u"&&n.g.crypto&&(t=n.g.crypto),!t&&"function"==typeof l)try{t=k()}catch{}var f=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),i={},a=i.lib={},o=a.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),(!t.hasOwnProperty("init")||this.init===t.init)&&(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=a.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,f=this.sigBytes,r=e.sigBytes;if(this.clamp(),f%4)for(var i=0;i<r;i++){var a=n[i>>>2]>>>24-i%4*8&255;t[f+i>>>2]|=a<<24-(f+i)%4*8}else for(var o=0;o<r;o+=4)t[f+o>>>2]=n[o>>>2];return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(f());return new s.init(t,e)}}),c=i.enc={},d=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,f=[],r=0;r<n;r++){var i=t[r>>>2]>>>24-r%4*8&255;f.push((i>>>4).toString(16)),f.push((15&i).toString(16))}return f.join("")},parse:function(e){for(var t=e.length,n=[],f=0;f<t;f+=2)n[f>>>3]|=parseInt(e.substr(f,2),16)<<24-f%8*4;return new s.init(n,t/2)}},u=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,f=[],r=0;r<n;r++){var i=t[r>>>2]>>>24-r%4*8&255;f.push(String.fromCharCode(i))}return f.join("")},parse:function(e){for(var t=e.length,n=[],f=0;f<t;f++)n[f>>>2]|=(255&e.charCodeAt(f))<<24-f%4*8;return new s.init(n,t)}},b=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},h=a.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=b.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,f=this._data,r=f.words,i=f.sigBytes,a=this.blockSize,o=i/(4*a),c=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*a,d=e.min(4*c,i);if(c){for(var l=0;l<c;l+=a)this._doProcessBlock(r,l);n=r.splice(0,c),f.sigBytes-=d}return new s.init(n,d)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(a.Hasher=h.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}}),i.algo={});return i}(Math);return e},"object"==typeof e?t.exports=e=r():"function"==typeof define&&n.amdO?define([],r):f.CryptoJS=r()})),Gr=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib,f=n.Base,r=n.WordArray,i=t.x64={};i.Word=f.extend({init:function(e,t){this.high=e,this.low=t}}),i.WordArray=f.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],f=0;f<t;f++){var i=e[f];n.push(i.high),n.push(i.low)}return r.create(n,this.sigBytes)},clone:function(){for(var e=f.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}})}(),e},"object"==typeof e?t.exports=e=r(zr()):"function"==typeof define&&n.amdO?define(["./core"],r):r(f.CryptoJS)})),Vr=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,n=t.init,f=t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||typeof Uint8ClampedArray<"u"&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,f=[],r=0;r<t;r++)f[r>>>2]|=e[r]<<24-r%4*8;n.call(this,f,t)}else n.apply(this,arguments)};f.prototype=t}}(),e.lib.WordArray},"object"==typeof e?t.exports=e=r(zr()):"function"==typeof define&&n.amdO?define(["./core"],r):r(f.CryptoJS)})),Yr=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib.WordArray,f=t.enc;function r(e){return e<<8&4278255360|e>>>8&16711935}f.Utf16=f.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,f=[],r=0;r<n;r+=2){var i=t[r>>>2]>>>16-r%4*8&65535;f.push(String.fromCharCode(i))}return f.join("")},parse:function(e){for(var t=e.length,f=[],r=0;r<t;r++)f[r>>>1]|=e.charCodeAt(r)<<16-r%2*16;return n.create(f,2*t)}},f.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,f=[],i=0;i<n;i+=2){var a=r(t[i>>>2]>>>16-i%4*8&65535);f.push(String.fromCharCode(a))}return f.join("")},parse:function(e){for(var t=e.length,f=[],i=0;i<t;i++)f[i>>>1]|=r(e.charCodeAt(i)<<16-i%2*16);return n.create(f,2*t)}}}(),e.enc.Utf16},"object"==typeof e?t.exports=e=r(zr()):"function"==typeof define&&n.amdO?define(["./core"],r):r(f.CryptoJS)})),Zr=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib.WordArray;t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,f=this._map;e.clamp();for(var r=[],i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;o<4&&i+.75*o<n;o++)r.push(f.charAt(a>>>6*(3-o)&63));var s=f.charAt(64);if(s)for(;r.length%4;)r.push(s);return r.join("")},parse:function(e){var t=e.length,f=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<f.length;i++)r[f.charCodeAt(i)]=i}var a=f.charAt(64);if(a){var o=e.indexOf(a);-1!==o&&(t=o)}return function(e,t,f){for(var r=[],i=0,a=0;a<t;a++)if(a%4){var o=f[e.charCodeAt(a-1)]<<a%4*2|f[e.charCodeAt(a)]>>>6-a%4*2;r[i>>>2]|=o<<24-i%4*8,i++}return n.create(r,i)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64},"object"==typeof e?t.exports=e=r(zr()):"function"==typeof define&&n.amdO?define(["./core"],r):r(f.CryptoJS)})),Qr=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib.WordArray;t.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,f=e.sigBytes,r=t?this._safe_map:this._map;e.clamp();for(var i=[],a=0;a<f;a+=3)for(var o=(n[a>>>2]>>>24-a%4*8&255)<<16|(n[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|n[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<f;s++)i.push(r.charAt(o>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e,t){void 0===t&&(t=!0);var f=e.length,r=t?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<r.length;a++)i[r.charCodeAt(a)]=a}var o=r.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(f=s)}return function(e,t,f){for(var r=[],i=0,a=0;a<t;a++)if(a%4){var o=f[e.charCodeAt(a-1)]<<a%4*2|f[e.charCodeAt(a)]>>>6-a%4*2;r[i>>>2]|=o<<24-i%4*8,i++}return n.create(r,i)}(e,f,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),e.enc.Base64url},"object"==typeof e?t.exports=e=r(zr()):"function"==typeof define&&n.amdO?define(["./core"],r):r(f.CryptoJS)})),ei=b(((e,t)=>{var f,r;f=e,r=function(e){return function(t){var n=e,f=n.lib,r=f.WordArray,i=f.Hasher,a=n.algo,o=[];!function(){for(var e=0;e<64;e++)o[e]=4294967296*t.abs(t.sin(e+1))|0}();var s=a.MD5=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var f=t+n,r=e[f];e[f]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var i=this._hash.words,a=e[t+0],s=e[t+1],b=e[t+2],h=e[t+3],p=e[t+4],g=e[t+5],y=e[t+6],m=e[t+7],v=e[t+8],x=e[t+9],w=e[t+10],_=e[t+11],C=e[t+12],O=e[t+13],E=e[t+14],S=e[t+15],T=i[0],N=i[1],k=i[2],R=i[3];T=c(T,N,k,R,a,7,o[0]),R=c(R,T,N,k,s,12,o[1]),k=c(k,R,T,N,b,17,o[2]),N=c(N,k,R,T,h,22,o[3]),T=c(T,N,k,R,p,7,o[4]),R=c(R,T,N,k,g,12,o[5]),k=c(k,R,T,N,y,17,o[6]),N=c(N,k,R,T,m,22,o[7]),T=c(T,N,k,R,v,7,o[8]),R=c(R,T,N,k,x,12,o[9]),k=c(k,R,T,N,w,17,o[10]),N=c(N,k,R,T,_,22,o[11]),T=c(T,N,k,R,C,7,o[12]),R=c(R,T,N,k,O,12,o[13]),k=c(k,R,T,N,E,17,o[14]),T=d(T,N=c(N,k,R,T,S,22,o[15]),k,R,s,5,o[16]),R=d(R,T,N,k,y,9,o[17]),k=d(k,R,T,N,_,14,o[18]),N=d(N,k,R,T,a,20,o[19]),T=d(T,N,k,R,g,5,o[20]),R=d(R,T,N,k,w,9,o[21]),k=d(k,R,T,N,S,14,o[22]),N=d(N,k,R,T,p,20,o[23]),T=d(T,N,k,R,x,5,o[24]),R=d(R,T,N,k,E,9,o[25]),k=d(k,R,T,N,h,14,o[26]),N=d(N,k,R,T,v,20,o[27]),T=d(T,N,k,R,O,5,o[28]),R=d(R,T,N,k,b,9,o[29]),k=d(k,R,T,N,m,14,o[30]),T=l(T,N=d(N,k,R,T,C,20,o[31]),k,R,g,4,o[32]),R=l(R,T,N,k,v,11,o[33]),k=l(k,R,T,N,_,16,o[34]),N=l(N,k,R,T,E,23,o[35]),T=l(T,N,k,R,s,4,o[36]),R=l(R,T,N,k,p,11,o[37]),k=l(k,R,T,N,m,16,o[38]),N=l(N,k,R,T,w,23,o[39]),T=l(T,N,k,R,O,4,o[40]),R=l(R,T,N,k,a,11,o[41]),k=l(k,R,T,N,h,16,o[42]),N=l(N,k,R,T,y,23,o[43]),T=l(T,N,k,R,x,4,o[44]),R=l(R,T,N,k,C,11,o[45]),k=l(k,R,T,N,S,16,o[46]),T=u(T,N=l(N,k,R,T,b,23,o[47]),k,R,a,6,o[48]),R=u(R,T,N,k,m,10,o[49]),k=u(k,R,T,N,E,15,o[50]),N=u(N,k,R,T,g,21,o[51]),T=u(T,N,k,R,C,6,o[52]),R=u(R,T,N,k,h,10,o[53]),k=u(k,R,T,N,w,15,o[54]),N=u(N,k,R,T,s,21,o[55]),T=u(T,N,k,R,v,6,o[56]),R=u(R,T,N,k,S,10,o[57]),k=u(k,R,T,N,y,15,o[58]),N=u(N,k,R,T,O,21,o[59]),T=u(T,N,k,R,p,6,o[60]),R=u(R,T,N,k,_,10,o[61]),k=u(k,R,T,N,b,15,o[62]),N=u(N,k,R,T,x,21,o[63]),i[0]=i[0]+T|0,i[1]=i[1]+N|0,i[2]=i[2]+k|0,i[3]=i[3]+R|0},_doFinalize:function(){var e=this._data,n=e.words,f=8*this._nDataBytes,r=8*e.sigBytes;n[r>>>5]|=128<<24-r%32;var i=t.floor(f/4294967296),a=f;n[15+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(r+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(n.length+1),this._process();for(var o=this._hash,s=o.words,c=0;c<4;c++){var d=s[c];s[c]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return o},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,f,r,i,a){var o=e+(t&n|~t&f)+r+a;return(o<<i|o>>>32-i)+t}function d(e,t,n,f,r,i,a){var o=e+(t&f|n&~f)+r+a;return(o<<i|o>>>32-i)+t}function l(e,t,n,f,r,i,a){var o=e+(t^n^f)+r+a;return(o<<i|o>>>32-i)+t}function u(e,t,n,f,r,i,a){var o=e+(n^(t|~f))+r+a;return(o<<i|o>>>32-i)+t}n.MD5=i._createHelper(s),n.HmacMD5=i._createHmacHelper(s)}(Math),e.MD5},"object"==typeof e?t.exports=e=r(zr()):"function"==typeof define&&n.amdO?define(["./core"],r):r(f.CryptoJS)})),ti=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib,f=n.WordArray,r=n.Hasher,i=t.algo,a=[],o=i.SHA1=r.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,f=n[0],r=n[1],i=n[2],o=n[3],s=n[4],c=0;c<80;c++){if(c<16)a[c]=0|e[t+c];else{var d=a[c-3]^a[c-8]^a[c-14]^a[c-16];a[c]=d<<1|d>>>31}var l=(f<<5|f>>>27)+s+a[c];l+=c<20?1518500249+(r&i|~r&o):c<40?1859775393+(r^i^o):c<60?(r&i|r&o|i&o)-1894007588:(r^i^o)-899497514,s=o,o=i,i=r<<30|r>>>2,r=f,f=l}n[0]=n[0]+f|0,n[1]=n[1]+r|0,n[2]=n[2]+i|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,f=8*e.sigBytes;return t[f>>>5]|=128<<24-f%32,t[14+(f+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(f+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=r._createHelper(o),t.HmacSHA1=r._createHmacHelper(o)}(),e.SHA1},"object"==typeof e?t.exports=e=r(zr()):"function"==typeof define&&n.amdO?define(["./core"],r):r(f.CryptoJS)})),ni=b(((e,t)=>{var f,r;f=e,r=function(e){return function(t){var n=e,f=n.lib,r=f.WordArray,i=f.Hasher,a=n.algo,o=[],s=[];!function(){function e(e){for(var n=t.sqrt(e),f=2;f<=n;f++)if(!(e%f))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var f=2,r=0;r<64;)e(f)&&(r<8&&(o[r]=n(t.pow(f,.5))),s[r]=n(t.pow(f,1/3)),r++),f++}();var c=[],d=a.SHA256=i.extend({_doReset:function(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,f=n[0],r=n[1],i=n[2],a=n[3],o=n[4],d=n[5],l=n[6],u=n[7],b=0;b<64;b++){if(b<16)c[b]=0|e[t+b];else{var h=c[b-15],p=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,g=c[b-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;c[b]=p+c[b-7]+y+c[b-16]}var m=f&r^f&i^r&i,v=(f<<30|f>>>2)^(f<<19|f>>>13)^(f<<10|f>>>22),x=u+((o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25))+(o&d^~o&l)+s[b]+c[b];u=l,l=d,d=o,o=a+x|0,a=i,i=r,r=f,f=x+(v+m)|0}n[0]=n[0]+f|0,n[1]=n[1]+r|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+o|0,n[5]=n[5]+d|0,n[6]=n[6]+l|0,n[7]=n[7]+u|0},_doFinalize:function(){var e=this._data,n=e.words,f=8*this._nDataBytes,r=8*e.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=t.floor(f/4294967296),n[15+(r+64>>>9<<4)]=f,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=i._createHelper(d),n.HmacSHA256=i._createHmacHelper(d)}(Math),e.SHA256},"object"==typeof e?t.exports=e=r(zr()):"function"==typeof define&&n.amdO?define(["./core"],r):r(f.CryptoJS)})),fi=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib.WordArray,f=t.algo,r=f.SHA256,i=f.SHA224=r.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=r._createHelper(i),t.HmacSHA224=r._createHmacHelper(i)}(),e.SHA224},"object"==typeof e?t.exports=e=r(zr(),ni()):"function"==typeof define&&n.amdO?define(["./core","./sha256"],r):r(f.CryptoJS)})),ri=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib.Hasher,f=t.x64,r=f.Word,i=f.WordArray,a=t.algo;function o(){return r.create.apply(r,arguments)}var s=[o(1116352408,3609767458),o(1899447441,602891725),o(3049323471,3964484399),o(3921009573,2173295548),o(961987163,4081628472),o(1508970993,3053834265),o(2453635748,2937671579),o(2870763221,3664609560),o(3624381080,2734883394),o(310598401,1164996542),o(607225278,1323610764),o(1426881987,3590304994),o(1925078388,4068182383),o(2162078206,991336113),o(2614888103,633803317),o(3248222580,3479774868),o(3835390401,2666613458),o(4022224774,944711139),o(264347078,2341262773),o(604807628,2007800933),o(770255983,1495990901),o(1249150122,1856431235),o(1555081692,3175218132),o(1996064986,2198950837),o(2554220882,3999719339),o(2821834349,766784016),o(2952996808,2566594879),o(3210313671,3203337956),o(3336571891,1034457026),o(3584528711,2466948901),o(113926993,3758326383),o(338241895,168717936),o(666307205,1188179964),o(773529912,1546045734),o(1294757372,1522805485),o(1396182291,2643833823),o(1695183700,2343527390),o(1986661051,1014477480),o(2177026350,1206759142),o(2456956037,344077627),o(2730485921,1290863460),o(2820302411,3158454273),o(3259730800,3505952657),o(3345764771,106217008),o(3516065817,3606008344),o(3600352804,1432725776),o(4094571909,1467031594),o(275423344,851169720),o(430227734,3100823752),o(506948616,1363258195),o(659060556,3750685593),o(883997877,3785050280),o(958139571,3318307427),o(1322822218,3812723403),o(1537002063,2003034995),o(1747873779,3602036899),o(1955562222,1575990012),o(2024104815,1125592928),o(2227730452,2716904306),o(2361852424,442776044),o(2428436474,593698344),o(2756734187,3733110249),o(3204031479,2999351573),o(3329325298,3815920427),o(3391569614,3928383900),o(3515267271,566280711),o(3940187606,3454069534),o(4118630271,4000239992),o(116418474,1914138554),o(174292421,2731055270),o(289380356,3203993006),o(460393269,320620315),o(685471733,587496836),o(852142971,1086792851),o(1017036298,365543100),o(1126000580,2618297676),o(1288033470,3409855158),o(1501505948,4234509866),o(1607167915,987167468),o(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=o()}();var d=a.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,f=n[0],r=n[1],i=n[2],a=n[3],o=n[4],d=n[5],l=n[6],u=n[7],b=f.high,h=f.low,p=r.high,g=r.low,y=i.high,m=i.low,v=a.high,x=a.low,w=o.high,_=o.low,C=d.high,O=d.low,E=l.high,S=l.low,T=u.high,N=u.low,k=b,R=h,A=p,P=g,D=y,I=m,j=v,K=x,U=w,M=_,B=C,L=O,$=E,H=S,W=T,X=N,F=0;F<80;F++){var q,J,z=c[F];if(F<16)J=z.high=0|e[t+2*F],q=z.low=0|e[t+2*F+1];else{var G=c[F-15],V=G.high,Y=G.low,Z=(V>>>1|Y<<31)^(V>>>8|Y<<24)^V>>>7,Q=(Y>>>1|V<<31)^(Y>>>8|V<<24)^(Y>>>7|V<<25),ee=c[F-2],te=ee.high,ne=ee.low,fe=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,re=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),ie=c[F-7],ae=ie.high,oe=ie.low,se=c[F-16],ce=se.high,de=se.low;J=(J=(J=Z+ae+((q=Q+oe)>>>0<Q>>>0?1:0))+fe+((q+=re)>>>0<re>>>0?1:0))+ce+((q+=de)>>>0<de>>>0?1:0),z.high=J,z.low=q}var le,ue=U&B^~U&$,be=M&L^~M&H,he=k&A^k&D^A&D,pe=R&P^R&I^P&I,ge=(k>>>28|R<<4)^(k<<30|R>>>2)^(k<<25|R>>>7),ye=(R>>>28|k<<4)^(R<<30|k>>>2)^(R<<25|k>>>7),me=(U>>>14|M<<18)^(U>>>18|M<<14)^(U<<23|M>>>9),ve=(M>>>14|U<<18)^(M>>>18|U<<14)^(M<<23|U>>>9),xe=s[F],we=xe.high,_e=xe.low,Ce=W+me+((le=X+ve)>>>0<X>>>0?1:0),Oe=ye+pe;W=$,X=H,$=B,H=L,B=U,L=M,U=j+(Ce=(Ce=(Ce=Ce+ue+((le+=be)>>>0<be>>>0?1:0))+we+((le+=_e)>>>0<_e>>>0?1:0))+J+((le+=q)>>>0<q>>>0?1:0))+((M=K+le|0)>>>0<K>>>0?1:0)|0,j=D,K=I,D=A,I=P,A=k,P=R,k=Ce+(ge+he+(Oe>>>0<ye>>>0?1:0))+((R=le+Oe|0)>>>0<le>>>0?1:0)|0}h=f.low=h+R,f.high=b+k+(h>>>0<R>>>0?1:0),g=r.low=g+P,r.high=p+A+(g>>>0<P>>>0?1:0),m=i.low=m+I,i.high=y+D+(m>>>0<I>>>0?1:0),x=a.low=x+K,a.high=v+j+(x>>>0<K>>>0?1:0),_=o.low=_+M,o.high=w+U+(_>>>0<M>>>0?1:0),O=d.low=O+L,d.high=C+B+(O>>>0<L>>>0?1:0),S=l.low=S+H,l.high=E+$+(S>>>0<H>>>0?1:0),N=u.low=N+X,u.high=T+W+(N>>>0<X>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,f=8*e.sigBytes;return t[f>>>5]|=128<<24-f%32,t[30+(f+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(f+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=n._createHelper(d),t.HmacSHA512=n._createHmacHelper(d)}(),e.SHA512},"object"==typeof e?t.exports=e=r(zr(),Gr()):"function"==typeof define&&n.amdO?define(["./core","./x64-core"],r):r(f.CryptoJS)})),ii=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.x64,f=n.Word,r=n.WordArray,i=t.algo,a=i.SHA512,o=i.SHA384=a.extend({_doReset:function(){this._hash=new r.init([new f.init(3418070365,3238371032),new f.init(1654270250,914150663),new f.init(2438529370,812702999),new f.init(355462360,4144912697),new f.init(1731405415,4290775857),new f.init(2394180231,1750603025),new f.init(3675008525,1694076839),new f.init(1203062813,3204075428)])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=a._createHelper(o),t.HmacSHA384=a._createHmacHelper(o)}(),e.SHA384},"object"==typeof e?t.exports=e=r(zr(),Gr(),ri()):"function"==typeof define&&n.amdO?define(["./core","./x64-core","./sha512"],r):r(f.CryptoJS)})),ai=b(((e,t)=>{var f,r;f=e,r=function(e){return function(t){var n=e,f=n.lib,r=f.WordArray,i=f.Hasher,a=n.x64.Word,o=n.algo,s=[],c=[],d=[];!function(){for(var e=1,t=0,n=0;n<24;n++){s[e+5*t]=(n+1)*(n+2)/2%64;var f=(2*e+3*t)%5;e=t%5,t=f}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var r=1,i=0;i<24;i++){for(var o=0,l=0,u=0;u<7;u++){if(1&r){var b=(1<<u)-1;b<32?l^=1<<b:o^=1<<b-32}128&r?r=r<<1^113:r<<=1}d[i]=a.create(o,l)}}();var l=[];!function(){for(var e=0;e<25;e++)l[e]=a.create()}();var u=o.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,f=this.blockSize/2,r=0;r<f;r++){var i=e[t+2*r],a=e[t+2*r+1];i=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(N=n[r]).high^=a,N.low^=i}for(var o=0;o<24;o++){for(var u=0;u<5;u++){for(var b=0,h=0,p=0;p<5;p++)b^=(N=n[u+5*p]).high,h^=N.low;var g=l[u];g.high=b,g.low=h}for(u=0;u<5;u++){var y=l[(u+4)%5],m=l[(u+1)%5],v=m.high,x=m.low;for(b=y.high^(v<<1|x>>>31),h=y.low^(x<<1|v>>>31),p=0;p<5;p++)(N=n[u+5*p]).high^=b,N.low^=h}for(var w=1;w<25;w++){var _=(N=n[w]).high,C=N.low,O=s[w];O<32?(b=_<<O|C>>>32-O,h=C<<O|_>>>32-O):(b=C<<O-32|_>>>64-O,h=_<<O-32|C>>>64-O);var E=l[c[w]];E.high=b,E.low=h}var S=l[0],T=n[0];for(S.high=T.high,S.low=T.low,u=0;u<5;u++)for(p=0;p<5;p++){var N=n[w=u+5*p],k=l[w],R=l[(u+1)%5+5*p],A=l[(u+2)%5+5*p];N.high=k.high^~R.high&A.high,N.low=k.low^~R.low&A.low}N=n[0];var P=d[o];N.high^=P.high,N.low^=P.low}},_doFinalize:function(){var e=this._data,n=e.words,f=(this._nDataBytes,8*e.sigBytes),i=32*this.blockSize;n[f>>>5]|=1<<24-f%32,n[(t.ceil((f+1)/i)*i>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var a=this._state,o=this.cfg.outputLength/8,s=o/8,c=[],d=0;d<s;d++){var l=a[d],u=l.high,b=l.low;u=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),b=16711935&(b<<8|b>>>24)|4278255360&(b<<24|b>>>8),c.push(b),c.push(u)}return new r.init(c,o)},clone:function(){for(var e=i.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});n.SHA3=i._createHelper(u),n.HmacSHA3=i._createHmacHelper(u)}(Math),e.SHA3},"object"==typeof e?t.exports=e=r(zr(),Gr()):"function"==typeof define&&n.amdO?define(["./core","./x64-core"],r):r(f.CryptoJS)})),oi=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib,f=n.WordArray,r=n.Hasher,i=t.algo,a=f.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),o=f.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),s=f.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=f.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=f.create([0,1518500249,1859775393,2400959708,2840853838]),l=f.create([1352829926,1548603684,1836072691,2053994217,0]),u=i.RIPEMD160=r.extend({_doReset:function(){this._hash=f.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var f=t+n,r=e[f];e[f]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var i,u,v,x,w,_,C,O,E,S,T,N=this._hash.words,k=d.words,R=l.words,A=a.words,P=o.words,D=s.words,I=c.words;for(_=i=N[0],C=u=N[1],O=v=N[2],E=x=N[3],S=w=N[4],n=0;n<80;n+=1)T=i+e[t+A[n]]|0,T+=n<16?b(u,v,x)+k[0]:n<32?h(u,v,x)+k[1]:n<48?p(u,v,x)+k[2]:n<64?g(u,v,x)+k[3]:y(u,v,x)+k[4],T=(T=m(T|=0,D[n]))+w|0,i=w,w=x,x=m(v,10),v=u,u=T,T=_+e[t+P[n]]|0,T+=n<16?y(C,O,E)+R[0]:n<32?g(C,O,E)+R[1]:n<48?p(C,O,E)+R[2]:n<64?h(C,O,E)+R[3]:b(C,O,E)+R[4],T=(T=m(T|=0,I[n]))+S|0,_=S,S=E,E=m(O,10),O=C,C=T;T=N[1]+v+E|0,N[1]=N[2]+x+S|0,N[2]=N[3]+w+_|0,N[3]=N[4]+i+C|0,N[4]=N[0]+u+O|0,N[0]=T},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,f=8*e.sigBytes;t[f>>>5]|=128<<24-f%32,t[14+(f+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var r=this._hash,i=r.words,a=0;a<5;a++){var o=i[a];i[a]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}return r},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});function b(e,t,n){return e^t^n}function h(e,t,n){return e&t|~e&n}function p(e,t,n){return(e|~t)^n}function g(e,t,n){return e&n|t&~n}function y(e,t,n){return e^(t|~n)}function m(e,t){return e<<t|e>>>32-t}t.RIPEMD160=r._createHelper(u),t.HmacRIPEMD160=r._createHmacHelper(u)}(Math),e.RIPEMD160},"object"==typeof e?t.exports=e=r(zr()):"function"==typeof define&&n.amdO?define(["./core"],r):r(f.CryptoJS)})),si=b(((e,t)=>{var f,r;f=e,r=function(e){!function(){var t=e,n=t.lib.Base,f=t.enc.Utf8;t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=f.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),a=this._iKey=t.clone(),o=i.words,s=a.words,c=0;c<n;c++)o[c]^=1549556828,s[c]^=909522486;i.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}()},"object"==typeof e?t.exports=e=r(zr()):"function"==typeof define&&n.amdO?define(["./core"],r):r(f.CryptoJS)})),ci=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib,f=n.Base,r=n.WordArray,i=t.algo,a=i.SHA256,o=i.HMAC,s=i.PBKDF2=f.extend({cfg:f.extend({keySize:4,hasher:a,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,f=o.create(n.hasher,e),i=r.create(),a=r.create([1]),s=i.words,c=a.words,d=n.keySize,l=n.iterations;s.length<d;){var u=f.update(t).finalize(a);f.reset();for(var b=u.words,h=b.length,p=u,g=1;g<l;g++){p=f.finalize(p),f.reset();for(var y=p.words,m=0;m<h;m++)b[m]^=y[m]}i.concat(u),c[0]++}return i.sigBytes=4*d,i}});t.PBKDF2=function(e,t,n){return s.create(n).compute(e,t)}}(),e.PBKDF2},"object"==typeof e?t.exports=e=r(zr(),ni(),si()):"function"==typeof define&&n.amdO?define(["./core","./sha256","./hmac"],r):r(f.CryptoJS)})),di=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib,f=n.Base,r=n.WordArray,i=t.algo,a=i.MD5,o=i.EvpKDF=f.extend({cfg:f.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,f=this.cfg,i=f.hasher.create(),a=r.create(),o=a.words,s=f.keySize,c=f.iterations;o.length<s;){n&&i.update(n),n=i.update(e).finalize(t),i.reset();for(var d=1;d<c;d++)n=i.finalize(n),i.reset();a.concat(n)}return a.sigBytes=4*s,a}});t.EvpKDF=function(e,t,n){return o.create(n).compute(e,t)}}(),e.EvpKDF},"object"==typeof e?t.exports=e=r(zr(),ti(),si()):"function"==typeof define&&n.amdO?define(["./core","./sha1","./hmac"],r):r(f.CryptoJS)})),li=b(((e,t)=>{var f,r;f=e,r=function(e){e.lib.Cipher||function(){var t=e,n=t.lib,f=n.Base,r=n.WordArray,i=n.BufferedBlockAlgorithm,a=t.enc,o=(a.Utf8,a.Base64),s=t.algo.EvpKDF,c=n.Cipher=i.extend({cfg:f.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?m:g}return function(t){return{encrypt:function(n,f,r){return e(f).encrypt(t,n,f,r)},decrypt:function(n,f,r){return e(f).decrypt(t,n,f,r)}}}}()}),d=(n.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),l=n.BlockCipherMode=f.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),u=d.CBC=function(){var e=l.extend();function t(e,t,n){var f,r=this._iv;r?(f=r,this._iv=void 0):f=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=f[i]}return e.Encryptor=e.extend({processBlock:function(e,n){var f=this._cipher,r=f.blockSize;t.call(this,e,n,r),f.encryptBlock(e,n),this._prevBlock=e.slice(n,n+r)}}),e.Decryptor=e.extend({processBlock:function(e,n){var f=this._cipher,r=f.blockSize,i=e.slice(n,n+r);f.decryptBlock(e,n),t.call(this,e,n,r),this._prevBlock=i}}),e}(),b=(t.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,f=n-e.sigBytes%n,i=f<<24|f<<16|f<<8|f,a=[],o=0;o<f;o+=4)a.push(i);var s=r.create(a,f);e.concat(s)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},h=(n.BlockCipher=c.extend({cfg:c.cfg.extend({mode:u,padding:b}),reset:function(){var e;c.reset.call(this);var t=this.cfg,n=t.iv,f=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=f.createEncryptor:(e=f.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(f,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),n.CipherParams=f.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),p=(t.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?r.create([1398893684,1701076831]).concat(n).concat(t):t).toString(o)},parse:function(e){var t,n=o.parse(e),f=n.words;return 1398893684==f[0]&&1701076831==f[1]&&(t=r.create(f.slice(2,4)),f.splice(0,4),n.sigBytes-=16),h.create({ciphertext:n,salt:t})}},g=n.SerializableCipher=f.extend({cfg:f.extend({format:p}),encrypt:function(e,t,n,f){f=this.cfg.extend(f);var r=e.createEncryptor(n,f),i=r.finalize(t),a=r.cfg;return h.create({ciphertext:i,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:f.format})},decrypt:function(e,t,n,f){return f=this.cfg.extend(f),t=this._parse(t,f.format),e.createDecryptor(n,f).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(t.kdf={}).OpenSSL={execute:function(e,t,n,f,i){if(f||(f=r.random(8)),i)var a=s.create({keySize:t+n,hasher:i}).compute(e,f);else a=s.create({keySize:t+n}).compute(e,f);var o=r.create(a.words.slice(t),4*n);return a.sigBytes=4*t,h.create({key:a,iv:o,salt:f})}},m=n.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:y}),encrypt:function(e,t,n,f){var r=(f=this.cfg.extend(f)).kdf.execute(n,e.keySize,e.ivSize,f.salt,f.hasher);f.iv=r.iv;var i=g.encrypt.call(this,e,t,r.key,f);return i.mixIn(r),i},decrypt:function(e,t,n,f){f=this.cfg.extend(f),t=this._parse(t,f.format);var r=f.kdf.execute(n,e.keySize,e.ivSize,t.salt,f.hasher);return f.iv=r.iv,g.decrypt.call(this,e,t,r.key,f)}})}()},"object"==typeof e?t.exports=e=r(zr(),di()):"function"==typeof define&&n.amdO?define(["./core","./evpkdf"],r):r(f.CryptoJS)})),ui=b(((e,t)=>{var f,r;f=e,r=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function n(e,t,n,f){var r,i=this._iv;i?(r=i.slice(0),this._iv=void 0):r=this._prevBlock,f.encryptBlock(r,0);for(var a=0;a<n;a++)e[t+a]^=r[a]}return t.Encryptor=t.extend({processBlock:function(e,t){var f=this._cipher,r=f.blockSize;n.call(this,e,t,r,f),this._prevBlock=e.slice(t,t+r)}}),t.Decryptor=t.extend({processBlock:function(e,t){var f=this._cipher,r=f.blockSize,i=e.slice(t,t+r);n.call(this,e,t,r,f),this._prevBlock=i}}),t}(),e.mode.CFB},"object"==typeof e?t.exports=e=r(zr(),li()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],r):r(f.CryptoJS)})),bi=b(((e,t)=>{var f,r;f=e,r=function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,f=n.blockSize,r=this._iv,i=this._counter;r&&(i=this._counter=r.slice(0),this._iv=void 0);var a=i.slice(0);n.encryptBlock(a,0),i[f-1]=i[f-1]+1|0;for(var o=0;o<f;o++)e[t+o]^=a[o]}});return t.Decryptor=n,t}(),e.mode.CTR},"object"==typeof e?t.exports=e=r(zr(),li()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],r):r(f.CryptoJS)})),hi=b(((e,t)=>{var f,r;f=e,r=function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function n(e){if(255===(e>>24&255)){var t=e>>16&255,n=e>>8&255,f=255&e;255===t?(t=0,255===n?(n=0,255===f?f=0:++f):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=f}else e+=1<<24;return e}var f=t.Encryptor=t.extend({processBlock:function(e,t){var f=this._cipher,r=f.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0),function(e){0===(e[0]=n(e[0]))&&(e[1]=n(e[1]))}(a);var o=a.slice(0);f.encryptBlock(o,0);for(var s=0;s<r;s++)e[t+s]^=o[s]}});return t.Decryptor=f,t}(),e.mode.CTRGladman},"object"==typeof e?t.exports=e=r(zr(),li()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],r):r(f.CryptoJS)})),pi=b(((e,t)=>{var f,r;f=e,r=function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,f=n.blockSize,r=this._iv,i=this._keystream;r&&(i=this._keystream=r.slice(0),this._iv=void 0),n.encryptBlock(i,0);for(var a=0;a<f;a++)e[t+a]^=i[a]}});return t.Decryptor=n,t}(),e.mode.OFB},"object"==typeof e?t.exports=e=r(zr(),li()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],r):r(f.CryptoJS)})),gi=b(((e,t)=>{var f,r;f=e,r=function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t}(),e.mode.ECB},"object"==typeof e?t.exports=e=r(zr(),li()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],r):r(f.CryptoJS)})),yi=b(((e,t)=>{var f,r;f=e,r=function(e){return e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,f=4*t,r=f-n%f,i=n+r-1;e.clamp(),e.words[i>>>2]|=r<<24-i%4*8,e.sigBytes+=r},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923},"object"==typeof e?t.exports=e=r(zr(),li()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],r):r(f.CryptoJS)})),mi=b(((e,t)=>{var f,r;f=e,r=function(e){return e.pad.Iso10126={pad:function(t,n){var f=4*n,r=f-t.sigBytes%f;t.concat(e.lib.WordArray.random(r-1)).concat(e.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126},"object"==typeof e?t.exports=e=r(zr(),li()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],r):r(f.CryptoJS)})),vi=b(((e,t)=>{var f,r;f=e,r=function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971},"object"==typeof e?t.exports=e=r(zr(),li()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],r):r(f.CryptoJS)})),xi=b(((e,t)=>{var f,r;f=e,r=function(e){return e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},e.pad.ZeroPadding},"object"==typeof e?t.exports=e=r(zr(),li()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],r):r(f.CryptoJS)})),wi=b(((e,t)=>{var f,r;f=e,r=function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding},"object"==typeof e?t.exports=e=r(zr(),li()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],r):r(f.CryptoJS)})),_i=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib.CipherParams,f=t.enc.Hex;t.format.Hex={stringify:function(e){return e.ciphertext.toString(f)},parse:function(e){var t=f.parse(e);return n.create({ciphertext:t})}}}(),e.format.Hex},"object"==typeof e?t.exports=e=r(zr(),li()):"function"==typeof define&&n.amdO?define(["./core","./cipher-core"],r):r(f.CryptoJS)})),Ci=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib.BlockCipher,f=t.algo,r=[],i=[],a=[],o=[],s=[],c=[],d=[],l=[],u=[],b=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,f=0;for(t=0;t<256;t++){var h=f^f<<1^f<<2^f<<3^f<<4;h=h>>>8^255&h^99,r[n]=h,i[h]=n;var p=e[n],g=e[p],y=e[g],m=257*e[h]^16843008*h;a[n]=m<<24|m>>>8,o[n]=m<<16|m>>>16,s[n]=m<<8|m>>>24,c[n]=m,m=16843009*y^65537*g^257*p^16843008*n,d[h]=m<<24|m>>>8,l[h]=m<<16|m>>>16,u[h]=m<<8|m>>>24,b[h]=m,n?(n=p^e[e[e[y^p]]],f^=e[e[f]]):n=f=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],p=f.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,f=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],a=0;a<f;a++)a<n?i[a]=t[a]:(c=i[a-1],a%n?n>6&&a%n==4&&(c=r[c>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c]):(c=r[(c=c<<8|c>>>24)>>>24]<<24|r[c>>>16&255]<<16|r[c>>>8&255]<<8|r[255&c],c^=h[a/n|0]<<24),i[a]=i[a-n]^c);for(var o=this._invKeySchedule=[],s=0;s<f;s++){if(a=f-s,s%4)var c=i[a];else c=i[a-4];o[s]=s<4||a<=4?c:d[r[c>>>24]]^l[r[c>>>16&255]]^u[r[c>>>8&255]]^b[r[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,o,s,c,r)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,d,l,u,b,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,f,r,i,a,o){for(var s=this._nRounds,c=e[t]^n[0],d=e[t+1]^n[1],l=e[t+2]^n[2],u=e[t+3]^n[3],b=4,h=1;h<s;h++){var p=f[c>>>24]^r[d>>>16&255]^i[l>>>8&255]^a[255&u]^n[b++],g=f[d>>>24]^r[l>>>16&255]^i[u>>>8&255]^a[255&c]^n[b++],y=f[l>>>24]^r[u>>>16&255]^i[c>>>8&255]^a[255&d]^n[b++],m=f[u>>>24]^r[c>>>16&255]^i[d>>>8&255]^a[255&l]^n[b++];c=p,d=g,l=y,u=m}p=(o[c>>>24]<<24|o[d>>>16&255]<<16|o[l>>>8&255]<<8|o[255&u])^n[b++],g=(o[d>>>24]<<24|o[l>>>16&255]<<16|o[u>>>8&255]<<8|o[255&c])^n[b++],y=(o[l>>>24]<<24|o[u>>>16&255]<<16|o[c>>>8&255]<<8|o[255&d])^n[b++],m=(o[u>>>24]<<24|o[c>>>16&255]<<16|o[d>>>8&255]<<8|o[255&l])^n[b++],e[t]=p,e[t+1]=g,e[t+2]=y,e[t+3]=m},keySize:8});t.AES=n._createHelper(p)}(),e.AES},"object"==typeof e?t.exports=e=r(zr(),Zr(),ei(),di(),li()):"function"==typeof define&&n.amdO?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(f.CryptoJS)})),Oi=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib,f=n.WordArray,r=n.BlockCipher,i=t.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],s=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],l=i.DES=r.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var f=a[n]-1;t[n]=e[f>>>5]>>>31-f%32&1}for(var r=this._subKeys=[],i=0;i<16;i++){var c=r[i]=[],d=s[i];for(n=0;n<24;n++)c[n/6|0]|=t[(o[n]-1+d)%28]<<31-n%6,c[4+(n/6|0)]|=t[28+(o[n+24]-1+d)%28]<<31-n%6;for(c[0]=c[0]<<1|c[0]>>>31,n=1;n<7;n++)c[n]=c[n]>>>4*(n-1)+3;c[7]=c[7]<<5|c[7]>>>27}var l=this._invSubKeys=[];for(n=0;n<16;n++)l[n]=r[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],u.call(this,4,252645135),u.call(this,16,65535),b.call(this,2,858993459),b.call(this,8,16711935),u.call(this,1,1431655765);for(var f=0;f<16;f++){for(var r=n[f],i=this._lBlock,a=this._rBlock,o=0,s=0;s<8;s++)o|=c[s][((a^r[s])&d[s])>>>0];this._lBlock=a,this._rBlock=i^o}var l=this._lBlock;this._lBlock=this._rBlock,this._rBlock=l,u.call(this,1,1431655765),b.call(this,8,16711935),b.call(this,2,858993459),u.call(this,16,65535),u.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function u(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function b(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}t.DES=r._createHelper(l);var h=i.TripleDES=r.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),r=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=l.createEncryptor(f.create(t)),this._des2=l.createEncryptor(f.create(n)),this._des3=l.createEncryptor(f.create(r))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=r._createHelper(h)}(),e.TripleDES},"object"==typeof e?t.exports=e=r(zr(),Zr(),ei(),di(),li()):"function"==typeof define&&n.amdO?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(f.CryptoJS)})),Ei=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib.StreamCipher,f=t.algo,r=f.RC4=n.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,f=this._S=[],r=0;r<256;r++)f[r]=r;r=0;for(var i=0;r<256;r++){var a=r%n,o=t[a>>>2]>>>24-a%4*8&255;i=(i+f[r]+o)%256;var s=f[r];f[r]=f[i],f[i]=s}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=i.call(this)},keySize:8,ivSize:0});function i(){for(var e=this._S,t=this._i,n=this._j,f=0,r=0;r<4;r++){n=(n+e[t=(t+1)%256])%256;var i=e[t];e[t]=e[n],e[n]=i,f|=e[(e[t]+e[n])%256]<<24-8*r}return this._i=t,this._j=n,f}t.RC4=n._createHelper(r);var a=f.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)i.call(this)}});t.RC4Drop=n._createHelper(a)}(),e.RC4},"object"==typeof e?t.exports=e=r(zr(),Zr(),ei(),di(),li()):"function"==typeof define&&n.amdO?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(f.CryptoJS)})),Si=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib.StreamCipher,f=t.algo,r=[],i=[],a=[],o=f.Rabbit=n.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var f=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)s.call(this);for(n=0;n<8;n++)r[n]^=f[n+4&7];if(t){var i=t.words,a=i[0],o=i[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),l=c>>>16|4294901760&d,u=d<<16|65535&c;for(r[0]^=c,r[1]^=l,r[2]^=d,r[3]^=u,r[4]^=c,r[5]^=l,r[6]^=d,r[7]^=u,n=0;n<4;n++)s.call(this)}},_doProcessBlock:function(e,t){var n=this._X;s.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var f=0;f<4;f++)r[f]=16711935&(r[f]<<8|r[f]>>>24)|4278255360&(r[f]<<24|r[f]>>>8),e[t+f]^=r[f]},blockSize:4,ivSize:2});function s(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var f=e[n]+t[n],r=65535&f,o=f>>>16,s=((r*r>>>17)+r*o>>>15)+o*o,c=((4294901760&f)*f|0)+((65535&f)*f|0);a[n]=s^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.Rabbit=n._createHelper(o)}(),e.Rabbit},"object"==typeof e?t.exports=e=r(zr(),Zr(),ei(),di(),li()):"function"==typeof define&&n.amdO?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(f.CryptoJS)})),Ti=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib.StreamCipher,f=t.algo,r=[],i=[],a=[],o=f.RabbitLegacy=n.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],f=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var r=0;r<4;r++)s.call(this);for(r=0;r<8;r++)f[r]^=n[r+4&7];if(t){var i=t.words,a=i[0],o=i[1],c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),l=c>>>16|4294901760&d,u=d<<16|65535&c;for(f[0]^=c,f[1]^=l,f[2]^=d,f[3]^=u,f[4]^=c,f[5]^=l,f[6]^=d,f[7]^=u,r=0;r<4;r++)s.call(this)}},_doProcessBlock:function(e,t){var n=this._X;s.call(this),r[0]=n[0]^n[5]>>>16^n[3]<<16,r[1]=n[2]^n[7]>>>16^n[5]<<16,r[2]=n[4]^n[1]>>>16^n[7]<<16,r[3]=n[6]^n[3]>>>16^n[1]<<16;for(var f=0;f<4;f++)r[f]=16711935&(r[f]<<8|r[f]>>>24)|4278255360&(r[f]<<24|r[f]>>>8),e[t+f]^=r[f]},blockSize:4,ivSize:2});function s(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var f=e[n]+t[n],r=65535&f,o=f>>>16,s=((r*r>>>17)+r*o>>>15)+o*o,c=((4294901760&f)*f|0)+((65535&f)*f|0);a[n]=s^c}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}t.RabbitLegacy=n._createHelper(o)}(),e.RabbitLegacy},"object"==typeof e?t.exports=e=r(zr(),Zr(),ei(),di(),li()):"function"==typeof define&&n.amdO?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(f.CryptoJS)})),Ni=b(((e,t)=>{var f,r;f=e,r=function(e){return function(){var t=e,n=t.lib.BlockCipher,f=t.algo;let r=16,i=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var o={pbox:[],sbox:[]};function s(e,t){let n=t>>24&255,f=t>>16&255,r=t>>8&255,i=255&t,a=e.sbox[0][n]+e.sbox[1][f];return a^=e.sbox[2][r],a+=e.sbox[3][i],a}function c(e,t,n){let f,i=t,a=n;for(let o=0;o<r;++o)i^=e.pbox[o],a=s(e,i)^a,f=i,i=a,a=f;return f=i,i=a,a=f,a^=e.pbox[r],i^=e.pbox[17],{left:i,right:a}}var d=f.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;!function(e,t,n){for(let i=0;i<4;i++){e.sbox[i]=[];for(let t=0;t<256;t++)e.sbox[i][t]=a[i][t]}let f=0;for(let a=0;a<18;a++)e.pbox[a]=i[a]^t[f],f++,f>=n&&(f=0);let r=0,o=0,s=0;for(let i=0;i<18;i+=2)s=c(e,r,o),r=s.left,o=s.right,e.pbox[i]=r,e.pbox[i+1]=o;for(let i=0;i<4;i++)for(let t=0;t<256;t+=2)s=c(e,r,o),r=s.left,o=s.right,e.sbox[i][t]=r,e.sbox[i][t+1]=o}(o,t,n)}},encryptBlock:function(e,t){var n=c(o,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=function(e,t,n){let f,r=t,i=n;for(let a=17;a>1;--a)r^=e.pbox[a],i=s(e,r)^i,f=r,r=i,i=f;return f=r,r=i,i=f,i^=e.pbox[1],r^=e.pbox[0],{left:r,right:i}}(o,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});t.Blowfish=n._createHelper(d)}(),e.Blowfish},"object"==typeof e?t.exports=e=r(zr(),Zr(),ei(),di(),li()):"function"==typeof define&&n.amdO?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],r):r(f.CryptoJS)})),ki=b(((e,t)=>{var f,r;f=e,r=function(e){return e},"object"==typeof e?t.exports=e=r(zr(),Gr(),Vr(),Yr(),Zr(),Qr(),ei(),ti(),ni(),fi(),ri(),ii(),ai(),oi(),si(),ci(),di(),li(),ui(),bi(),hi(),pi(),gi(),yi(),mi(),vi(),xi(),wi(),_i(),Ci(),Oi(),Ei(),Si(),Ti(),Ni()):"function"==typeof define&&n.amdO?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],r):f.CryptoJS=f.CryptoJS})),Ri=b((e=>{var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.isValidObject=e.RANDOM_LENGTH=e.isBrowser=e.resolveLocalStorage=e.hasLocalStorage=e.hasBuiltInWebSocket=e.resolveWebSocketImplementation=void 0,e.hexToByteArray=function(e){if(e.length%2!==0)throw new Error(`Cannot convert ${e} to bytesArray`);let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t},e.toHexString=function(e){let t="";return e.forEach((e=>{t+=("0"+(255&e).toString(16)).slice(-2)})),t},e.concatUint8Arrays=function(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n},e.splitToUint8Arrays=function(e,t){if(t>=e.length)throw new Error("Index is out of buffer");let n=e.slice(0,t),f=e.slice(t);return[n,f]},e.base64encode=function(e,t){let n;return e instanceof Uint8Array?n=e:("string"!=typeof e&&(e=(0,o.safeJsonStringify)(e)),n=r.default.decodeUTF8(e)),function(e,t){let n=r.default.encodeBase64(e);return t?encodeURIComponent(n):n}(n,t)},e.base64decode=function(e,t){let n=function(e,t){return t&&(e=decodeURIComponent(e)),r.default.decodeBase64(e)}(e,t);return{toString:()=>r.default.encodeUTF8(n),toObject(){try{return(0,o.safeJsonParse)(r.default.encodeUTF8(n))}catch{return null}},toUint8Array:()=>n}},e.checkWSUrl=function(e){let t=e.match(new RegExp(/^\w+:/,"gi"));if(!t||!t.length)return!1;let n=t[0];return void 0!==n&&new RegExp("^wss?:").test(n)},e.hashKey=u,e.generateRandomBytes32=b,e.generateTopic=function(){let e=b();return(0,s.logDebug)(`generate topic called ${e}`),u((0,i.toString)(e,l))},e.isIos=function(){let e=navigator.userAgent,t=navigator.maxTouchPoints||0,n=/iPad|iPhone|iPod/.test(e)&&!window.MSStream,f=e.includes("Mac")&&t>1;return(0,s.logDebug)(`utils isIos >>>isIOSDevice: ${n}    >> isIPadOS: ${f}`),n||f},e.getLastSixMd5Hash=function(e){return d.default.MD5(e).toString().slice(-6)},e.toSafeBase64FromBase64=function(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};var f=t(R()),r=t(A()),i=(on(),y(rn)),a=ln(),o=bn(),s=un(),c=Jr(),d=t(ki()),l="base16";e.resolveWebSocketImplementation=()=>typeof WebSocket<"u"?WebSocket:typeof n.g<"u"&&typeof n.g.WebSocket<"u"?n.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:WebSocket;e.hasBuiltInWebSocket=()=>typeof WebSocket<"u"||typeof n.g<"u"&&typeof n.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u";e.hasLocalStorage=()=>typeof n.g<"u"&&typeof n.g.localStorage<"u"||typeof window<"u"&&typeof window.localStorage<"u";e.resolveLocalStorage=()=>typeof n.g<"u"&&typeof n.g.localStorage<"u"?n.g.localStorage:typeof window<"u"&&typeof window.localStorage<"u"?window.localStorage:localStorage;function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;(0,s.logDebug)(`hash key called ${e}`);let n=(0,a.hash)((0,c.okxfromString)(e,t));return(0,i.toString)(n,t)}function b(){return f.default.randomBytes(e.RANDOM_LENGTH)}e.isBrowser=()=>typeof window<"u",e.RANDOM_LENGTH=32;e.isValidObject=e=>Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length})),Ai=b((e=>{var t=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))};function n(e,n){return t(this,void 0,void 0,(function*(){return new Promise(((t,f)=>{var r,i;if(null!==(r=n?.signal)&&void 0!==r&&r.aborted)return void f(new Error("Delay aborted"));let a=setTimeout((()=>t()),e);null===(i=n?.signal)||void 0===i||i.addEventListener("abort",(()=>{clearTimeout(a),f(new Error("Delay aborted"))}))}))}))}Object.defineProperty(e,"__esModule",{value:!0}),e.callForSuccess=function(e,f){return t(this,void 0,void 0,(function*(){var t,r;let i=null!==(t=f?.attempts)&&void 0!==t?t:3,a=null!==(r=f?.delayMs)&&void 0!==r?r:800;if("function"!=typeof e)throw new Error("Expected a function, got "+typeof e);let o,s=0;for(;s<i;)try{return yield e()}catch(c){o=c,s++,s<i&&(yield n(a))}throw o}))},e.delay=n})),Pi=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_ERROR=e.STANDARD_ERROR_MAP=e.SERVER_ERROR_CODE_RANGE=e.RESERVED_ERROR_CODES=e.SERVER_ERROR=e.INTERNAL_ERROR=e.INVALID_PARAMS=e.METHOD_NOT_FOUND=e.INVALID_REQUEST=e.PARSE_ERROR=e.OKX_CONNECT_ERROR_CODES=e.OKXConnectError=void 0;var t,n,f=class e extends Error{constructor(n,f){null==f&&(f=function(e){return e==t.UNKNOWN_ERROR?"unknown error":e==t.BAD_REQUEST_ERROR?"bad request error":e==t.ALREADY_CONNECTED_ERROR?"already connected error":e==t.NOT_CONNECTED_ERROR?"not connected error":e==t.UNKNOWN_APP_ERROR?"unknown app error":e==t.USER_REJECTS_ERROR?"user rejects error":e==t.METHOD_NOT_SUPPORTED?"method not supported":e==t.CONNECTION_ERROR?"connect error":"unknown error"}(n)),super(f),this.code=n,this.message=`${e.prefix} ${f?"\n"+f:""}`,Object.setPrototypeOf(this,e.prototype)}toJSON(){return{message:this.message,code:this.code}}};e.OKXConnectError=f,f.prefix="[OKX_CONNECT_SDK_ERROR]",(n=t||(e.OKX_CONNECT_ERROR_CODES=t={}))[n.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",n[n.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",n[n.ALREADY_CONNECTED_ERROR=11]="ALREADY_CONNECTED_ERROR",n[n.NOT_CONNECTED_ERROR=12]="NOT_CONNECTED_ERROR",n[n.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",n[n.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",n[n.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",n[n.CHAIN_NOT_SUPPORTED=500]="CHAIN_NOT_SUPPORTED",n[n.WALLET_NOT_SUPPORTED=600]="WALLET_NOT_SUPPORTED",n[n.CONNECTION_ERROR=700]="CONNECTION_ERROR",e.PARSE_ERROR="PARSE_ERROR",e.INVALID_REQUEST="INVALID_REQUEST",e.METHOD_NOT_FOUND="METHOD_NOT_FOUND",e.INVALID_PARAMS="INVALID_PARAMS",e.INTERNAL_ERROR="INTERNAL_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.RESERVED_ERROR_CODES=[-32700,-32600,-32601,-32602,-32603],e.SERVER_ERROR_CODE_RANGE=[-32e3,-32099],e.STANDARD_ERROR_MAP={[e.PARSE_ERROR]:{code:-32700,message:"Parse error"},[e.INVALID_REQUEST]:{code:-32600,message:"Invalid Request"},[e.METHOD_NOT_FOUND]:{code:-32601,message:"Method not found"},[e.INVALID_PARAMS]:{code:-32602,message:"Invalid params"},[e.INTERNAL_ERROR]:{code:-32603,message:"Internal error"},[e.SERVER_ERROR]:{code:-32e3,message:"Server error"}},e.DEFAULT_ERROR=e.SERVER_ERROR})),Di=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OKX_CONNECT_ERROR_CODES=e.OKXConnectError=void 0;var t=Pi();Object.defineProperty(e,"OKXConnectError",{enumerable:!0,get:function(){return t.OKXConnectError}}),Object.defineProperty(e,"OKX_CONNECT_ERROR_CODES",{enumerable:!0,get:function(){return t.OKX_CONNECT_ERROR_CODES}})})),Ii=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NameSpaceKeyCosmos=e.NameSpaceKeyAptos=e.NameSpaceKeyBtc=e.NameSpaceKeySui=e.NameSpaceKeyTON=e.NameSpaceKeySOL=e.NameSpaceKeyEip155=void 0,e.NameSpaceKeyEip155="eip155",e.NameSpaceKeySOL="solana",e.NameSpaceKeyTON="ton",e.NameSpaceKeySui="sui",e.NameSpaceKeyBtc="btc",e.NameSpaceKeyAptos="aptos",e.NameSpaceKeyCosmos="cosmos"})),ji=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tgwalletName=e.tonConnectSdkVersion=e.standardDeeplink=e.downloadUrl=e.standardUniversalLink=e.okxDeeplink=void 0,e.okxDeeplink="okx://web3",e.standardUniversalLink="https://www.okx.com/download",e.downloadUrl="https://www.okx.com/download",e.standardDeeplink=`${e.okxDeeplink}/wallet/connect`,e.tonConnectSdkVersion="1",e.tgwalletName="OKX_WALLET_BOT"})),Ki=b((e=>{var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};function n(e){return"object"==typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function f(e){return"result"in e}function r(e){return"error"in e}Object.defineProperty(e,"__esModule",{value:!0}),e.isJsonRpcPayload=n,e.isJsonRpcRequest=function(e){return n(e)&&"method"in e},e.isJsonRpcResponse=function(e){return n(e)&&(f(e)||r(e))},e.isJsonRpcResult=f,e.isJsonRpcError=r,e.payloadId=d,e.getBigIntRpcId=function(){let e=BigInt(Date.now())*BigInt(1e6),t=BigInt(c.getNextValue());return e+t},e.formatJsonRpcRequest=function(e,t,n){return{id:n||d(),jsonrpc:"2.0",method:e,params:t}},e.formatJsonRpcResult=function(e,t){return{id:e,jsonrpc:"2.0",result:t}},e.formatJsonRpcError=function(e,t,n){return{id:e,jsonrpc:"2.0",error:h(t,n)}},e.isReservedErrorCode=l,e.getError=u,e.getErrorByCode=b,e.formatErrorMessage=h,e.isHttpUrl=function(e){return p(e,"^https?:")},e.isWsUrl=function(e){return p(e,"^wss?:")},e.parseConnectionError=function(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e};var i=Pi(),a=t(R()),o=class{constructor(e){this.i=1;8===e?new Uint8Array(1):16===e?new Uint16Array(1):new Uint32Array(1);this.initialValue=a.default.randomBytes(e/8)[0]}getNextValue(){return this.initialValue+this.i++}},s=new o(8),c=new o(16);function d(){return 1e3*Date.now()+s.getNextValue()}function l(e){return i.RESERVED_ERROR_CODES.includes(e)}function u(e){return Object.keys(i.STANDARD_ERROR_MAP).includes(e)?i.STANDARD_ERROR_MAP[e]:i.STANDARD_ERROR_MAP[i.DEFAULT_ERROR]}function b(e){return Object.values(i.STANDARD_ERROR_MAP).find((t=>t.code===e))||i.STANDARD_ERROR_MAP[i.DEFAULT_ERROR]}function h(e,t){return typeof e>"u"?u(i.INTERNAL_ERROR):("string"==typeof e&&(e=Object.assign(Object.assign({},u(i.SERVER_ERROR)),{message:e})),typeof t<"u"&&(e.data=t),l(e.code)&&(e=b(e.code)),e)}function p(e,t){let n=function(e){let t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return!(typeof n>"u")&&new RegExp(t).test(n)}})),Ui=b(((e,t)=>{var n=Object.prototype.hasOwnProperty,f="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new i(n,r||e,a),s=f?f+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(f=!1)),s.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(f?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e){var t=f?f+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},s.prototype.listenerCount=function(e){var t=f?f+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,r,i,a){var o=f?f+e:e;if(!this._events[o])return!1;var s,c,d=this._events[o],l=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),l){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,r),!0;case 5:return d.fn.call(d.context,t,n,r,i),!0;case 6:return d.fn.call(d.context,t,n,r,i,a),!0}for(c=1,s=new Array(l-1);c<l;c++)s[c-1]=arguments[c];d.fn.apply(d.context,s)}else{var u,b=d.length;for(c=0;c<b;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),l){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,r);break;default:if(!s)for(u=1,s=new Array(l-1);u<l;u++)s[u-1]=arguments[u];d[c].fn.apply(d[c].context,s)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,n,r){var i=f?f+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var a=this._events[i];if(a.fn)a.fn===t&&(!r||a.once)&&(!n||a.context===n)&&o(this,i);else{for(var s=0,c=[],d=a.length;s<d;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&c.push(a[s]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=f?f+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=f,s.EventEmitter=s,typeof t<"u"&&(t.exports=s)})),Mi=b((e=>{var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.IEngine=e.ISignClient=e.ISignClientEvents=e.IEngineEvents=void 0;var n=t(Ui()),f=class extends n.default{constructor(){super()}};e.IEngineEvents=f;var r=class extends n.default{constructor(){super()}};e.ISignClientEvents=r;e.ISignClient=class{constructor(e){this.data=e}};e.IEngine=class{constructor(e){this.client=e}}})),Bi=b((e=>{var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TONCHAIN=void 0,(t||(e.TONCHAIN=t={})).MAINNET="-239"})),Li=b((e=>{var t,n;Object.defineProperty(e,"__esModule",{value:!0}),e.CONNECT_ITEM_ERROR_CODES=void 0,(n=t||(e.CONNECT_ITEM_ERROR_CODES=t={}))[n.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",n[n.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})),$i=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CONNECT_ITEM_ERROR_CODES=e.TONCHAIN=void 0;var t=Bi();Object.defineProperty(e,"TONCHAIN",{enumerable:!0,get:function(){return t.TONCHAIN}});var n=Li();Object.defineProperty(e,"CONNECT_ITEM_ERROR_CODES",{enumerable:!0,get:function(){return n.CONNECT_ITEM_ERROR_CODES}})})),Hi=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.creatOKXWalletInfo=function(){return{appName:"okxAppWallet",name:"OKX Wallet",imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",aboutUrl:t.downloadUrl,universalLink:t.standardUniversalLink,deepLink:t.standardDeeplink,platforms:["ios","android"]}},e.creatOKXMiniAppWalletInfo=function(){return{appName:"okxMiniApp",name:"OKX Mini Wallet",imageUrl:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",aboutUrl:t.downloadUrl,universalLink:`https://t.me/${t.tgwalletName}/start`,deepLink:"",platforms:["ios","android","macos","windows"]}};var t=ji()})),Wi=b((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,f){void 0===f&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){void 0===f&&(f=n),e[f]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var f in e)"default"!==f&&!Object.prototype.hasOwnProperty.call(n,f)&&t(n,e,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.creatOKXMiniAppWalletInfo=e.creatOKXWalletInfo=e.ISignClientEvents=e.IEngine=e.IEngineEvents=e.ISignClient=e.getBigIntRpcId=e.formatJsonRpcRequest=e.isJsonRpcError=e.isJsonRpcResponse=e.parseConnectionError=e.isHttpUrl=e.formatJsonRpcError=void 0;var f=Ki();Object.defineProperty(e,"formatJsonRpcError",{enumerable:!0,get:function(){return f.formatJsonRpcError}}),Object.defineProperty(e,"isHttpUrl",{enumerable:!0,get:function(){return f.isHttpUrl}}),Object.defineProperty(e,"parseConnectionError",{enumerable:!0,get:function(){return f.parseConnectionError}}),Object.defineProperty(e,"isJsonRpcResponse",{enumerable:!0,get:function(){return f.isJsonRpcResponse}}),Object.defineProperty(e,"isJsonRpcError",{enumerable:!0,get:function(){return f.isJsonRpcError}}),Object.defineProperty(e,"formatJsonRpcRequest",{enumerable:!0,get:function(){return f.formatJsonRpcRequest}}),Object.defineProperty(e,"getBigIntRpcId",{enumerable:!0,get:function(){return f.getBigIntRpcId}});var r=Mi();Object.defineProperty(e,"ISignClient",{enumerable:!0,get:function(){return r.ISignClient}}),Object.defineProperty(e,"IEngineEvents",{enumerable:!0,get:function(){return r.IEngineEvents}}),Object.defineProperty(e,"IEngine",{enumerable:!0,get:function(){return r.IEngine}}),Object.defineProperty(e,"ISignClientEvents",{enumerable:!0,get:function(){return r.ISignClientEvents}}),n($i(),e);var i=Hi();Object.defineProperty(e,"creatOKXWalletInfo",{enumerable:!0,get:function(){return i.creatOKXWalletInfo}}),Object.defineProperty(e,"creatOKXMiniAppWalletInfo",{enumerable:!0,get:function(){return i.creatOKXMiniAppWalletInfo}})})),Xi=b((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,f){void 0===f&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){void 0===f&&(f=n),e[f]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var f in e)"default"!==f&&!Object.prototype.hasOwnProperty.call(n,f)&&t(n,e,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.downloadUrl=e.okxDeeplink=e.tonConnectSdkVersion=e.standardDeeplink=e.standardUniversalLink=e.NameSpaceKeyCosmos=e.NameSpaceKeyAptos=e.NameSpaceKeyBtc=e.NameSpaceKeySui=e.NameSpaceKeyTON=e.NameSpaceKeySOL=e.NameSpaceKeyEip155=void 0,n(Di(),e);var f=Ii();Object.defineProperty(e,"NameSpaceKeyEip155",{enumerable:!0,get:function(){return f.NameSpaceKeyEip155}}),Object.defineProperty(e,"NameSpaceKeySOL",{enumerable:!0,get:function(){return f.NameSpaceKeySOL}}),Object.defineProperty(e,"NameSpaceKeyTON",{enumerable:!0,get:function(){return f.NameSpaceKeyTON}}),Object.defineProperty(e,"NameSpaceKeySui",{enumerable:!0,get:function(){return f.NameSpaceKeySui}}),Object.defineProperty(e,"NameSpaceKeyBtc",{enumerable:!0,get:function(){return f.NameSpaceKeyBtc}}),Object.defineProperty(e,"NameSpaceKeyAptos",{enumerable:!0,get:function(){return f.NameSpaceKeyAptos}}),Object.defineProperty(e,"NameSpaceKeyCosmos",{enumerable:!0,get:function(){return f.NameSpaceKeyCosmos}});var r=ji();Object.defineProperty(e,"standardUniversalLink",{enumerable:!0,get:function(){return r.standardUniversalLink}}),Object.defineProperty(e,"standardDeeplink",{enumerable:!0,get:function(){return r.standardDeeplink}}),Object.defineProperty(e,"tonConnectSdkVersion",{enumerable:!0,get:function(){return r.tonConnectSdkVersion}}),Object.defineProperty(e,"okxDeeplink",{enumerable:!0,get:function(){return r.okxDeeplink}}),Object.defineProperty(e,"downloadUrl",{enumerable:!0,get:function(){return r.downloadUrl}}),n(Wi(),e)})),Fi=b(((e,t)=>{!function(f,r){var i="function",a="undefined",o="object",s="string",c="major",d="model",l="name",u="type",b="vendor",h="version",p="architecture",g="console",y="mobile",m="tablet",v="smarttv",x="wearable",w="embedded",_="Amazon",C="Apple",O="ASUS",E="BlackBerry",S="Browser",T="Chrome",N="Firefox",k="Google",R="Huawei",A="LG",P="Microsoft",D="Motorola",I="Opera",j="Samsung",K="Sharp",U="Sony",M="Xiaomi",B="Zebra",L="Facebook",$="Chromium OS",H="Mac OS",W=" Browser",X=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},F=function(e,t){return typeof e===s&&-1!==q(t).indexOf(q(e))},q=function(e){return e.toLowerCase()},J=function(e,t){if(typeof e===s)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},z=function(e,t){for(var n,f,a,s,c,d,l=0;l<t.length&&!c;){var u=t[l],b=t[l+1];for(n=f=0;n<u.length&&!c&&u[n];)if(c=u[n++].exec(e))for(a=0;a<b.length;a++)d=c[++f],typeof(s=b[a])===o&&s.length>0?2===s.length?typeof s[1]==i?this[s[0]]=s[1].call(this,d):this[s[0]]=s[1]:3===s.length?typeof s[1]!==i||s[1].exec&&s[1].test?this[s[0]]=d?d.replace(s[1],s[2]):r:this[s[0]]=d?s[1].call(this,d,s[2]):r:4===s.length&&(this[s[0]]=d?s[3].call(this,d.replace(s[1],s[2])):r):this[s]=d||r;l+=2}},G=function(e,t){for(var n in t)if(typeof t[n]===o&&t[n].length>0){for(var f=0;f<t[n].length;f++)if(F(t[n][f],e))return"?"===n?r:n}else if(F(t[n],e))return"?"===n?r:n;return t.hasOwnProperty("*")?t["*"]:e},V={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[l,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[l,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[l,h],[/opios[\/ ]+([\w\.]+)/i],[h,[l,I+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[h,[l,I+" GX"]],[/\bopr\/([\w\.]+)/i],[h,[l,I]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[h,[l,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[l,h],[/quark(?:pc)?\/([-\w\.]+)/i],[h,[l,"Quark"]],[/\bddg\/([\w\.]+)/i],[h,[l,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[h,[l,"UC"+S]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[h,[l,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[l,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[h,[l,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[h,[l,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[h,[l,"Smart Lenovo "+S]],[/(avast|avg)\/([\w\.]+)/i],[[l,/(.+)/,"$1 Secure "+S],h],[/\bfocus\/([\w\.]+)/i],[h,[l,N+" Focus"]],[/\bopt\/([\w\.]+)/i],[h,[l,I+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[h,[l,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[l,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[l,I+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[h,[l,"MIUI "+S]],[/fxios\/([-\w\.]+)/i],[h,[l,N]],[/\bqihu|(qi?ho?o?|360)browser/i],[[l,"360"+W]],[/\b(qq)\/([\w\.]+)/i],[[l,/(.+)/,"$1Browser"],h],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[l,/(.+)/,"$1"+W],h],[/samsungbrowser\/([\w\.]+)/i],[h,[l,j+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],h],[/metasr[\/ ]?([\d\.]+)/i],[h,[l,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[l,"Sogou Mobile"],h],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[l,h],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[l],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[l,L],h],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[l,h],[/\bgsa\/([\w\.]+) .*safari\//i],[h,[l,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[h,[l,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[h,[l,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[l,T+" WebView"],h],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[h,[l,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[l,h],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[h,[l,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[h,l],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[l,[h,G,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[l,h],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[l,"Netscape"],h],[/(wolvic)\/([\w\.]+)/i],[l,h],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[h,[l,N+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[l,[h,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[l,[h,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,q]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,"",q]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[b,j],[u,m]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[b,j],[u,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[b,C],[u,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[b,C],[u,m]],[/(macintosh);/i],[d,[b,C]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[b,K],[u,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[b,R],[u,m]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[b,R],[u,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[d,/_/g," "],[b,M],[u,y]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[b,M],[u,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[b,"OPPO"],[u,y]],[/\b(opd2\d{3}a?) bui/i],[d,[b,"OPPO"],[u,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[b,"Vivo"],[u,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[b,"Realme"],[u,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[b,D],[u,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[b,D],[u,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[b,A],[u,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[b,A],[u,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[b,"Lenovo"],[u,m]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[b,"Nokia"],[u,y]],[/(pixel c)\b/i],[d,[b,k],[u,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[b,k],[u,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[b,U],[u,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[b,U],[u,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[b,"OnePlus"],[u,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[b,_],[u,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[b,_],[u,y]],[/(playbook);[-\w\),; ]+(rim)/i],[d,b,[u,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[b,E],[u,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[b,O],[u,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[b,O],[u,y]],[/(nexus 9)/i],[d,[b,"HTC"],[u,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[b,[d,/_/g," "],[u,y]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[b,"TCL"],[u,m]],[/(itel) ((\w+))/i],[[b,q],d,[u,G,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[b,"Acer"],[u,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[b,"Meizu"],[u,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[b,"Ulefone"],[u,y]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[b,"Nothing"],[u,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[b,d,[u,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[b,d,[u,m]],[/(surface duo)/i],[d,[b,P],[u,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[b,"Fairphone"],[u,y]],[/(u304aa)/i],[d,[b,"AT&T"],[u,y]],[/\bsie-(\w*)/i],[d,[b,"Siemens"],[u,y]],[/\b(rct\w+) b/i],[d,[b,"RCA"],[u,m]],[/\b(venue[\d ]{2,7}) b/i],[d,[b,"Dell"],[u,m]],[/\b(q(?:mv|ta)\w+) b/i],[d,[b,"Verizon"],[u,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[b,"Barnes & Noble"],[u,m]],[/\b(tm\d{3}\w+) b/i],[d,[b,"NuVision"],[u,m]],[/\b(k88) b/i],[d,[b,"ZTE"],[u,m]],[/\b(nx\d{3}j) b/i],[d,[b,"ZTE"],[u,y]],[/\b(gen\d{3}) b.+49h/i],[d,[b,"Swiss"],[u,y]],[/\b(zur\d{3}) b/i],[d,[b,"Swiss"],[u,m]],[/\b((zeki)?tb.*\b) b/i],[d,[b,"Zeki"],[u,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[b,"Dragon Touch"],d,[u,m]],[/\b(ns-?\w{0,9}) b/i],[d,[b,"Insignia"],[u,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[b,"NextBook"],[u,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[b,"Voice"],d,[u,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[b,"LvTel"],d,[u,y]],[/\b(ph-1) /i],[d,[b,"Essential"],[u,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[b,"Envizen"],[u,m]],[/\b(trio[-\w\. ]+) b/i],[d,[b,"MachSpeed"],[u,m]],[/\btu_(1491) b/i],[d,[b,"Rotor"],[u,m]],[/(shield[\w ]+) b/i],[d,[b,"Nvidia"],[u,m]],[/(sprint) (\w+)/i],[b,d,[u,y]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[b,P],[u,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[b,B],[u,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[b,B],[u,y]],[/smart-tv.+(samsung)/i],[b,[u,v]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[b,j],[u,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,A],[u,v]],[/(apple) ?tv/i],[b,[d,C+" TV"],[u,v]],[/crkey/i],[[d,T+"cast"],[b,k],[u,v]],[/droid.+aft(\w+)( bui|\))/i],[d,[b,_],[u,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[b,K],[u,v]],[/(bravia[\w ]+)( bui|\))/i],[d,[b,U],[u,v]],[/(mitv-\w{5}) bui/i],[d,[b,M],[u,v]],[/Hbbtv.*(technisat) (.*);/i],[b,d,[u,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[b,J],[d,J],[u,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[b,d,[u,g]],[/droid.+; (shield) bui/i],[d,[b,"Nvidia"],[u,g]],[/(playstation [345portablevi]+)/i],[d,[b,U],[u,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[b,P],[u,g]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[d,[b,j],[u,x]],[/((pebble))app/i],[b,d,[u,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[b,C],[u,x]],[/droid.+; (glass) \d/i],[d,[b,k],[u,x]],[/droid.+; (wt63?0{2,3})\)/i],[d,[b,B],[u,x]],[/(quest( \d| pro)?)/i],[d,[b,L],[u,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[u,w]],[/(aeobc)\b/i],[d,[b,_],[u,w]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[u,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[u,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,m]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[u,y]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[h,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[l,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,l]],os:[[/microsoft (windows) (vista|xp)/i],[l,h],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[l,[h,G,V]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,G,V],[l,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[l,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[l,H],[h,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[h,l],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[l,h],[/\(bb(10);/i],[h,[l,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[h,[l,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[h,[l,N+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[l,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[h,[l,"watchOS"]],[/crkey\/([\d\.]+)/i],[h,[l,T+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[l,$],h],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[l,h],[/(sunos) ?([\w\.\d]*)/i],[[l,"Solaris"],h],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[l,h]]},Z=function(e,t){if(typeof e===o&&(t=e,e=r),!(this instanceof Z))return new Z(e,t).getResult();var n=typeof f!==a&&f.navigator?f.navigator:r,g=e||(n&&n.userAgent?n.userAgent:""),v=n&&n.userAgentData?n.userAgentData:r,x=t?function(e,t){var n={};for(var f in e)t[f]&&t[f].length%2===0?n[f]=t[f].concat(e[f]):n[f]=e[f];return n}(Y,t):Y,w=n&&n.userAgent==g;return this.getBrowser=function(){var e={};return e[l]=r,e[h]=r,z.call(e,g,x.browser),e[c]=function(e){return typeof e===s?e.replace(/[^\d\.]/g,"").split(".")[0]:r}(e[h]),w&&n&&n.brave&&typeof n.brave.isBrave==i&&(e[l]="Brave"),e},this.getCPU=function(){var e={};return e[p]=r,z.call(e,g,x.cpu),e},this.getDevice=function(){var e={};return e[b]=r,e[d]=r,e[u]=r,z.call(e,g,x.device),w&&!e[u]&&v&&v.mobile&&(e[u]=y),w&&"Macintosh"==e[d]&&n&&typeof n.standalone!==a&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[u]=m),e},this.getEngine=function(){var e={};return e[l]=r,e[h]=r,z.call(e,g,x.engine),e},this.getOS=function(){var e={};return e[l]=r,e[h]=r,z.call(e,g,x.os),w&&!e[l]&&v&&v.platform&&"Unknown"!=v.platform&&(e[l]=v.platform.replace(/chrome os/i,$).replace(/macos/i,H)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return g},this.setUA=function(e){return g=typeof e===s&&e.length>500?J(e,500):e,this},this.setUA(g),this};Z.VERSION="1.0.39",Z.BROWSER=X([l,h,c]),Z.CPU=X([p]),Z.DEVICE=X([d,b,u,g,y,v,m,x,w]),Z.ENGINE=Z.OS=X([l,h]),typeof e!==a?(typeof t!==a&&t.exports&&(e=t.exports=Z),e.UAParser=Z):typeof define===i&&n.amdO?define((function(){return Z})):typeof f!==a&&(f.UAParser=Z);var Q=typeof f!==a&&(f.jQuery||f.Zepto);if(Q&&!Q.ua){var ee=new Z;Q.ua=ee.getResult(),Q.ua.get=function(){return ee.getUA()},Q.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)Q.ua[n]=t[n]}}}("object"==typeof window?window:e)})),qi=b((e=>{var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.openLink=r,e.openLinkBlank=function(e){r(e,"_blank")},e.openDeeplinkWithFallback=function(e,t){let n=setTimeout((()=>{o("safari")||a("android")&&o("firefox")||t()}),500);window.addEventListener("blur",(()=>clearTimeout(n)),{once:!0}),r(e,"_self")},e.isMobileUserAgent=function(){let e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.slice(0,4)))&&(e=!0),e;var t},e.getUserAgent=i,e.isOS=a,e.isBrowser=o;var n=t(Fi()),f=un();function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_self";(0,f.logDebug)("openLink",e,t),window.open(e,t,"noopener noreferrer")}function i(){var e,t,f;let r,i=(new n.default).getResult(),a=null===(e=i.os.name)||void 0===e?void 0:e.toLowerCase();switch(!0){case"ipad"===(null===(t=i.device.model)||void 0===t?void 0:t.toLowerCase()):r="ipad";break;case"ios"===a:r="ios";break;case"android"===a:r="android";break;case"mac os"===a:r="macos";break;case"linux"===a:r="linux";break;case a?.includes("windows"):r="windows"}let o,s=null===(f=i.browser.name)||void 0===f?void 0:f.toLowerCase();switch(!0){case"chrome"===s:o="chrome";break;case"firefox"===s:o="firefox";break;case s?.includes("safari"):o="safari";break;case s?.includes("opera"):o="opera"}return{os:r,browser:o}}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(i().os)}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(i().browser)}})),Ji=b((e=>{var t,n,f,r,i,a,o;Object.defineProperty(e,"__esModule",{value:!0}),e.isTmaPlatform=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(b)},e.isInTMA=p,e.isInTelegramBrowser=function(){var e;let t=!(null===(e=(0,s.getWindow)())||void 0===e||!e.TelegramWebview);return(p()||t)&&"unknown"===b},e.sendExpand=function(){y("web_app_expand",{})},e.sendOpenTelegramLink=function(e,t){let n=new URL(e);if("http:"!==n.protocol&&"https:"!==n.protocol){if(t)return t();throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url protocol is not supported: ${n}`)}if("t.me"!==n.hostname){if(t)return t();throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Url host is not supported: ${n}`)}let f=n.pathname+n.search;g()||function(e){return v(h,e)>=0}("6.1")?y("web_app_open_tg_link",{path_full:f}):(0,l.openLinkBlank)("https://t.me"+f)},e.versionCompare=v;var s=zi(),c=un(),d=Xi(),l=qi(),u={};try{u=function(e){e=e.replace(/^#/,"");let t={};if(!e.length)return t;if(e.indexOf("=")<0&&e.indexOf("?")<0)return t._path=m(e),t;let n=e.indexOf("?");if(n>=0){let f=e.substr(0,n);t._path=m(f),e=e.substr(n+1)}let f=function(e){let t={};if(!e.length)return t;let n,f,r,i,a=e.split("&");for(n=0;n<a.length;n++)f=a[n].split("="),r=m(f[0]),i=null==f[1]?null:m(f[1]),t[r]=i;return t}(e);for(let r in f)t[r]=f[r];return t}(location.hash.toString())}catch{}var b="unknown";if(u?.tgWebAppPlatform&&(b=null!==(t=u.tgWebAppPlatform)&&void 0!==t?t:"unknown"),"unknown"===b){let e=(0,s.getWindow)();b=null!==(r=null===(f=null===(n=e?.Telegram)||void 0===n?void 0:n.WebApp)||void 0===f?void 0:f.platform)&&void 0!==r?r:"unknown"}var h="6.0";if(u?.tgWebAppVersion&&(h=u.tgWebAppVersion),!h){let e=(0,s.getWindow)();h=null!==(o=null===(a=null===(i=e?.Telegram)||void 0===i?void 0:i.WebApp)||void 0===a?void 0:a.version)&&void 0!==o?o:"6.0"}function p(){var e;return"unknown"!==b||!(null===(e=(0,s.getWindow)())||void 0===e||!e.TelegramWebviewProxy)}function g(){try{let e=(0,s.getWindow)();return!!e&&(null!=e.parent&&e!==e.parent)}catch{return!1}}function y(e,t){try{let n=(0,s.getWindow)();if(!n)throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to parent window: window is not defined");if(void 0!==n.TelegramWebviewProxy)(0,c.logDebug)("postEvent",e,t),n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));else if(n.external&&"notify"in n.external)(0,c.logDebug)("postEvent",e,t),n.external.notify(JSON.stringify({eventType:e,eventData:t}));else{if(!g())throw new d.OKXConnectError(d.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Can't post event to TMA");{let f="*",r=JSON.stringify({eventType:e,eventData:t});(0,c.logDebug)("postEvent",e,t),n.parent.postMessage(r,f)}}}catch(n){(0,c.logError)(`Can't post event to parent window: ${n}`)}}function m(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch{return e}}function v(e,t){"string"!=typeof e&&(e=""),"string"!=typeof t&&(t="");let n,f,r,i,a=e.replace(/^\s+|\s+$/g,"").split("."),o=t.replace(/^\s+|\s+$/g,"").split(".");for(n=Math.max(a.length,o.length),f=0;f<n;f++)if(r=parseInt(a[f])||0,i=parseInt(o[f])||0,r!==i)return r>i?1:-1;return 0}})),zi=b((e=>{var t,n,f,i;Object.defineProperty(e,"__esModule",{value:!0}),e.removeUrlLastSlash=l,e.addPathToUrl=function(e,t){return l(e)+"/"+t},e.getUniversalLink=u,e.openOKXDeeplink=function(e){var t;let n=u(e),f=!(null===(t=b())||void 0===t||!t.TelegramWebviewProxy);if(r.log("openOKXDeeplink fullUrl:",n),(0,c.isIos)())f?window.open(n,"_blank"):(r.log("windowOpen[before]: ",Date.now()),window?.okxLogDebug?window.open(n,"_blank"):window.open(n,"_self"),r.log("windowOpen[after]: ",Date.now()));else{let t=null;f?t=window.open(e,"_blank"):window.location.href=e}},e.openOKXDeeplinkWithFallback=function(e){var t;let n=u(e),f=!(null===(t=b())||void 0===t||!t.TelegramWebviewProxy);r.log("openOKXDeeplinkWithFallback fullUrl:",n);let i=!1,o=a.standardUniversalLink;if((0,c.isIos)())f?window.open(n,"_blank"):(r.log("windowOpen[before]: ",Date.now()),window?.okxLogDebug?window.open(n,"_blank"):window.open(n,"_self"),r.log("windowOpen[after]: ",Date.now()));else{let t=null;f?t=window.open(e,"_blank"):window.location.href=e,setTimeout((()=>{i||(t?t.open(o,"_self"):window.open(o,"_blank"))}),3e3),window.addEventListener("blur",(()=>{i=!0}),{once:!0}),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&(i=!0)}))}},e.getWindow=b,e.isTelegramUrl=function(e){if(!e)return!1;let t=new URL(e);return"tg:"===t.protocol||"t.me"===t.hostname},e.encodeTelegramUrlParameters=function(e){let t=e;return t=t.replace(/\./g,"%2E"),t=t.replace(/-/g,"%2D"),t=t.replace(/_/g,"%5F"),t=t.replace(/&/g,"-"),t=t.replace(/=/g,"__"),t=t.replace(/%/g,"--"),t},e.encodeConnectParams=function(e){let t=JSON.stringify(e);(0,o.logDebug)("url encodeConnectParams connectRequestStr ",t);let n=(new TextEncoder).encode(t);return btoa(String.fromCharCode(...n))},e.encodeTWAConnectURLParams=function(e){let t=JSON.stringify({topic:e.topic,clientId:e.clientId});(0,o.logDebug)("url encodeConnectParams connectRequestStr",t);let n=(new TextEncoder).encode(t);return btoa(String.fromCharCode(...n))},e.getAppWalletDeepLink=function(e){return`${a.standardDeeplink}?param=${e}`},e.getAppWalletShortDeepLink=function(e,t){return`${a.standardDeeplink}?topic=${e}${(0,c.getLastSixMd5Hash)(t)}`},e.getTelegramWalletTWAUrl=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f={okxconnect:"",redirect:"",extraparams:""};e&&(f.okxconnect=e),t&&(f.redirect=t);let r=JSON.stringify(f),i=(new TextEncoder).encode(r),a=btoa(String.fromCharCode(...i)),d=(0,c.toSafeBase64FromBase64)(a);return(0,o.logDebug)("[TWA] open link:",f,a),e||t?n?`http://localhost:5173?tgWebAppStartParam=${d}`:`https://t.me/${s.tgwalletName}/start?startapp=${d}`:n?"http://localhost:5173":`https://t.me/${s.tgwalletName}/start`},e.openOKXTMAWalletlinkWithFallback=function(e){var t,n,f,r,i;(0,o.logDebug)("[TWA] open link:",e,"isInTMA ==> ",y()),y()?null!==(n=null===(t=b())||void 0===t?void 0:t.Telegram)&&void 0!==n&&n.WebApp?null===(i=null===(r=null===(f=b())||void 0===f?void 0:f.Telegram)||void 0===r?void 0:r.WebApp)||void 0===i||i.openTelegramLink(e):(0,d.sendOpenTelegramLink)(e):window.open(e,"_blank")},e.isInTMA=y,e.isInTelegramBrowser=function(){var e;let t=!(null===(e=b())||void 0===e||!e.TelegramWebview);return(y()||t)&&"unknown"===g};var a=Xi(),o=un(),s=ji(),c=Ri(),d=Ji();function l(e){return"/"===e.slice(-1)?e.slice(0,-1):e}function u(e){let t=encodeURIComponent(e);return`${a.standardUniversalLink}?deeplink=${t}`}function b(){if(typeof window<"u")return window}function h(e){try{return e=e.replace(/\+/g,"%20"),decodeURIComponent(e)}catch{return e}}var p={};try{p=function(e){let t={};if(!(e=e.replace(/^#/,"")).length)return t;if(e.indexOf("=")<0&&e.indexOf("?")<0)return t._path=h(e),t;let n=e.indexOf("?");if(n>=0){let f=e.substr(0,n);t._path=h(f),e=e.substr(n+1)}let f=function(e){let t={};if(!e.length)return t;let n,f,r,i,a=e.split("&");for(n=0;n<a.length;n++)f=a[n].split("="),r=h(f[0]),i=null==f[1]?null:h(f[1]),t[r]=i;return t}(e);for(let r in f)t[r]=f[r];return t}(location.hash.toString())}catch{}var g="unknown";if(p?.tgWebAppPlatform&&(g=null!==(t=p.tgWebAppPlatform)&&void 0!==t?t:"unknown"),"unknown"===g){let e=b();g=null!==(i=null===(f=null===(n=e?.Telegram)||void 0===n?void 0:n.WebApp)||void 0===f?void 0:f.platform)&&void 0!==i?i:"unknown"}function y(){var e;return"unknown"!==g||!(null===(e=b())||void 0===e||!e.TelegramWebviewProxy)}})),Gi=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowser=e.isOS=e.isMobileUserAgent=e.openDeeplinkWithFallback=e.openLinkBlank=e.openLink=e.toSafeBase64FromBase64=e.isValidObject=e.isIos=e.base64decode=e.base64encode=e.splitToUint8Arrays=e.concatUint8Arrays=e.toHexString=e.hexToByteArray=e.getAppWalletShortDeepLink=e.encodeTWAConnectURLParams=e.encodeConnectParams=e.openOKXTMAWalletlinkWithFallback=e.getTelegramWalletTWAUrl=e.getAppWalletDeepLink=e.encodeTelegramUrlParameters=e.isTelegramUrl=e.openOKXDeeplinkWithFallback=e.openOKXDeeplink=e.getUniversalLink=e.safeJsonStringify=e.safeJsonParse=e.logWarning=e.logError=e.logDebug=e.callForSuccess=void 0;var t=Ai();Object.defineProperty(e,"callForSuccess",{enumerable:!0,get:function(){return t.callForSuccess}});var n=un();Object.defineProperty(e,"logDebug",{enumerable:!0,get:function(){return n.logDebug}}),Object.defineProperty(e,"logError",{enumerable:!0,get:function(){return n.logError}}),Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return n.logWarning}});var f=bn();Object.defineProperty(e,"safeJsonParse",{enumerable:!0,get:function(){return f.safeJsonParse}}),Object.defineProperty(e,"safeJsonStringify",{enumerable:!0,get:function(){return f.safeJsonStringify}});var r=zi();Object.defineProperty(e,"getUniversalLink",{enumerable:!0,get:function(){return r.getUniversalLink}}),Object.defineProperty(e,"openOKXDeeplink",{enumerable:!0,get:function(){return r.openOKXDeeplink}}),Object.defineProperty(e,"openOKXDeeplinkWithFallback",{enumerable:!0,get:function(){return r.openOKXDeeplinkWithFallback}}),Object.defineProperty(e,"isTelegramUrl",{enumerable:!0,get:function(){return r.isTelegramUrl}}),Object.defineProperty(e,"encodeTelegramUrlParameters",{enumerable:!0,get:function(){return r.encodeTelegramUrlParameters}}),Object.defineProperty(e,"getAppWalletDeepLink",{enumerable:!0,get:function(){return r.getAppWalletDeepLink}}),Object.defineProperty(e,"getTelegramWalletTWAUrl",{enumerable:!0,get:function(){return r.getTelegramWalletTWAUrl}}),Object.defineProperty(e,"openOKXTMAWalletlinkWithFallback",{enumerable:!0,get:function(){return r.openOKXTMAWalletlinkWithFallback}}),Object.defineProperty(e,"encodeConnectParams",{enumerable:!0,get:function(){return r.encodeConnectParams}}),Object.defineProperty(e,"encodeTWAConnectURLParams",{enumerable:!0,get:function(){return r.encodeTWAConnectURLParams}}),Object.defineProperty(e,"getAppWalletShortDeepLink",{enumerable:!0,get:function(){return r.getAppWalletShortDeepLink}});var i=Ri();Object.defineProperty(e,"hexToByteArray",{enumerable:!0,get:function(){return i.hexToByteArray}}),Object.defineProperty(e,"toHexString",{enumerable:!0,get:function(){return i.toHexString}}),Object.defineProperty(e,"concatUint8Arrays",{enumerable:!0,get:function(){return i.concatUint8Arrays}}),Object.defineProperty(e,"splitToUint8Arrays",{enumerable:!0,get:function(){return i.splitToUint8Arrays}}),Object.defineProperty(e,"base64encode",{enumerable:!0,get:function(){return i.base64encode}}),Object.defineProperty(e,"base64decode",{enumerable:!0,get:function(){return i.base64decode}}),Object.defineProperty(e,"isIos",{enumerable:!0,get:function(){return i.isIos}}),Object.defineProperty(e,"isValidObject",{enumerable:!0,get:function(){return i.isValidObject}}),Object.defineProperty(e,"toSafeBase64FromBase64",{enumerable:!0,get:function(){return i.toSafeBase64FromBase64}});var a=qi();Object.defineProperty(e,"openLink",{enumerable:!0,get:function(){return a.openLink}}),Object.defineProperty(e,"openLinkBlank",{enumerable:!0,get:function(){return a.openLinkBlank}}),Object.defineProperty(e,"openDeeplinkWithFallback",{enumerable:!0,get:function(){return a.openDeeplinkWithFallback}}),Object.defineProperty(e,"isMobileUserAgent",{enumerable:!0,get:function(){return a.isMobileUserAgent}}),Object.defineProperty(e,"isOS",{enumerable:!0,get:function(){return a.isOS}}),Object.defineProperty(e,"isBrowser",{enumerable:!0,get:function(){return a.isBrowser}})})),Vi=b((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,f){void 0===f&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){void 0===f&&(f=n),e[f]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var f={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&t(f,e,r);return n(f,e),f},r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.Storage=void 0;var i=N(),a=r(R()),o=Ri(),s=Gi(),c=f(un()),d=Gi(),l=ki(),u=class e{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,f=(0,o.resolveLocalStorage)();c.logDebug("------ update before cache ------"),n&&this.checkAndUpgradeCache(n,t),this.storeKey="",this.cipherIV="",this.subKey=t,c.logDebug("--------get current local storage --------"),c.logDebug(f);let r=f.getItem(e.cacheKey+t);if(typeof r>"u"||null===r)return c.logDebug("with no cache"),void(this.cache={});if(c.logDebug(r),r?.length>0){var i=(0,s.safeJsonParse)(r);this.cache=i}c.logDebug(`get cache obj: ${this.cache}`),(typeof this.cache>"u"||null==this.cache)&&(this.cache={})}checkAndUpgradeCache(t,n){if(t&&t.length>0&&n&&n.length>0){c.logDebug("--------get current local storage --------"),c.logDebug(localStorage);let f=localStorage.getItem(e.cacheKey+t);if(typeof f>"u"||null===f)return void c.logDebug("no pre cache content");c.logDebug(f),f?.length>0&&(c.logDebug("write in cache content: ",t,"->",n),localStorage.setItem(e.cacheKey+n,f),c.logDebug("clean in cache content: ",t),localStorage.removeItem(e.cacheKey+t))}else c.logDebug("no pre cache key:",t)}saveContent(e,t){let n={id:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",timestamp:Date.now().toString(),content:e};this.saveItem(n,t)}saveItem(t,n){let f=e.cacheKey+this.subKey,r=(0,o.resolveLocalStorage)();c.logDebug(this.cache),c.logDebug(`get cache obj: ${this.cache}, ${n}, ${t}`),this.cache[n]=t;let i=(0,s.safeJsonStringify)(this.cache);c.logDebug(`STORAGE: ${n} @ ${this.cache}`),r.setItem(f,i)}getItem(e){return c.logDebug(`STORAGE >> getItem: ${e} @ ${this.cache}`),this.cache[e]}getCachedPBKDF2InfoKey(){var e,t,n,f;if(this.storeKey.length>0&&(null===(e=this.cipherIV)||void 0===e?void 0:e.length)>0)return{pw:this.storeKey,iv:this.cipherIV};let r=null===(t=this.getItem(i.OKXCONNECTOR_STORAGER_CRYPTO_SALT))||void 0===t?void 0:t.content;r||(r=(0,o.toHexString)(a.default.randomBytes(24)),this.saveContent(r,i.OKXCONNECTOR_STORAGER_CRYPTO_SALT));let s=null===(n=this.getItem(i.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD))||void 0===n?void 0:n.content;s||(s=(0,o.toHexString)(a.default.randomBytes(32)),this.saveContent(s,i.OKXCONNECTOR_STORAGE_CRYPTO_PASSWORD));let c=null===(f=this.getItem(i.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV))||void 0===f?void 0:f.content;if(!c){let e=a.default.randomBytes(16);c=(0,o.toHexString)(e),this.saveContent(c,i.OKXCONNECTOR_STORAGE_CRYPTO_CIPHERIV)}return this.cipherIV=c,this.storeKey=(0,l.PBKDF2)(s,r,{iterations:10}).toString(),{pw:this.storeKey,iv:this.cipherIV}}encryptStoreMsg(e,t){(0,d.logDebug)(`encryptStoreMsg  encryptStoreMsg start ${Date.now()}`);let n=this.getCachedPBKDF2InfoKey();(0,d.logDebug)(`encryptStoreMsg  encryptStoreMsg mid ${Date.now()}`);var f=l.AES.encrypt(e,n.pw).toString();this.saveContent(f,t),(0,d.logDebug)(`encryptStoreMsg  encryptStoreMsg end ${Date.now()}`)}getAndDecrypt(e){(0,d.logDebug)(`encryptStoreMsg  getAndDecrypt start ${Date.now()}`);let t=this.getItem(e);if(t&&t.content){let e=this.getCachedPBKDF2InfoKey();(0,d.logDebug)(`encryptStoreMsg  getAndDecrypt mid ${Date.now()}`);let n=l.AES.decrypt(t.content,e.pw).toString(l.enc.Utf8);return(0,d.logDebug)(`encryptStoreMsg  getAndDecrypt end ${Date.now()}`),n}return null}clearCache(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(void 0===t){this.cache={};let t=e.cacheKey+this.subKey;localStorage.setItem(t,"")}else{let n=e.cacheKey+this.subKey,f=(0,o.resolveLocalStorage)();c.logDebug(this.cache),this.cache[t]=null;let r=(0,s.safeJsonStringify)(this.cache);c.logDebug(`STORAGE: clean key ${t} @ ${this.cache}`),f.setItem(n,r)}}};e.Storage=u,u.cacheKey="OKXStorageKey"})),Yi=b((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,f){void 0===f&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){void 0===f&&(f=n),e[f]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var f={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&t(f,e,r);return n(f,e),f},r=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.OKXWalletConnector=void 0;var i=T(),a=N(),o=Vi(),s=Gi(),c=Ri(),d=Ui(),l=f(un()),u=Xi(),b=(0,c.resolveWebSocketImplementation)();e.OKXWalletConnector=class{constructor(e){if(this.events=new d.EventEmitter,this.state=i.ConnectorState.InitState,this.selectedUrlIndex=0,this.retryCount=0,this.timeOutLimit=8e3,!(0,c.checkWSUrl)(e))throw new Error(`CONNECTOR: invalid url ${e}`);this.url=e,this.heartbeatTimer=null,this.connectionTimeoutTimer=null,this.connectURLStorage=new o.Storage(a.OKXCONNECTOR_CACHE_KEY+a.OKXCONNECTOR_CACHE_KEY)}get connecting(){return this.state==i.ConnectorState.Connecting}onPayload(e){if(!(typeof e.data>"u")){if(l.logDebug("get received data"),l.logDebug(e),"string"==typeof e.data&&"pong"===e.data)return void l.logDebug(`CONNECT: receive pong ${Date.now().toString()}`);this.events.emit("payload",e.data)}}onClose(e){var t;l.logDebug("socket get closed: ",null===(t=this.socket)||void 0===t?void 0:t.url,e.code),this.socket=void 0,this.events.emit("close",e)}onError(e,t){let n={id:e,msg:t.toString()};this.events.emit("payload",n)}onopen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.state=i.ConnectorState.Connected,this.events.emit("open")}emitError(e){this.events.emit("fail",e)}heartbeat(){return r(this,void 0,void 0,(function*(){if(this.heartbeatTimer&&clearTimeout(this.heartbeatTimer),this.state==i.ConnectorState.Connected||this.state==i.ConnectorState.OnError){if(this.socket){if(this.socket.readyState===WebSocket.OPEN)l.logDebug(`send ping heart beat: ${Date.now().toString()}, ${this.socket}`),this.socket.send("ping"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3);else if(l.logDebug("socket not ready"),this.state==i.ConnectorState.Connected||this.state==i.ConnectorState.OnError){l.logDebug("socket reconnect by heartbeat with state",this.state,this.socket.readyState);try{yield this.tryRegistOpen()}catch{l.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}}else if(l.logDebug("socket not exist"),this.state==i.ConnectorState.Connected||this.state==i.ConnectorState.OnError){l.logDebug("socket reconnect by heartbeat");try{yield this.tryRegistOpen()}catch{l.logError("regist open failed"),this.heartbeatTimer=setTimeout(this.heartbeat.bind(this),5e3)}}}else l.logDebug("heart beat close")}))}registOpen(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(0,c.checkWSUrl)(e))throw new Error(`CONNECTOR: invalid url ${e}`);this.url=e,t||l.logDebug("Connection connect:",this.url,(new Date).toUTCString()),this.state=i.ConnectorState.Connecting;new URLSearchParams(e).get("origin");return new Promise(((t,n)=>{let f=new b(e,[]);l.logDebug("Connection connect Begin:",this.url,(new Date).toUTCString()),this.startTimeOutTimer(f),(0,c.hasBuiltInWebSocket)()?(l.logDebug("Add socket error handler"),f.onerror=()=>{n(new Error("socket error")),f.close()}):(l.logDebug("Add socket error handler"),f.on("error",(()=>{n(new Error("socket error")),f.close()}))),f.onopen=()=>{l.logDebug("socket opened"),this.resetTimeOutTimer(i.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED),this.onopen(f),this.heartbeat(),t(f)}}))}checkMaxRetry(){return l.logDebug("current retry count:",this.retryCount,"of",i.OKXCONNECTOR_WS_URL_LIST.length),this.retryCount>i.OKXCONNECTOR_WS_URL_LIST.length}connectionTryNext(){return r(this,void 0,void 0,(function*(){if(!this.checkMaxRetry()){this.retryCount+=1;let e=this.getNextSelectUrl();return l.logDebug("Connection retry:",e,(new Date).toUTCString()),this.registOpen(e,!0)}l.logDebug("Max Connection retry ",this.retryCount,(new Date).toUTCString())}))}startTimeOutTimer(e){this.connectionTimeoutTimer&&this.resetTimeOutTimer(i.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.CANCELED),this.pendingSocket=e,this.connectionTimeoutTimer=setTimeout((()=>{this.pendingSocket&&this.resetTimeOutTimer(i.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.TIME_OUT)}),this.timeOutLimit)}resetTimeOutTimer(e){var t;e!=i.OKXCONNECTOR_WS_URL_PENDING_CLOSE_CODE.FINISHED&&(null===(t=this.pendingSocket)||void 0===t||t.close(e)),this.pendingSocket=void 0,clearTimeout(this.connectionTimeoutTimer)}cacheSuccessUrlSelect(){this.connectURLStorage.saveContent(this.selectedUrlIndex.toString(),a.OKXCONNECTOR_CACHE_KEY)}getSuccessUrlSelect(){var e;let t=null===(e=this.connectURLStorage.getItem(a.OKXCONNECTOR_CACHE_KEY))||void 0===e?void 0:e.content,n=0;return t&&(n=Number(t)),this.selectedUrlIndex=n,i.OKXCONNECTOR_WS_URL_LIST[n]}getNextSelectUrl(){return this.selectedUrlIndex+=1,this.selectedUrlIndex=this.selectedUrlIndex%i.OKXCONNECTOR_WS_URL_LIST.length,i.OKXCONNECTOR_WS_URL_LIST[this.selectedUrlIndex]}onVisibleChanged(){return r(this,void 0,void 0,(function*(){if("visible"===document.visibilityState&&(l.logDebug(`get changed ${this.state}, ${this.socket}`),this.state==i.ConnectorState.Connected&&typeof this.socket>"u")){l.logDebug("CONNECTION need reopen");try{yield this.tryRegistOpen()}catch{l.logError("regist open failed")}}else;}))}tryRegistOpen(){return r(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;return function*(){if(e.connecting)return l.logDebug("tryRegistOpen => connecting state"),new Promise(((t,n)=>{e.events.once("fail",(e=>(l.logDebug("tryRegistOpen => connecting fail listener",e),n(e)))),e.events.once("open",(()=>typeof e.socket>"u"?n(new Error("Connect lost")):t(e.socket)))}));l.logDebug("tryRegistOpen => try registOpen until retry limit is hit");let n=!1;for(;!e.checkMaxRetry()&&!e.socket;)try{l.logDebug("tryRegistOpen => call registOpen, try count:",e.retryCount,n),yield e.registOpen(t,n)}catch(f){l.logDebug("tryRegistOpen => registOpen failed",f),e.retryCount+=1,t=e.getNextSelectUrl(),n=!0}if(l.logDebug("tryRegistOpen => exit while loop",e.retryCount,e.socket),!e.socket&&e.checkMaxRetry())throw l.logDebug("tryRegistOpen => failed to open a socket",e.retryCount,e.socket),e.retryCount=0,e.state=i.ConnectorState.OnError,e.emitError(new Error("tryRegistOpen failed")),new u.OKXConnectError(u.OKX_CONNECT_ERROR_CODES.CONNECTION_ERROR,"Failed to connect")}()}))}connect(){return r(this,void 0,void 0,(function*(){try{yield this.tryRegistOpen(),document.removeEventListener("visibilitychange",this.onVisibleChanged.bind(this)),document.addEventListener("visibilitychange",this.onVisibleChanged.bind(this))}catch(e){throw l.logDebug("connect => failed to connect",e),e}}))}disconnect(){return r(this,void 0,void 0,(function*(){return this.state=i.ConnectorState.Disconnected,new Promise(((e,t)=>{typeof this.socket>"u"?e():(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close(),this.heartbeatTimer&&clearTimeout(this.heartbeatTimer))}))}))}currentStatus(){return{state:this.state,url:this.url}}addListener(e,t,n,f){this.listenPayloadHandler&&this.events.removeListener("payload",this.listenPayloadHandler),this.listenPayloadHandler=r=>{var i;l.logDebug(`<<< get payload ${r}`);let a=(0,s.safeJsonParse)(r);if(a.params&&a.params.data){let r=null===(i=a.params.data)||void 0===i?void 0:i.message;if(r)try{let i=t(r);void 0===i?(l.logDebug("CONNECT: decrypt undefined"),f(e,"Decrypt undefined")):n(e,i)}catch(o){l.logDebug(`CONNECT: decrypt failed: ${o}`),f(e,o.message)}}},this.events.on("payload",this.listenPayloadHandler),this.failHandler&&this.events.removeListener("fail",this.failHandler),this.failHandler=t=>{t?(l.logDebug(`CONNECT failed: ${t}`),f(e,t.message)):f(e,"Unkonow error")},this.events.on("fail",this.failHandler)}addPackageParse(e){this.payloadHandler&&this.events.removeListener("payload",this.payloadHandler),this.payloadHandler=t=>r(this,void 0,void 0,(function*(){l.logDebug(`CONNECTION @[${(new Date).toUTCString()}] <<<< received e:${t}`);let n=(0,s.safeJsonParse)(t);yield e(n)})),this.events.on("payload",this.payloadHandler)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}send(e,t){return r(this,void 0,void 0,(function*(){try{typeof this.socket>"u"&&(l.logDebug(`>>> send payload undefined ${t}`),yield e()),l.logDebug(`CONNECTION @[${(new Date).toUTCString()}]>>> send payload ${(0,s.safeJsonStringify)(t)}`),this.socket&&this.socket.send((0,s.safeJsonStringify)(t))}catch(n){this.onError(t.id,n)}}))}getMsgPayloadFromHistory(e){return r(this,void 0,void 0,(function*(){if(typeof e>"u")return;let t={params:{data:e}},n=(0,s.safeJsonStringify)(e);l.logDebug("get received data from history"),l.logDebug(n),n=(0,s.safeJsonStringify)(t),this.events.emit("payload",n)}))}onOpen(e){this.openHandler&&this.events.removeListener("open",this.openHandler),this.openHandler=()=>r(this,void 0,void 0,(function*(){l.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> ws opened: `),yield e()})),this.events.on("open",this.openHandler),this.cacheSuccessUrlSelect()}}})),Zi=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CONNECT_METHOD_BATCH_FETCHMSG=e.CONNECT_METHOD_FETCHMSG=e.CONNECT_METHOD_RECEIVE=e.CONNECT_METHOD_UNSUB=e.CONNECT_METHOD_SUB=e.CONNECT_METHOD_PUBLISH=e.CONNECT_METHOD_LOGIN=e.CONNECT_METHOD_PUSH=void 0,e.CONNECT_METHOD_PUSH="push",e.CONNECT_METHOD_LOGIN="login",e.CONNECT_METHOD_PUBLISH="publish",e.CONNECT_METHOD_SUB="subscribe",e.CONNECT_METHOD_UNSUB="unsubscribe",e.CONNECT_METHOD_RECEIVE="receive",e.CONNECT_METHOD_FETCHMSG="fetchMessages",e.CONNECT_METHOD_BATCH_FETCHMSG="batchFetchMessages"})),Qi=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OKXCONNECTOR_JWT_TTL=e.OKXCONNECTOR_JWT_WALLET_SIDE=e.OKXCONNECTOR_JWT_SIDE=void 0,e.OKXCONNECTOR_JWT_SIDE="wallet",e.OKXCONNECTOR_JWT_WALLET_SIDE="dapp",e.OKXCONNECTOR_JWT_TTL=864e5})),ea=b((e=>{var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.SessionCrypto=void 0;var n=t(R()),f=Ri();e.SessionCrypto=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.nonceLength=24,this.sessionKeyPair=e?this.createKeypairFromString(e):this.createKeypair()}createKeypair(){return n.default.box.keyPair()}createKeypairFromString(e){return{publicKey:(0,f.hexToByteArray)(e.publicKey),secretKey:(0,f.hexToByteArray)(e.secretKey)}}createNonce(){return n.default.randomBytes(this.nonceLength)}get keyPair(){return this.sessionKeyPair}encrypt(e,t){let r=(new TextEncoder).encode(e),i=this.createNonce(),a=n.default.box(r,i,(0,f.hexToByteArray)(t),this.keyPair.secretKey),o=(0,f.concatUint8Arrays)(i,a);var s=(0,f.toHexString)(o),c=(new TextEncoder).encode(s);return(0,f.base64encode)(c,!1)}encryptWallet(e,t){let r=(new TextEncoder).encode(e),i=this.createNonce(),a=n.default.box(r,i,(0,f.hexToByteArray)(t),this.keyPair.secretKey),o=(0,f.concatUint8Arrays)(i,a);return(0,f.base64encode)(o,!1)}decrypt(e,t){let r=(0,f.base64decode)(e,!0).toUint8Array(),[i,a]=(0,f.splitToUint8Arrays)(r,this.nonceLength),o=n.default.box.open(a,i,(0,f.hexToByteArray)(t),this.keyPair.secretKey);if(!o)throw new Error(`Decryption error: \n message: ${e.toString()} \n sender pubkey: ${t.toString()} \n keypair pubkey: ${(0,f.toHexString)(this.keyPair.publicKey)} \n keypair secretkey: ${(0,f.toHexString)(this.keyPair.secretKey)}`);return(new TextDecoder).decode(o)}decryptWallet(e,t){let r=(0,f.base64decode)(e,!0),i=(0,f.hexToByteArray)(r.toString()),[a,o]=(0,f.splitToUint8Arrays)(i,this.nonceLength),s=n.default.box.open(o,a,(0,f.hexToByteArray)(t),this.keyPair.secretKey);if(!s)throw new Error(`Decryption error: \n message: ${e.toString()} \n sender pubkey: ${t.toString()} \n keypair pubkey: ${(0,f.toHexString)(this.keyPair.publicKey)} \n keypair secretkey: ${(0,f.toHexString)(this.keyPair.secretKey)}`);return(new TextDecoder).decode(s)}stringifyKeypair(){return{publicKey:(0,f.toHexString)(this.keyPair.publicKey),secretKey:(0,f.toHexString)(this.keyPair.secretKey)}}}})),ta=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserRandomSource=void 0;e.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let n=0;n<t.length;n+=65536)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,65536)));return t}}})),na=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeRandomSource=void 0;var t=dn();e.NodeRandomSource=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof l<"u"){let e=k();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let n=this._crypto.randomBytes(e);if(n.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let f=new Uint8Array(e);for(let t=0;t<f.length;t++)f[t]=n[t];return(0,t.wipe)(n),f}}})),fa=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SystemRandomSource=void 0;var t=ta(),n=na();e.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new t.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new n.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}})),ra=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;var t=fa(),n=cn(),f=dn();function r(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.defaultRandomSource).randomBytes(t)}e.defaultRandomSource=new t.SystemRandomSource,e.randomBytes=r,e.randomUint32=function(){let t=r(4,arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.defaultRandomSource),i=(0,n.readUint32LE)(t);return(0,f.wipe)(t),i};var i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultRandomSource;if(n.length<2)throw new Error("randomString charset is too short");if(n.length>256)throw new Error("randomString charset is too long");let o="",s=n.length,c=256-256%s;for(;t>0;){let e=r(Math.ceil(256*t/c),a);for(let f=0;f<e.length&&t>0;f++){let r=e[f];r<c&&(o+=n.charAt(r%s),t--)}(0,f.wipe)(e)}return o}e.randomString=a,e.randomStringForEntropy=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.defaultRandomSource;return a(Math.ceil(t/(Math.log(n.length)/Math.LN2)),n,f)}})),ia=b((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=cn(),n=dn();e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var f=function(){function f(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return f.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},f.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},f.prototype.clean=function(){n.wipe(this._buffer),n.wipe(this._tempHi),n.wipe(this._tempLo),this.reset()},f.prototype.update=function(t,n){if(void 0===n&&(n=t.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var f=0;if(this._bytesHashed+=n,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&n>0;)this._buffer[this._bufferLength++]=t[f++],n--;this._bufferLength===this.blockSize&&(i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(n>=this.blockSize&&(f=i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,t,f,n),n%=this.blockSize);n>0;)this._buffer[this._bufferLength++]=t[f++],n--;return this},f.prototype.finish=function(e){if(!this._finished){var n=this._bytesHashed,f=this._bufferLength,r=n/536870912|0,a=n<<3,o=n%128<112?128:256;this._buffer[f]=128;for(var s=f+1;s<o-8;s++)this._buffer[s]=0;t.writeUint32BE(r,this._buffer,o-8),t.writeUint32BE(a,this._buffer,o-4),i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(s=0;s<this.digestLength/8;s++)t.writeUint32BE(this._stateHi[s],e,8*s),t.writeUint32BE(this._stateLo[s],e,8*s+4);return this},f.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},f.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},f.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},f.prototype.cleanSavedState=function(e){n.wipe(e.stateHi),n.wipe(e.stateLo),e.buffer&&n.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},f}();e.SHA512=f;var r=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function i(e,n,f,i,a,o,s){for(var c,d,l,u,b,h,p,g,y=f[0],m=f[1],v=f[2],x=f[3],w=f[4],_=f[5],C=f[6],O=f[7],E=i[0],S=i[1],T=i[2],N=i[3],k=i[4],R=i[5],A=i[6],P=i[7];s>=128;){for(var D=0;D<16;D++){var I=8*D+o;e[D]=t.readUint32BE(a,I),n[D]=t.readUint32BE(a,I+4)}for(D=0;D<80;D++){var j,K,U=y,M=m,B=v,L=x,$=w,H=_,W=C,X=E,F=S,q=T,J=N,z=k,G=R,V=A;if(b=65535&(d=P),h=d>>>16,p=65535&(c=O),g=c>>>16,b+=65535&(d=(k>>>14|w<<18)^(k>>>18|w<<14)^(w>>>9|k<<23)),h+=d>>>16,p+=65535&(c=(w>>>14|k<<18)^(w>>>18|k<<14)^(k>>>9|w<<23)),g+=c>>>16,b+=65535&(d=k&R^~k&A),h+=d>>>16,p+=65535&(c=w&_^~w&C),g+=c>>>16,c=r[2*D],b+=65535&(d=r[2*D+1]),h+=d>>>16,p+=65535&c,g+=c>>>16,c=e[D%16],h+=(d=n[D%16])>>>16,p+=65535&c,g+=c>>>16,p+=(h+=(b+=65535&d)>>>16)>>>16,b=65535&(d=u=65535&b|h<<16),h=d>>>16,p=65535&(c=l=65535&p|(g+=p>>>16)<<16),g=c>>>16,b+=65535&(d=(E>>>28|y<<4)^(y>>>2|E<<30)^(y>>>7|E<<25)),h+=d>>>16,p+=65535&(c=(y>>>28|E<<4)^(E>>>2|y<<30)^(E>>>7|y<<25)),g+=c>>>16,h+=(d=E&S^E&T^S&T)>>>16,p+=65535&(c=y&m^y&v^m&v),g+=c>>>16,j=65535&(p+=(h+=(b+=65535&d)>>>16)>>>16)|(g+=p>>>16)<<16,K=65535&b|h<<16,b=65535&(d=J),h=d>>>16,p=65535&(c=L),g=c>>>16,h+=(d=u)>>>16,p+=65535&(c=l),g+=c>>>16,m=U,v=M,x=B,w=L=65535&(p+=(h+=(b+=65535&d)>>>16)>>>16)|(g+=p>>>16)<<16,_=$,C=H,O=W,y=j,S=X,T=F,N=q,k=J=65535&b|h<<16,R=z,A=G,P=V,E=K,D%16===15)for(I=0;I<16;I++)c=e[I],b=65535&(d=n[I]),h=d>>>16,p=65535&c,g=c>>>16,c=e[(I+9)%16],b+=65535&(d=n[(I+9)%16]),h+=d>>>16,p+=65535&c,g+=c>>>16,l=e[(I+1)%16],b+=65535&(d=((u=n[(I+1)%16])>>>1|l<<31)^(u>>>8|l<<24)^(u>>>7|l<<25)),h+=d>>>16,p+=65535&(c=(l>>>1|u<<31)^(l>>>8|u<<24)^l>>>7),g+=c>>>16,l=e[(I+14)%16],h+=(d=((u=n[(I+14)%16])>>>19|l<<13)^(l>>>29|u<<3)^(u>>>6|l<<26))>>>16,p+=65535&(c=(l>>>19|u<<13)^(u>>>29|l<<3)^l>>>6),g+=c>>>16,g+=(p+=(h+=(b+=65535&d)>>>16)>>>16)>>>16,e[I]=65535&p|g<<16,n[I]=65535&b|h<<16}b=65535&(d=E),h=d>>>16,p=65535&(c=y),g=c>>>16,c=f[0],h+=(d=i[0])>>>16,p+=65535&c,g+=c>>>16,g+=(p+=(h+=(b+=65535&d)>>>16)>>>16)>>>16,f[0]=y=65535&p|g<<16,i[0]=E=65535&b|h<<16,b=65535&(d=S),h=d>>>16,p=65535&(c=m),g=c>>>16,c=f[1],h+=(d=i[1])>>>16,p+=65535&c,g+=c>>>16,g+=(p+=(h+=(b+=65535&d)>>>16)>>>16)>>>16,f[1]=m=65535&p|g<<16,i[1]=S=65535&b|h<<16,b=65535&(d=T),h=d>>>16,p=65535&(c=v),g=c>>>16,c=f[2],h+=(d=i[2])>>>16,p+=65535&c,g+=c>>>16,g+=(p+=(h+=(b+=65535&d)>>>16)>>>16)>>>16,f[2]=v=65535&p|g<<16,i[2]=T=65535&b|h<<16,b=65535&(d=N),h=d>>>16,p=65535&(c=x),g=c>>>16,c=f[3],h+=(d=i[3])>>>16,p+=65535&c,g+=c>>>16,g+=(p+=(h+=(b+=65535&d)>>>16)>>>16)>>>16,f[3]=x=65535&p|g<<16,i[3]=N=65535&b|h<<16,b=65535&(d=k),h=d>>>16,p=65535&(c=w),g=c>>>16,c=f[4],h+=(d=i[4])>>>16,p+=65535&c,g+=c>>>16,g+=(p+=(h+=(b+=65535&d)>>>16)>>>16)>>>16,f[4]=w=65535&p|g<<16,i[4]=k=65535&b|h<<16,b=65535&(d=R),h=d>>>16,p=65535&(c=_),g=c>>>16,c=f[5],h+=(d=i[5])>>>16,p+=65535&c,g+=c>>>16,g+=(p+=(h+=(b+=65535&d)>>>16)>>>16)>>>16,f[5]=_=65535&p|g<<16,i[5]=R=65535&b|h<<16,b=65535&(d=A),h=d>>>16,p=65535&(c=C),g=c>>>16,c=f[6],h+=(d=i[6])>>>16,p+=65535&c,g+=c>>>16,g+=(p+=(h+=(b+=65535&d)>>>16)>>>16)>>>16,f[6]=C=65535&p|g<<16,i[6]=A=65535&b|h<<16,b=65535&(d=P),h=d>>>16,p=65535&(c=O),g=c>>>16,c=f[7],h+=(d=i[7])>>>16,p+=65535&c,g+=c>>>16,g+=(p+=(h+=(b+=65535&d)>>>16)>>>16)>>>16,f[7]=O=65535&p|g<<16,i[7]=P=65535&b|h<<16,o+=128,s-=128}return o}e.hash=function(e){var t=new f;t.update(e);var n=t.digest();return t.clean(),n}})),aa=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;var t=ra(),n=ia(),f=dn();function r(e){let t=new Float64Array(16);if(e)for(let n=0;n<e.length;n++)t[n]=e[n];return t}e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32,new Uint8Array(32)[0]=9;var i=r(),a=r([1]),o=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),s=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),l=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function u(e,t){for(let n=0;n<16;n++)e[n]=0|t[n]}function b(e){let t=1;for(let n=0;n<16;n++){let f=e[n]+t+65535;t=Math.floor(f/65536),e[n]=f-65536*t}e[0]+=t-1+37*(t-1)}function h(e,t,n){let f=~(n-1);for(let r=0;r<16;r++){let n=f&(e[r]^t[r]);e[r]^=n,t[r]^=n}}function p(e,t){let n=r(),f=r();for(let r=0;r<16;r++)f[r]=t[r];b(f),b(f),b(f);for(let r=0;r<2;r++){n[0]=f[0]-65517;for(let t=1;t<15;t++)n[t]=f[t]-65535-(n[t-1]>>16&1),n[t-1]&=65535;n[15]=f[15]-32767-(n[14]>>16&1);let e=n[15]>>16&1;n[14]&=65535,h(f,n,1-e)}for(let r=0;r<16;r++)e[2*r]=255&f[r],e[2*r+1]=f[r]>>8}function g(e,t){let n=0;for(let f=0;f<32;f++)n|=e[f]^t[f];return(1&n-1>>>8)-1}function y(e,t){let n=new Uint8Array(32),f=new Uint8Array(32);return p(n,e),p(f,t),g(n,f)}function m(e){let t=new Uint8Array(32);return p(t,e),1&t[0]}function v(e,t,n){for(let f=0;f<16;f++)e[f]=t[f]+n[f]}function x(e,t,n){for(let f=0;f<16;f++)e[f]=t[f]-n[f]}function w(e,t,n){let f,r,i=0,a=0,o=0,s=0,c=0,d=0,l=0,u=0,b=0,h=0,p=0,g=0,y=0,m=0,v=0,x=0,w=0,_=0,C=0,O=0,E=0,S=0,T=0,N=0,k=0,R=0,A=0,P=0,D=0,I=0,j=0,K=n[0],U=n[1],M=n[2],B=n[3],L=n[4],$=n[5],H=n[6],W=n[7],X=n[8],F=n[9],q=n[10],J=n[11],z=n[12],G=n[13],V=n[14],Y=n[15];f=t[0],i+=f*K,a+=f*U,o+=f*M,s+=f*B,c+=f*L,d+=f*$,l+=f*H,u+=f*W,b+=f*X,h+=f*F,p+=f*q,g+=f*J,y+=f*z,m+=f*G,v+=f*V,x+=f*Y,f=t[1],a+=f*K,o+=f*U,s+=f*M,c+=f*B,d+=f*L,l+=f*$,u+=f*H,b+=f*W,h+=f*X,p+=f*F,g+=f*q,y+=f*J,m+=f*z,v+=f*G,x+=f*V,w+=f*Y,f=t[2],o+=f*K,s+=f*U,c+=f*M,d+=f*B,l+=f*L,u+=f*$,b+=f*H,h+=f*W,p+=f*X,g+=f*F,y+=f*q,m+=f*J,v+=f*z,x+=f*G,w+=f*V,_+=f*Y,f=t[3],s+=f*K,c+=f*U,d+=f*M,l+=f*B,u+=f*L,b+=f*$,h+=f*H,p+=f*W,g+=f*X,y+=f*F,m+=f*q,v+=f*J,x+=f*z,w+=f*G,_+=f*V,C+=f*Y,f=t[4],c+=f*K,d+=f*U,l+=f*M,u+=f*B,b+=f*L,h+=f*$,p+=f*H,g+=f*W,y+=f*X,m+=f*F,v+=f*q,x+=f*J,w+=f*z,_+=f*G,C+=f*V,O+=f*Y,f=t[5],d+=f*K,l+=f*U,u+=f*M,b+=f*B,h+=f*L,p+=f*$,g+=f*H,y+=f*W,m+=f*X,v+=f*F,x+=f*q,w+=f*J,_+=f*z,C+=f*G,O+=f*V,E+=f*Y,f=t[6],l+=f*K,u+=f*U,b+=f*M,h+=f*B,p+=f*L,g+=f*$,y+=f*H,m+=f*W,v+=f*X,x+=f*F,w+=f*q,_+=f*J,C+=f*z,O+=f*G,E+=f*V,S+=f*Y,f=t[7],u+=f*K,b+=f*U,h+=f*M,p+=f*B,g+=f*L,y+=f*$,m+=f*H,v+=f*W,x+=f*X,w+=f*F,_+=f*q,C+=f*J,O+=f*z,E+=f*G,S+=f*V,T+=f*Y,f=t[8],b+=f*K,h+=f*U,p+=f*M,g+=f*B,y+=f*L,m+=f*$,v+=f*H,x+=f*W,w+=f*X,_+=f*F,C+=f*q,O+=f*J,E+=f*z,S+=f*G,T+=f*V,N+=f*Y,f=t[9],h+=f*K,p+=f*U,g+=f*M,y+=f*B,m+=f*L,v+=f*$,x+=f*H,w+=f*W,_+=f*X,C+=f*F,O+=f*q,E+=f*J,S+=f*z,T+=f*G,N+=f*V,k+=f*Y,f=t[10],p+=f*K,g+=f*U,y+=f*M,m+=f*B,v+=f*L,x+=f*$,w+=f*H,_+=f*W,C+=f*X,O+=f*F,E+=f*q,S+=f*J,T+=f*z,N+=f*G,k+=f*V,R+=f*Y,f=t[11],g+=f*K,y+=f*U,m+=f*M,v+=f*B,x+=f*L,w+=f*$,_+=f*H,C+=f*W,O+=f*X,E+=f*F,S+=f*q,T+=f*J,N+=f*z,k+=f*G,R+=f*V,A+=f*Y,f=t[12],y+=f*K,m+=f*U,v+=f*M,x+=f*B,w+=f*L,_+=f*$,C+=f*H,O+=f*W,E+=f*X,S+=f*F,T+=f*q,N+=f*J,k+=f*z,R+=f*G,A+=f*V,P+=f*Y,f=t[13],m+=f*K,v+=f*U,x+=f*M,w+=f*B,_+=f*L,C+=f*$,O+=f*H,E+=f*W,S+=f*X,T+=f*F,N+=f*q,k+=f*J,R+=f*z,A+=f*G,P+=f*V,D+=f*Y,f=t[14],v+=f*K,x+=f*U,w+=f*M,_+=f*B,C+=f*L,O+=f*$,E+=f*H,S+=f*W,T+=f*X,N+=f*F,k+=f*q,R+=f*J,A+=f*z,P+=f*G,D+=f*V,I+=f*Y,f=t[15],x+=f*K,w+=f*U,_+=f*M,C+=f*B,O+=f*L,E+=f*$,S+=f*H,T+=f*W,N+=f*X,k+=f*F,R+=f*q,A+=f*J,P+=f*z,D+=f*G,I+=f*V,j+=f*Y,i+=38*w,a+=38*_,o+=38*C,s+=38*O,c+=38*E,d+=38*S,l+=38*T,u+=38*N,b+=38*k,h+=38*R,p+=38*A,g+=38*P,y+=38*D,m+=38*I,v+=38*j,r=1,f=i+r+65535,r=Math.floor(f/65536),i=f-65536*r,f=a+r+65535,r=Math.floor(f/65536),a=f-65536*r,f=o+r+65535,r=Math.floor(f/65536),o=f-65536*r,f=s+r+65535,r=Math.floor(f/65536),s=f-65536*r,f=c+r+65535,r=Math.floor(f/65536),c=f-65536*r,f=d+r+65535,r=Math.floor(f/65536),d=f-65536*r,f=l+r+65535,r=Math.floor(f/65536),l=f-65536*r,f=u+r+65535,r=Math.floor(f/65536),u=f-65536*r,f=b+r+65535,r=Math.floor(f/65536),b=f-65536*r,f=h+r+65535,r=Math.floor(f/65536),h=f-65536*r,f=p+r+65535,r=Math.floor(f/65536),p=f-65536*r,f=g+r+65535,r=Math.floor(f/65536),g=f-65536*r,f=y+r+65535,r=Math.floor(f/65536),y=f-65536*r,f=m+r+65535,r=Math.floor(f/65536),m=f-65536*r,f=v+r+65535,r=Math.floor(f/65536),v=f-65536*r,f=x+r+65535,r=Math.floor(f/65536),x=f-65536*r,i+=r-1+37*(r-1),r=1,f=i+r+65535,r=Math.floor(f/65536),i=f-65536*r,f=a+r+65535,r=Math.floor(f/65536),a=f-65536*r,f=o+r+65535,r=Math.floor(f/65536),o=f-65536*r,f=s+r+65535,r=Math.floor(f/65536),s=f-65536*r,f=c+r+65535,r=Math.floor(f/65536),c=f-65536*r,f=d+r+65535,r=Math.floor(f/65536),d=f-65536*r,f=l+r+65535,r=Math.floor(f/65536),l=f-65536*r,f=u+r+65535,r=Math.floor(f/65536),u=f-65536*r,f=b+r+65535,r=Math.floor(f/65536),b=f-65536*r,f=h+r+65535,r=Math.floor(f/65536),h=f-65536*r,f=p+r+65535,r=Math.floor(f/65536),p=f-65536*r,f=g+r+65535,r=Math.floor(f/65536),g=f-65536*r,f=y+r+65535,r=Math.floor(f/65536),y=f-65536*r,f=m+r+65535,r=Math.floor(f/65536),m=f-65536*r,f=v+r+65535,r=Math.floor(f/65536),v=f-65536*r,f=x+r+65535,r=Math.floor(f/65536),x=f-65536*r,i+=r-1+37*(r-1),e[0]=i,e[1]=a,e[2]=o,e[3]=s,e[4]=c,e[5]=d,e[6]=l,e[7]=u,e[8]=b,e[9]=h,e[10]=p,e[11]=g,e[12]=y,e[13]=m,e[14]=v,e[15]=x}function _(e,t){w(e,t,t)}function C(e,t){let n,f=r();for(n=0;n<16;n++)f[n]=t[n];for(n=253;n>=0;n--)_(f,f),2!==n&&4!==n&&w(f,f,t);for(n=0;n<16;n++)e[n]=f[n]}function O(e,t){let n=r(),f=r(),i=r(),a=r(),o=r(),c=r(),d=r(),l=r(),u=r();x(n,e[1],e[0]),x(u,t[1],t[0]),w(n,n,u),v(f,e[0],e[1]),v(u,t[0],t[1]),w(f,f,u),w(i,e[3],t[3]),w(i,i,s),w(a,e[2],t[2]),v(a,a,a),x(o,f,n),x(c,a,i),v(d,a,i),v(l,f,n),w(e[0],o,c),w(e[1],l,d),w(e[2],d,c),w(e[3],o,l)}function E(e,t,n){for(let f=0;f<4;f++)h(e[f],t[f],n)}function S(e,t){let n=r(),f=r(),i=r();C(i,t[2]),w(n,t[0],i),w(f,t[1],i),p(e,f),e[31]^=m(n)<<7}function T(e,t,n){u(e[0],i),u(e[1],a),u(e[2],a),u(e[3],i);for(let f=255;f>=0;--f){let r=n[f/8|0]>>(7&f)&1;E(e,t,r),O(t,e),O(e,e),E(e,t,r)}}function N(e,t){let n=[r(),r(),r(),r()];u(n[0],c),u(n[1],d),u(n[2],a),w(n[3],c,d),T(e,n,t)}function k(t){if(t.length!==e.SEED_LENGTH)throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);let f=(0,n.hash)(t);f[0]&=248,f[31]&=127,f[31]|=64;let i=new Uint8Array(32),a=[r(),r(),r(),r()];N(a,f),S(i,a);let o=new Uint8Array(64);return o.set(t),o.set(i,32),{publicKey:i,secretKey:o}}e.generateKeyPairFromSeed=k,e.generateKeyPair=function(e){let n=(0,t.randomBytes)(32,e),r=k(n);return(0,f.wipe)(n),r},e.extractPublicKeyFromSecretKey=function(t){if(t.length!==e.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(t.subarray(32))};var R=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function A(e,t){let n,f,r,i;for(f=63;f>=32;--f){for(n=0,r=f-32,i=f-12;r<i;++r)t[r]+=n-16*t[f]*R[r-(f-32)],n=Math.floor((t[r]+128)/256),t[r]-=256*n;t[r]+=n,t[f]=0}for(n=0,r=0;r<32;r++)t[r]+=n-(t[31]>>4)*R[r],n=t[r]>>8,t[r]&=255;for(r=0;r<32;r++)t[r]-=n*R[r];for(f=0;f<32;f++)t[f+1]+=t[f]>>8,e[f]=255&t[f]}function P(e){let t=new Float64Array(64);for(let n=0;n<64;n++)t[n]=e[n];for(let n=0;n<64;n++)e[n]=0;A(e,t)}function D(e,t){let n=r(),f=r(),s=r(),c=r(),d=r(),b=r(),h=r();return u(e[2],a),function(e,t){for(let n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(e[1],t),_(s,e[1]),w(c,s,o),x(s,s,e[2]),v(c,e[2],c),_(d,c),_(b,d),w(h,b,d),w(n,h,s),w(n,n,c),function(e,t){let n,f=r();for(n=0;n<16;n++)f[n]=t[n];for(n=250;n>=0;n--)_(f,f),1!==n&&w(f,f,t);for(n=0;n<16;n++)e[n]=f[n]}(n,n),w(n,n,s),w(n,n,c),w(n,n,c),w(e[0],n,c),_(f,e[0]),w(f,f,c),y(f,s)&&w(e[0],e[0],l),_(f,e[0]),w(f,f,c),y(f,s)?-1:(m(e[0])===t[31]>>7&&x(e[0],i,e[0]),w(e[3],e[0],e[1]),0)}e.sign=function(e,t){let f=new Float64Array(64),i=[r(),r(),r(),r()],a=(0,n.hash)(e.subarray(0,32));a[0]&=248,a[31]&=127,a[31]|=64;let o=new Uint8Array(64);o.set(a.subarray(32),32);let s=new n.SHA512;s.update(o.subarray(32)),s.update(t);let c=s.digest();s.clean(),P(c),N(i,c),S(o,i),s.reset(),s.update(o.subarray(0,32)),s.update(e.subarray(32)),s.update(t);let d=s.digest();P(d);for(let n=0;n<32;n++)f[n]=c[n];for(let n=0;n<32;n++)for(let e=0;e<32;e++)f[n+e]+=d[n]*a[e];return A(o.subarray(32),f),o},e.verify=function(t,f,i){let a=new Uint8Array(32),o=[r(),r(),r(),r()],s=[r(),r(),r(),r()];if(i.length!==e.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);if(D(s,t))return!1;let c=new n.SHA512;c.update(i.subarray(0,32)),c.update(t),c.update(f);let d=c.digest();return P(d),T(o,s,d),N(s,i.subarray(32)),O(o,s),S(a,o),!g(i,a)},e.convertPublicKeyToX25519=function(e){let t=[r(),r(),r(),r()];if(D(t,e))throw new Error("Ed25519: invalid public key");let n=r(),f=r(),i=t[1];v(n,a,i),x(f,a,i),C(f,f),w(n,n,f);let o=new Uint8Array(32);return p(o,n),o},e.convertSecretKeyToX25519=function(e){let t=(0,n.hash)(e.subarray(0,32));t[0]&=248,t[31]&=127,t[31]|=64;let r=new Uint8Array(t.subarray(0,32));return(0,f.wipe)(t),r}})),oa=b((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,f){void 0===f&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){void 0===f&&(f=n),e[f]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var f={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&t(f,e,r);return n(f,e),f},r=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))},i=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.MULTICODEC_ED25519_LENGTH=e.MULTICODEC_ED25519_HEADER=e.MULTICODEC_ED25519_BASE=e.MULTICODEC_ED25519_ENCODING=e.DID_METHOD=e.DID_PREFIX=e.DID_DELIMITER=e.KEY_PAIR_SEED_LENGTH=e.DATA_ENCODING=e.JSON_ENCODING=e.JWT_ENCODING=e.JWT_DELIMITER=e.JWT_IRIDIUM_TYP=e.JWT_IRIDIUM_ALG=e.JWTHeaderType=void 0,e.generateKeyPair=function(){return c.default.sign.keyPair()},e.decodeJSON=u,e.encodeJSON=b,e.encodeIss=h,e.decodeIss=p,e.encodeSig=g,e.decodeSig=y,e.encodeData=m,e.decodeData=function(t){var n,f;let r=(0,l.okxtoString)(t,e.DATA_ENCODING).split(e.JWT_DELIMITER),i=u(null!==(n=r[0])&&void 0!==n?n:"{}"),a=u(null!==(f=r[1])&&void 0!==f?f:"{}");return{header:i,payload:a}},e.encodeJWT=v,e.decodeJWT=x,e.signJWT=function(t,n,f,i){return r(this,arguments,void 0,(function(t,n,f,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Math.floor(Date.now());return function*(){let a={alg:e.JWT_IRIDIUM_ALG,typ:e.JWT_IRIDIUM_TYP},o={iss:h(r.publicKey),sub:t,aud:n,act:"authenticate user",iat:i,exp:i+f},s=m({header:a,payload:o});return d.logDebug(`get sec kp: ${r.secretKey} {${r.secretKey.length}}`),v({header:a,payload:o,signature:c.default.sign.detached(s,r.secretKey)})}()}))},e.verifyJWT=function(t){return r(this,void 0,void 0,(function*(){let{header:n,payload:f,data:r,signature:i}=x(t);if(n.alg!==e.JWT_IRIDIUM_ALG||n.typ!==e.JWT_IRIDIUM_TYP)throw new Error("JWT must use EdDSA algorithm");let o=p(f.iss);return a.verify(o,r,i)}))};var a=f(aa()),o=bn(),s=Ri(),c=i(R()),d=f(un()),l=Jr();function u(t){return(0,o.safeJsonParse)((0,l.okxtoString)((0,l.okxfromString)(t,e.JWT_ENCODING),e.JSON_ENCODING))}function b(t){return(0,l.okxtoString)((0,l.okxfromString)((0,o.safeJsonStringify)(t),e.JSON_ENCODING),e.JWT_ENCODING)}function h(t){d.logDebug(`publicKey: ${(0,s.toHexString)(t)}`);var n=(0,l.okxtoString)(t,e.MULTICODEC_ED25519_ENCODING);return[e.DID_PREFIX,e.DID_METHOD,n].join(e.DID_DELIMITER)}function p(t){let[n,f,r]=t.split(e.DID_DELIMITER);if(n!==e.DID_PREFIX||f!==e.DID_METHOD)throw new Error('Issuer must be a DID with method "key"');if(void 0===r)throw new Error("multicodec is undefined");let i=(0,l.okxfromString)(r,e.MULTICODEC_ED25519_ENCODING);if(void 0===i||i.length!==e.MULTICODEC_ED25519_LENGTH)throw new Error("Issuer must be a public key with length 32 bytes");return i}function g(t){return(0,l.okxtoString)(t,e.JWT_ENCODING)}function y(t){return(0,l.okxfromString)(t,e.JWT_ENCODING)}function m(t){return(0,l.okxfromString)([b(t.header),b(t.payload)].join(e.JWT_DELIMITER),e.DATA_ENCODING)}function v(t){return[b(t.header),b(t.payload),g(t.signature)].join(e.JWT_DELIMITER)}function x(t){var n,f,r;let i=t.split(e.JWT_DELIMITER);return{header:u(null!==(n=i[0])&&void 0!==n?n:"{}"),payload:u(null!==(f=i[1])&&void 0!==f?f:"{}"),signature:y(null!==(r=i[2])&&void 0!==r?r:"{}"),data:(0,l.okxfromString)(i.slice(0,2).join(e.JWT_DELIMITER),e.DATA_ENCODING)}}e.JWTHeaderType="dapp",e.JWT_IRIDIUM_ALG="EdDSA",e.JWT_IRIDIUM_TYP="JWT",e.JWT_DELIMITER=".",e.JWT_ENCODING="base64url",e.JSON_ENCODING="utf8",e.DATA_ENCODING="utf8",e.KEY_PAIR_SEED_LENGTH=32,e.DID_DELIMITER=":",e.DID_PREFIX="did",e.DID_METHOD="key",e.MULTICODEC_ED25519_ENCODING="base58btc",e.MULTICODEC_ED25519_BASE="z",e.MULTICODEC_ED25519_HEADER="K36",e.MULTICODEC_ED25519_LENGTH=32})),sa=b((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,f){void 0===f&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){void 0===f&&(f=n),e[f]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var f={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&t(f,e,r);return n(f,e),f},r=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionManager=void 0;var i=Yi(),a=Zi(),o=N(),s=Qi(),c=T(),d=Ui(),l=Vi(),u=Ri(),b=ea(),h=oa(),p=bn(),g=f(un()),y=un(),m=zi();e.ConnectionManager=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.events=new d.EventEmitter,this.connectStorage=new l.Storage(o.OKXCONNECTOR_CACHE_KEY_DAPP+e,o.OKXCONNECTOR_CACHE_KEY_DAPP),this.crypto=new b.SessionCrypto;let t=(0,m.isInTMA)();if((0,y.logDebug)("do init:",t),t){let e=this.getCachedCryptoKeyPair();(0,y.logDebug)("use same pk:",e),this.crypto=new b.SessionCrypto(e)}this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new i.OKXWalletConnector(c.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.connectedWalletPK="",this.currentTopic="",g.logDebug(`this.connectedWalletPK  constructor   ${this.connectedWalletPK}`)}refreshPackageId(){this.packageId=Date.now()}saveCryptoKeyPair(e){let t=(0,p.safeJsonStringify)(e);this.connectStorage.encryptStoreMsg(t,o.OKXCONNECTOR_CRYPTO_KEY)}getCachedCryptoKeyPair(){let e=this.connectStorage.getAndDecrypt(o.OKXCONNECTOR_CRYPTO_KEY);return"string"==typeof e?(g.logDebug("get cached crypto key:"),g.logDebug(e),(0,p.safeJsonParse)(e)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(e){var t={publicKey:(0,u.toHexString)(e.publicKey),secretKey:(0,u.toHexString)(e.secretKey)};g.logDebug("save jwt kp");let n=(0,p.safeJsonStringify)(t);g.logDebug(n),this.connectStorage.encryptStoreMsg(n,o.OKXCONNECTOR_JWT_KEY)}getCachedJWTKeyPair(){let e=this.connectStorage.getAndDecrypt(o.OKXCONNECTOR_JWT_KEY);if("string"==typeof e){g.logDebug("get cached jwt kp:"),g.logDebug(e);let t=(0,p.safeJsonParse)(e);return g.logDebug("save jwt kp"),g.logDebug(t),{publicKey:(0,u.hexToByteArray)(t.publicKey),secretKey:(0,u.hexToByteArray)(t.secretKey)}}return(0,h.generateKeyPair)()}isWalletPKReady(){return g.logDebug(`isWalletPKReady  ===> ${this.connectedWalletPK}`),this.connectedWalletPK.length>0}makeJWT(e){return r(this,void 0,void 0,(function*(){return yield(0,h.signJWT)(e,s.OKXCONNECTOR_JWT_SIDE,s.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)}))}parsePackage(e){return r(this,arguments,void 0,(function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(){var f,r,i,a,s;if(t.events.emit(e.id,e),!n){yield t.sendACK(e.id,!0);let n=null===(f=t.connectStorage.getItem(o.OKXCONNECTOR_TOKEN_CACHE))||void 0===f?void 0:f.content;if(n){let f=e;null!==(i=null===(r=f.params)||void 0===r?void 0:r.data)&&void 0!==i&&i.messageId&&(t.refreshPackageId(),yield t.sendReceive(t.packageId.toString(),null===(s=null===(a=f.params)||void 0===a?void 0:a.data)||void 0===s?void 0:s.messageId,n))}}}()}))}restoreConnect(e){return r(this,void 0,void 0,(function*(){if(g.logDebug(`connectionManager  restoreConenct   ${e}`),"string"!=typeof e||0===e.length)throw new Error("CONNECTION: invalid topic");g.logDebug("connectionManager  restoreConenct   disconnect"),yield this.disconnect(!0),this.connectStorage.saveContent(e,o.OKXCONNECTOR_TOKEN_CACHE),g.logDebug("connectionManager  restoreConenct   conect"),yield this.connect(!0)}))}getConnectInfo(){var e=(0,u.generateTopic)();return g.logDebug(`generate topic token: ${e}`),this.currentTopic=e,{channelId:e,clientId:this.crypto.stringifyKeypair().publicKey}}connect(){return r(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function*(){e.timeLog=(new Date).getTime(),(0,y.logDebug)("ConnectTime---enter->",e.timeLog);let n=e.connectStorage.getItem(o.OKXCONNECTOR_TOKEN_CACHE);var f=e.currentTopic;if(g.logDebug(`generate topic token: ${f}`),t){typeof n<"u"&&null!==n&&(g.logDebug(`read last connect id: ${n}`),f=n.content);var i=e.connectStorage.getItem(o.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE);i&&(e.connectedWalletPK=i.content,(0,y.logDebug)(`connectionManager connect() this.connectedWalletPK : ${e.connectedWalletPK}`))}if(t){let t=e.getCachedCryptoKeyPair();t&&(e.crypto=new b.SessionCrypto(t))}g.logDebug(`use crypto client id: ${e.crypto.stringifyKeypair().publicKey}`),e.connectStorage.saveContent(f,o.OKXCONNECTOR_TOKEN_CACHE);var s=yield e.makeJWT(f);return g.logDebug(`generate jwt token: ${s}`),e.connectStorage.saveContent(s,"jwt"),new Promise(((t,n)=>{e.connector.onOpen((()=>r(e,void 0,void 0,(function*(){g.logDebug("1. connector on open");let e=(new Date).getTime();(0,y.logDebug)("ConnectTime---open->",e-this.timeLog),this.events.once(this.packageId.toString(),(e=>r(this,void 0,void 0,(function*(){if(e&&e.error){g.logError("failed when login"),yield this.connector.disconnect();var i=new Error;i.message=e.error.message,i.name=e.error.code.toString(),n(i)}this.refreshPackageId(),this.events.once(this.packageId.toString(),(e=>r(this,void 0,void 0,(function*(){if(e&&e.error){g.logError("failed when subscribe"),yield this.connector.disconnect();var r=new Error;r.message=e.error.message,r.name=e.error.code.toString(),n(r)}this.refreshPackageId(),g.logDebug(`4. subscribe callback then send fetch: ${this.packageId}`);let i=(new Date).getTime();(0,y.logDebug)("ConnectTime--subscribe callback->",i-this.timeLog),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),f),t()})))),g.logDebug(`3. login callback then send subscribe: ${this.packageId}`);let o=(new Date).getTime();(0,y.logDebug)("ConnectTime---login callback->",o-this.timeLog),yield this.connector.send((()=>r(this,void 0,void 0,(function*(){g.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,y.logDebug)("ConnectionManager connect error",e),n(e)}))}))),{id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_SUB,params:{topic:f}})})))),g.logDebug("2. login called"),yield this.connector.send((()=>r(this,void 0,void 0,(function*(){g.logDebug("CONNECT: reconnect before send"),yield this.connector.connect().catch((e=>{(0,y.logDebug)("ConnectionManager connect error",e),n(e)}))}))),{id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_LOGIN,params:{token:s}}),this.connector.addPackageParse((e=>{var t;if(g.logDebug("connect: parse package"),g.logDebug(e),!("params"in e)||!("data"in e.params))return void this.parsePackage(e,!0);let n=null===(t=e.params.data)||void 0===t?void 0:t.message;if(typeof n<"u"){n=n.replace(/'/g,'"');let e=(0,p.safeJsonParse)(n);"string"!=typeof e&&"clientId"in e&&e.clientId&&e.clientId.length>0&&(this.connectedWalletPK=e.clientId,g.logDebug(`this.connectedWalletPK  addPackageParse   ${this.connectedWalletPK}`),this.connectStorage.saveContent(this.connectedWalletPK,o.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),this.saveCryptoKeyPair(this.crypto.stringifyKeypair()))}this.parsePackage(e,e.method===a.CONNECT_METHOD_RECEIVE)}))})))),e.connector.connect().catch((e=>{(0,y.logDebug)("ConnectionManager connect error",e),n(e)}))}))}()}))}disconnect(){return r(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function*(){yield e.connector.disconnect(),e.connectStorage.clearCache(o.OKXCONNECTOR_TOKEN_CACHE),t||(e.connectStorage.clearCache(o.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),e.connectedWalletPK="",(0,y.logDebug)(`connectionManager disconnect() this.connectedWalletPK : ${e.connectedWalletPK}`))}()}))}addListener(e,t,n){this.connector.addListener((0,p.safeJsonStringify)(e),(e=>{if(e=e.replace(/'/g,'"'),g.logDebug(`addListener ===> ${e}`),typeof e<"u"){var t=(0,p.safeJsonParse)(e),n=t.message;t.clientId&&t.clientId.length>0&&(this.connectedWalletPK=t.clientId,this.connectStorage.saveContent(this.connectedWalletPK,o.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE),g.logDebug(`this.connectedWalletPK  addListener   ${this.connectedWalletPK}`),g.logDebug(`this.cryptoKey  addListener   ${(0,u.toHexString)(this.crypto.keyPair.publicKey)}`),this.saveCryptoKeyPair(this.crypto.stringifyKeypair()));var f=this.crypto.decrypt(n,this.connectedWalletPK);return g.logDebug(`addListener ===> ${f}`),f}}),t,n)}sendRaw(e){return r(this,void 0,void 0,(function*(){g.logDebug(`message send =====> ${e}`);let t=e;g.logDebug(`message send =====encrypt message.length>>>> ${t.length}`);let n=this.connectStorage.getItem(o.OKXCONNECTOR_TOKEN_CACHE);g.logDebug(`message send =====topic>>>> ${n?.content}`),this.refreshPackageId();let f={id:this.packageId.toString(),method:a.CONNECT_METHOD_PUBLISH,jsonrpc:c.CONNECT_JSONRPC_VER,params:{message:{topic:n?.content,message:t,ttl:c.OKXCONNECTOR_MESSAGE_TTL}}};return this.events.once(this.packageId.toString(),(e=>r(this,void 0,void 0,(function*(){e&&e.error?g.logError(`@${(new Date).toUTCString()} >>> failed when send msg`):e&&!e.error&&g.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> send msg with id ${this.packageId} successed`)})))),yield this.connector.send((()=>r(this,void 0,void 0,(function*(){return g.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),f),this.packageId}))}send(e){return r(this,void 0,void 0,(function*(){if(g.logDebug(`message send =====> ${e}`),!this.isWalletPKReady())throw new Error("connection not finish");let t=this.crypto.encrypt(e,this.connectedWalletPK);g.logDebug(`message send =====encrypt message.length>>>> ${t.length}`);let n=this.connectStorage.getItem(o.OKXCONNECTOR_TOKEN_CACHE);g.logDebug(`message send =====topic>>>> ${n?.content}`),this.refreshPackageId();let f={id:this.packageId.toString(),method:a.CONNECT_METHOD_PUBLISH,jsonrpc:c.CONNECT_JSONRPC_VER,params:{message:{topic:n?.content,message:t,ttl:c.OKXCONNECTOR_MESSAGE_TTL}}};return this.events.once(this.packageId.toString(),(e=>r(this,void 0,void 0,(function*(){e&&e.error?g.logError(`@${(new Date).toUTCString()} >>> failed when send msg`):e&&!e.error&&g.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> send msg with id ${this.packageId} successed`)})))),yield this.connector.send((()=>r(this,void 0,void 0,(function*(){return g.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),f),this.packageId}))}sendACK(e,t){return r(this,arguments,void 0,(function(e,t){var n=this;let f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return function*(){if(!0===t){let t={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,result:!0};yield n.connector.send((()=>r(n,void 0,void 0,(function*(){return g.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),t)}else if(f){let t={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,error:{code:f.code,message:f.message}};yield n.connector.send((()=>r(n,void 0,void 0,(function*(){return g.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),t)}}()}))}sendReceive(e,t,n){return r(this,void 0,void 0,(function*(){let f={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_RECEIVE,params:{data:{messageId:t,topic:n}}};yield this.connector.send((()=>r(this,void 0,void 0,(function*(){return g.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),f)}))}sendConnectSessionInfo(e,t,n,f){return r(this,void 0,void 0,(function*(){}))}sendFetchAndConsumeMessages(e,t){return r(this,void 0,void 0,(function*(){this.events.once(e,(e=>r(this,void 0,void 0,(function*(){var n,f;if(e.result){var r=e.result.hasMore,i=e.result.data;if(i)for(let e=0;e<i.length;e++){let n=i[e];if(n&&n.topic==t){let e=n.messageId;yield this.connector.getMsgPayloadFromHistory(n),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),e,t)}}r&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),t))}else g.logDebug(`CONNECT: get error rsp ${null===(n=e.error)||void 0===n?void 0:n.code} : ${null===(f=e.error)||void 0===f?void 0:f.message}`)})))),g.logDebug("5. send fetch more");let n=(new Date).getTime();(0,y.logDebug)("ConnectTime---5->",n-this.timeLog);let f={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_FETCHMSG,params:{data:{topic:t}}};yield this.connector.send((()=>r(this,void 0,void 0,(function*(){return g.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),f)}))}cleanCache(){return r(this,void 0,void 0,(function*(){this.connectStorage.clearCache()}))}saveSessionContent(e,t){t||this.connectStorage.clearCache(o.OKXCONNECTOR_SESSION_PREFIX_KEY+e);let n=(0,p.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(n,o.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}getSessionContent(e){let t=this.connectStorage.getAndDecrypt(o.OKXCONNECTOR_SESSION_PREFIX_KEY+e);if(t)return(0,p.safeJsonParse)(t)}getCurrentConnectionReady(){return this.isWalletPKReady()}}})),ca=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnectionManagerEvent=e.WalletConnectionManagerTopicInfoCacheKey=void 0,e.WalletConnectionManagerTopicInfoCacheKey="wcmtic",e.WalletConnectionManagerEvent={RECEIVE_REQUEST:"payload"}})),da=b((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,f){void 0===f&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){void 0===f&&(f=n),e[f]=t[n]}),n=e&&e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),f=e&&e.__importStar||function(e){if(e&&e.__esModule)return e;var f={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&t(f,e,r);return n(f,e),f},r=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnectionManager=void 0;var i=Yi(),a=Zi(),o=N(),s=Qi(),c=T(),d=ca(),l=Ui(),u=Vi(),b=Ri(),h=ea(),p=oa(),g=bn(),y=f(un()),m=un(),v=Gi();e.WalletConnectionManager=class{constructor(){this.events=new l.EventEmitter,this.communicateEvents=new l.EventEmitter,y.logDebug("connect manager construct"),this.connectStorage=new u.Storage(o.OKXCONNECTOR_CACHE_KEY),this.jwtKeyPair=this.getCachedJWTKeyPair(),this.saveJWTKeyPair(this.jwtKeyPair),this.connector=new i.OKXWalletConnector(c.OKXCONNECTOR_WS_URL_1),this.packageId=Date.now(),this.sessionCryptoInfoMap=new Map,this.inLogin=!1,this.isLogined=!1}refreshPackageId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.packageId=Date.now()+e}saveCryptoKeyPair(e,t){let n=(0,g.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(n,o.OKXCONNECTOR_CRYPTO_KEY+e)}getCachedCryptoKeyPair(e){let t=this.connectStorage.getAndDecrypt(o.OKXCONNECTOR_CRYPTO_KEY+e);return"string"==typeof t?(y.logDebug("get cached crypto key:"),y.logDebug(t),(0,g.safeJsonParse)(t)):(this.connectStorage.clearCache(),null)}saveJWTKeyPair(e){var t={publicKey:(0,b.toHexString)(e.publicKey),secretKey:(0,b.toHexString)(e.secretKey)};y.logDebug("save jwt kp");let n=(0,g.safeJsonStringify)(t);y.logDebug(n),this.connectStorage.encryptStoreMsg(n,o.OKXCONNECTOR_JWT_KEY),y.logDebug("after save jwt kp")}getCachedJWTKeyPair(){let e=this.connectStorage.getAndDecrypt(o.OKXCONNECTOR_JWT_KEY);if("string"==typeof e){y.logDebug("get cached jwt kp:"),y.logDebug(e);let t=(0,g.safeJsonParse)(e);return y.logDebug("save jwt kp"),y.logDebug(t),{publicKey:(0,b.hexToByteArray)(t.publicKey),secretKey:(0,b.hexToByteArray)(t.secretKey)}}return(0,p.generateKeyPair)()}isTopicPublicKeyExist(e){return y.logDebug(`isTopicPublicKeyExist  ===> ${e}`),this.sessionCryptoInfoMap.get(e)}makeJWT(e){return r(this,void 0,void 0,(function*(){return yield(0,p.signJWT)(e,s.OKXCONNECTOR_JWT_WALLET_SIDE,s.OKXCONNECTOR_JWT_TTL,this.jwtKeyPair)}))}parseInternalMsg(e){try{let t=(0,g.safeJsonParse)(e)["ivur-igbfft-ptjip"];if(t&&t.length>0)return(0,v.base64decode)(t,!0).toString()}catch(t){y.logError("parse internal msg",t)}}parsePackage(e,t){return r(this,arguments,void 0,(function(e,t){var n=this;let f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function*(){var r,i,a,o,s,c,d,l,u,b,h;n.events.emit(t.id,t);let p=n.sessionCryptoInfoMap.get(e);if(y.logDebug("get sessionInfo for decrypt topic:",e),y.logDebug("get sessionInfo for decrypt:",t.id,e,p,n.sessionCryptoInfoMap),p&&t.params.data&&null!==(r=t.params.data)&&void 0!==r&&r.message)if(null!==(i=t.params.data)&&void 0!==i&&i.isInternalData){let e=null===(a=t.params.data)||void 0===a?void 0:a.message,f=null===(o=t.params.data)||void 0===o?void 0:o.topic,r=n.parseInternalMsg(e);(0,m.logDebug)("parse internal origin: ",r),r&&r.length>0&&n.communicateEvents.emit("origin",r,f)}else try{let f=null===(s=t.params.data)||void 0===s?void 0:s.message;if(f.trimStart().startsWith("{")){let t=(0,g.safeJsonParse)(f);t.method&&((0,m.logDebug)("<<< parse raw msg:",e,t),n.communicateEvents.emit(e,f))}else{let f=p.crypto.decryptWallet(null===(c=t.params.data)||void 0===c?void 0:c.message,p.dappPublicKey);(0,m.logDebug)("<<< receive msg:",e,f),n.communicateEvents.emit(e,f)}}catch{let f=p.crypto.decryptWallet(null===(d=t.params.data)||void 0===d?void 0:d.message,p.dappPublicKey);(0,m.logDebug)("<<< receive msg:",e,f),n.communicateEvents.emit(e,f)}if(!f&&(yield n.sendACK(t.id,!0),e)){let f=t;null!==(u=null===(l=f.params)||void 0===l?void 0:l.data)&&void 0!==u&&u.messageId&&(n.refreshPackageId(),yield n.sendReceive(n.packageId.toString(),null===(h=null===(b=f.params)||void 0===b?void 0:b.data)||void 0===h?void 0:h.messageId,e))}}()}))}recovrySessionInfoFromCache(){let e=this.connectStorage.getAndDecrypt(d.WalletConnectionManagerTopicInfoCacheKey);if(y.logDebug("get cached sessionInfos:",e),e){let t=(0,g.safeJsonParse)(e);for(let e in t){let n=t[e];y.logDebug("make topicItem:",n);let f={topic:e,crypto:new h.SessionCrypto({publicKey:n.cryptoKeyPair.publicKey,secretKey:n.cryptoKeyPair.secretKey}),dappPublicKey:n.dappPublicKey};this.sessionCryptoInfoMap.set(e,f)}}y.logDebug("get cached sessionInfos map:",this.sessionCryptoInfoMap)}syncCacheSessionInfo(){let e={};for(let[n,f]of this.sessionCryptoInfoMap)y.logDebug("for each Keys",n),f&&(e[n]={cryptoKeyPair:f.crypto.stringifyKeypair(),dappPublicKey:f.dappPublicKey});let t=(0,g.safeJsonStringify)(e);y.logDebug("sync cache sessionInfos:",t),this.connectStorage.encryptStoreMsg(t,d.WalletConnectionManagerTopicInfoCacheKey)}cacheSessionInfo(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=t.dappPublicKey,r=[];for(let[i,a]of this.sessionCryptoInfoMap)y.logDebug("for each Keys",i),a.dappPublicKey==f&&(y.logDebug("duplicated dapp public key:",i,f),r.push(i));for(let[i,a]of this.sessionCryptoInfoMap)r.includes(i)&&this.sessionCryptoInfoMap.delete(i);return y.logDebug("cleaned connect session cache:",this.sessionCryptoInfoMap),this.sessionCryptoInfoMap.set(e,t),y.logDebug("cache sessionInfo:",e,t,this.sessionCryptoInfoMap),n&&this.syncCacheSessionInfo(),r}appendTopic(e,t){return r(this,void 0,void 0,(function*(){return(0,m.logDebug)("4.1. get append Topic:",e),new Promise(((n,f)=>r(this,void 0,void 0,(function*(){if(!this.isLogined){var r=new Error;return r.message="connection is not logined",r.name="append error",void f(r)}let i={topic:e,crypto:new h.SessionCrypto,dappPublicKey:t},a=this.cacheSessionInfo(e,i,!1);yield this.subscribeTopics(Array.from([e])),this.refreshPackageId(),y.logDebug(`5. subscribe callback then fetch append message: ${this.packageId}, ${e}`);let o=(new Date).getTime();(0,m.logDebug)("Append --subscribe callback->",o-this.timeLog),n(a)}))))}))}confirmAppendingTopics(){this.syncCacheSessionInfo()}connect(){return r(this,void 0,void 0,(function*(){this.timeLog=(new Date).getTime(),(0,m.logDebug)("[Wallet] ConnectTime---enter->",this.timeLog);let e=Date.now().toString();var t=yield this.makeJWT(e);return y.logDebug(`generate jwt token: ${t}`),this.connectStorage.saveContent(t,"jwt"),this.recovrySessionInfoFromCache(),new Promise(((e,n)=>{this.inLogin=!0,this.connector.onOpen((()=>r(this,void 0,void 0,(function*(){y.logDebug("1. connector on open");let f=(new Date).getTime();(0,m.logDebug)("ConnectTime---open->",f-this.timeLog),this.events.once(this.packageId.toString(),(t=>r(this,void 0,void 0,(function*(){if(t&&t.error){y.logError("failed when login"),yield this.connector.disconnect();var f=new Error;f.message=t.error.message,f.name=t.error.code.toString(),n(f)}else this.isLogined=!0,e(),y.logDebug("3. subscribe cached topics",this.sessionCryptoInfoMap),this.sessionCryptoInfoMap.size>0&&(yield this.subscribeTopics(Array.from(this.sessionCryptoInfoMap.keys())))})))),y.logDebug("2. login called"),yield this.connector.send((()=>r(this,void 0,void 0,(function*(){return y.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),{id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_LOGIN,params:{token:t}})})))),this.connector.connect().catch((e=>{(0,m.logDebug)("WalletConnectionManager connect error",e),n(e)})),this.connector.addPackageParse((e=>{var t,n;y.logDebug("connect: parse package"),y.logDebug(e),"params"in e&&"data"in e.params?null!==(t=e.params.data)&&void 0!==t&&t.topic&&this.parsePackage(null===(n=e.params.data)||void 0===n?void 0:n.topic,e,e.method===a.CONNECT_METHOD_RECEIVE):this.parsePackage("",e,!0)}))}))}))}getSessionPublicKey(e){if(this.isTopicPublicKeyExist(e)){let t=this.sessionCryptoInfoMap.get(e);if(t)return(0,b.toHexString)(t.crypto.keyPair.publicKey)}}getCurrentCachedTopicIdList(){return Array.from(this.sessionCryptoInfoMap.keys())}disconnect(){return r(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function*(){yield e.connector.disconnect(),e.connectStorage.clearCache(o.OKXCONNECTOR_TOKEN_CACHE),t||e.connectStorage.clearCache(o.OKXCONNECTOR_CRYPTO_SENDER_PK_CACHE)}()}))}send(e,t){return r(this,arguments,void 0,(function(e,t){var n=this;let f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function*(){var i,o;if(y.logDebug(`message send =====> ${t}`),!n.isTopicPublicKeyExist(e))throw new Error("connection not finish");let s=null===(i=n.sessionCryptoInfoMap.get(e))||void 0===i?void 0:i.dappPublicKey,d=null===(o=n.sessionCryptoInfoMap.get(e))||void 0===o?void 0:o.crypto;if(d&&s){let i={message:d.encryptWallet(t,s)};f&&(i.clientId=(0,b.toHexString)(d.keyPair.publicKey)),n.refreshPackageId();let o={id:n.packageId.toString(),method:a.CONNECT_METHOD_PUBLISH,jsonrpc:c.CONNECT_JSONRPC_VER,params:{message:{topic:e,message:(0,g.safeJsonStringify)(i),ttl:c.OKXCONNECTOR_MESSAGE_TTL}}};return n.events.once(n.packageId.toString(),(e=>r(n,void 0,void 0,(function*(){e&&e.error?y.logError(`@${(new Date).toUTCString()} >>> failed when send msg`):e&&!e.error&&y.logDebug(`CONNECTION @[${(new Date).toUTCString()}] >>> send msg with id ${this.packageId} successed`)})))),yield n.connector.send((()=>r(n,void 0,void 0,(function*(){return y.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),o),n.packageId}}()}))}sendACK(e,t){return r(this,arguments,void 0,(function(e,t){var n=this;let f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return function*(){if(!0===t){let t={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,result:!0};yield n.connector.send((()=>r(n,void 0,void 0,(function*(){return y.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),t)}else if(f){let t={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,error:{code:f.code,message:f.message}};yield n.connector.send((()=>r(n,void 0,void 0,(function*(){return y.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),t)}}()}))}sendReceive(e,t,n){return r(this,void 0,void 0,(function*(){let f={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_RECEIVE,params:{data:{messageId:t,topic:n}}};yield this.connector.send((()=>r(this,void 0,void 0,(function*(){return y.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),f)}))}sendUnsubscribe(e){return r(this,void 0,void 0,(function*(){yield this.connector.send((()=>r(this,void 0,void 0,(function*(){return y.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),{id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_UNSUB,params:{topic:e}}),this.sessionCryptoInfoMap.delete(e),this.syncCacheSessionInfo()}))}sendFetchAndConsumeMessages(e,t){return r(this,void 0,void 0,(function*(){this.events.once(e,(e=>r(this,void 0,void 0,(function*(){var n,f;if(e.result){var r=e.result.hasMore,i=e.result.data;if(i)for(let e=0;e<i.length;e++){let n=i[e];if(n&&n.topic==t){let e=n.messageId;yield this.connector.getMsgPayloadFromHistory(n),this.refreshPackageId(),yield this.sendReceive(this.packageId.toString(),e,t)}}r&&(this.refreshPackageId(),yield this.sendFetchAndConsumeMessages(this.packageId.toString(),t))}else y.logDebug(`CONNECT: get error rsp ${null===(n=e.error)||void 0===n?void 0:n.code} : ${null===(f=e.error)||void 0===f?void 0:f.message}`)})))),y.logDebug("5. send fetch more");let n=(new Date).getTime();(0,m.logDebug)("ConnectTime---5->",n-this.timeLog);let f={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_FETCHMSG,params:{data:{topic:t}}};yield this.connector.send((()=>r(this,void 0,void 0,(function*(){return y.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),f)}))}sendBatchFetchAndConsumeMessages(e,t){return r(this,void 0,void 0,(function*(){this.events.once(e,(e=>r(this,void 0,void 0,(function*(){var n,f;if(e.result){var r=e.result.hasMore,i=e.result.data;if(i)for(let e=0;e<i.length;e++){let t=i[e];if(t&&t.topic){let n=t.messageId;yield this.connector.getMsgPayloadFromHistory(t),this.refreshPackageId(e),yield this.sendReceive(this.packageId.toString(),n,t.topic)}}r&&(this.refreshPackageId(),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),t))}else y.logDebug(`CONNECT: get error rsp ${null===(n=e.error)||void 0===n?void 0:n.code} : ${null===(f=e.error)||void 0===f?void 0:f.message}`)})))),y.logDebug("5. send fetch more");let n=(new Date).getTime();(0,m.logDebug)("ConnectTime---5->",n-this.timeLog);let f={id:e,jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_BATCH_FETCHMSG,params:{topics:t,withInternalData:!0}};yield this.connector.send((()=>r(this,void 0,void 0,(function*(){y.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),f)}))}cleanCache(){return r(this,void 0,void 0,(function*(){this.connectStorage.clearCache()}))}saveSessionContent(e,t){t||this.connectStorage.clearCache(o.OKXCONNECTOR_SESSION_PREFIX_KEY+e);let n=(0,g.safeJsonStringify)(t);this.connectStorage.encryptStoreMsg(n,o.OKXCONNECTOR_SESSION_PREFIX_KEY+e)}getSessionContent(e){let t=this.connectStorage.getAndDecrypt(o.OKXCONNECTOR_SESSION_PREFIX_KEY+e);if(t)return(0,g.safeJsonParse)(t)}subscribeTopics(e){return r(this,void 0,void 0,(function*(){(0,m.logDebug)("4. topicid list",e),this.refreshPackageId();let t=(new Date).getTime();return(0,m.logDebug)("ConnectTime--subscribe callback->",t-this.timeLog),new Promise(((t,n)=>r(this,void 0,void 0,(function*(){let n=0;for(let f=0;f<e.length;++f){let i=e[f];this.refreshPackageId(f),this.events.once(this.packageId.toString(),(a=>r(this,void 0,void 0,(function*(){if(a&&a.error){y.logError("failed when subscribe"),yield this.connector.disconnect();var r=new Error;r.message=a.error.message,r.name=a.error.code.toString(),n+=1,n==e.length&&t()}this.refreshPackageId(f);let o=(new Date).getTime();(0,m.logDebug)("ConnectTime--subscribe callback->",o-this.timeLog),n+=1,n==e.length&&(y.logDebug(`5. send fetch msg: ${this.packageId}, ${i}`),yield this.sendBatchFetchAndConsumeMessages(this.packageId.toString(),e),t())})))),y.logDebug(`3. login callback then send subscribe: ${this.packageId}, ${i}`);let o=(new Date).getTime();(0,m.logDebug)("ConnectTime---login callback->",o-this.timeLog),yield this.connector.send((()=>r(this,void 0,void 0,(function*(){return y.logDebug("CONNECT: reconnect before send"),yield this.connector.connect()}))),{id:this.packageId.toString(),jsonrpc:c.CONNECT_JSONRPC_VER,method:a.CONNECT_METHOD_SUB,params:{topic:i}})}}))))}))}}})),la=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.buildNameSpacesByConnectResponse=function(e){return n(e)},e.buildRequestAccountNameSpacesByConnectResponse=n;var t=un();function n(e){let n={};(0,t.logDebug)("buildRequestAccountNameSpacesByConnectResponse start connectResponse>>",JSON.stringify(e));let f=e.payload.responses.find((e=>"requestAccounts"===e.name)),r=e.payload.responses.find((e=>"ton_addr"===e.name)),i=e.payload.responses.find((e=>"ton_proof"===e.name));if(r&&!f){(0,t.logDebug)("buildRequestAccountNameSpacesByConnectResponse adapt ton data >>");let e=r.address;e="ton:"+r.network+":"+e;let n={ton_addr:r};i&&(n.ton_proof=i),f={name:"requestAccounts",accounts:[{namespace:"ton",addresses:[e],methods:["ton_sendTransaction"],extra:{},data:n}]}}return(0,t.logDebug)("buildRequestAccountNameSpacesByConnectResponse end universalResponse>>>",JSON.stringify(f)),f.accounts.forEach((e=>{var f=[],r=[];e.addresses.forEach((e=>{var n=e.split(":");if((0,t.logDebug)("buildRequestAccountNameSpacesByConnectResponse addressArr>>",n.length),n.length>=3){let i=n.slice(0,2).join(":");f.push(i),r.push(e),(0,t.logDebug)("buildRequestAccountNameSpacesByConnectResponse chain:>>",i,"addressItem:",e)}})),e.data&&e.data.ton_addr&&(e.data.ton_addr.name="ton_addr"),e.data&&e.data.ton_proof&&(e.data.ton_proof.name="ton_proof"),n[e.namespace]={chains:f,accounts:r,methods:e.methods,extra:e.extra,payload:e.data},(0,t.logDebug)("buildRequestAccountNameSpacesByConnectResponse result>>",JSON.stringify(n))})),n}})),ua=b((e=>{var t=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Engine=void 0;var n=bn(),f=un(),r=Xi(),i=Gi(),a=Gi(),o=la(),s=zi();e.Engine=class{constructor(e){this.pendingRequests=new Map,this.disconnectListener=[],this.connectionManager=e,this.connectionManager.addListener("sdk_response",((e,t)=>{var r=(0,n.safeJsonParse)(t);(0,f.logDebug)(`Engine ==>> addListener ==> success ==> ${r}`),this.handleResponse(e,r)}),(function(){}))}addDisconnectListener(e){this.disconnectListener.push(e)}disconnect(){(0,f.logDebug)("Engine ==>> disconnect"),this.pendingRequests.clear()}getRequestId(){let e=Date.now().toString();return(0,f.logDebug)("Engine ==>> getRequestId ==>",e),e}bindRequestForPromise(e,t){this.pendingRequests.set(e,t)}send(e,r,i){return t(this,void 0,void 0,(function*(){(0,f.logDebug)("Engine ==>> send  request==>",JSON.stringify(e));let t=this.getRequestId();try{let i=yield this.connectionManager.send(JSON.stringify(Object.assign(Object.assign({},e),{requestId:t})));this.connectionManager.events.once(i.toString(),(e=>{var t;(0,f.logDebug)(`Engine ==> send => onAck => ${(0,n.safeJsonStringify)(e)}`),e&&e.result&&(null===(t=r.onAck)||void 0===t||t.call(r))})),r.resolve&&this.bindRequestForPromise(t,r.resolve)}catch(i){return Promise.reject(i)}}))}sendSession(e){return t(this,void 0,void 0,(function*(){(0,f.logDebug)("[Connect] sendSession called:",e);let t=this.getRequestId(),n={method:"session_info",params:{sessionInfo:e}};yield this.connectionManager.sendRaw(JSON.stringify(Object.assign(Object.assign({},n),{requestId:t})))}))}handleResponse(e,t){if((0,f.logDebug)(`Engine ==>> handleResponse_1  ======>response: ${(0,n.safeJsonStringify)(t)}`,e),"requestId"in t){(0,f.logDebug)("Engine ==>> handleResponse_2  ===> in response");let e=t.requestId,n=this.pendingRequests.get(e);n?((0,f.logDebug)("Engine ==>> handleResponse_3  ===> find resolve:",n),n(t),this.pendingRequests.delete(e)):((0,f.logDebug)("Engine ==>> handleResponse_3  ===> not find resolve:"),"disconnect"===t.method&&(this.disconnectListener.forEach((e=>e())),this.disconnectListener=[],this.disconnect()))}}restoreconnect(e,n){return t(this,void 0,void 0,(function*(){var t;yield null===(t=this.connectionManager)||void 0===t?void 0:t.restoreConnect(e.topic),n(e)}))}conect(e,n,o){return t(this,void 0,void 0,(function*(){var t,s;let c=this.connectionManager.getConnectInfo(),d=this.getRequestId(),l=null!==(t=n.openUniversalUrl)&&void 0!==t&&t,u={protocolVer:Number(r.tonConnectSdkVersion),topic:c.channelId,clientId:c.clientId,requestId:d,dAppInfo:n.dappInfo,requests:e},b=JSON.stringify(u),h=(new TextEncoder).encode(b),p=btoa(String.fromCharCode(...h)),g=`${r.standardDeeplink}?param=${p}`;(0,f.logDebug)("engine ==>> connect ==>>deeplinkUrl:",g);let y=(0,a.isIos)();(0,f.logDebug)(`engine ==>> connect ==>>isIOS: ${y}   openUniversalLink: ${l}`),y&&l&&((0,f.logDebug)("bridge-provider ==>> connect_3"),(0,i.openOKXDeeplinkWithFallback)(g)),yield null===(s=this.connectionManager)||void 0===s?void 0:s.disconnect(!1),this.bindRequestForPromise(d,(e=>{let t=this.onConnect(e,n,c.channelId);o(t,e)}));try{yield this.connectionManager.connect()}catch(m){throw(0,f.logDebug)("Engine conect error",m),m}return!y&&l&&((0,f.logDebug)("bridge-provider ==>> connect_4"),(0,i.openOKXDeeplinkWithFallback)(g)),{connectInfo:c,deeplinkUrl:(0,i.getUniversalLink)(g)}}))}onConnect(e,t,n){if("connect"==e.method){let f=(0,o.buildNameSpacesByConnectResponse)(e);if(f)return{topic:n,sessionConfig:t,namespaces:f}}return null}universalConnect(e,n,c){return t(this,void 0,void 0,(function*(){return new Promise(((d,l)=>t(this,void 0,void 0,(function*(){var t,u,b,h,p;try{(0,f.logDebug)("engine universalConnect request :",JSON.stringify(e)),(0,f.logDebug)("engine universalConnect sessionConfig :",JSON.stringify(n));let v=[],x=[];e.forEach((e=>{let t=e.name;t.startsWith("requestAccounts")?x.push(e):t.startsWith("ton")&&v.push(e)})),(0,f.logDebug)("engine universalConnect tonRequest :",JSON.stringify(v)),(0,f.logDebug)("engine universalConnect universalRequest :",JSON.stringify(x));let w=this.connectionManager.getConnectInfo(),_=this.getRequestId(),C=null!==(t=n.openUniversalUrl)&&void 0!==t&&t,O={protocolVer:Number(r.tonConnectSdkVersion),topic:w.channelId,clientId:w.clientId,requestId:_,dAppInfo:n.dappInfo,requests:x},E=(0,s.encodeConnectParams)(O);O.redirect=null!==(u=n?.redirect)&&void 0!==u?u:"none";let S={protocolVer:Number(r.tonConnectSdkVersion),topic:w.channelId,clientId:w.clientId,requestId:_,dAppInfo:n.dappInfo,requests:v,redirect:null!==(b=n?.redirect)&&void 0!==b?b:"none"},T=!1;v.length>0&&(T=!0);let N=T?S:O;(0,f.logDebug)("engine universalConnect ==>>defaultConnectRequest:",T,JSON.stringify(N));var g="";if(C){if(n.useMini){var y=(0,i.encodeTWAConnectURLParams)(N);g=(0,s.getTelegramWalletTWAUrl)(y,null!==(h=n.tmaReturnUrl)&&void 0!==h?h:"back")}else{let e=(0,s.encodeConnectParams)(N);g=`${r.standardDeeplink}?param=${e}`}(0,f.logDebug)("engine universalConnect ==>>deeplinkUrl:",g)}let k=()=>n.useMini?(0,s.openOKXTMAWalletlinkWithFallback)(g):(0,i.openOKXDeeplinkWithFallback)(g);(0,f.logDebug)("engine universalConnect ==>>deeplinkUrl:",g);let R=(0,a.isIos)();R&&C&&((0,f.logDebug)(`engine universalConnect ==>>isIOS: ${R}   openUniversalLink: ${C}`),k()),yield null===(p=this.connectionManager)||void 0===p?void 0:p.disconnect(!1),this.bindRequestForPromise(_,(e=>{var t,i;try{let a=e;if("connect"==a.method){(0,f.logDebug)("engin  universalConnect success connectResponse:>>>",JSON.stringify(a));let e=(0,o.buildNameSpacesByConnectResponse)(a);if(!e)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR);{let r={topic:w.channelId,sessionConfig:n,namespaces:e,wallet:Object.assign({},null===(t=a.payload)||void 0===t?void 0:t.wallet)};(0,f.logDebug)("engin  universalConnect success session:>>>",JSON.stringify(r)),d(r)}}else if("connect_error"==a.method&&null!==(i=a.payload)&&void 0!==i&&i.code)throw new r.OKXConnectError(a.payload.code)}catch(a){l(a)}}));try{yield this.connectionManager.connect()}catch(m){throw(0,f.logDebug)("Engine universalConnect error",m),m}if(!R&&C&&k(),(0,f.logDebug)("engin  universalConnect ==>> connectInfoAndUrl:",c),this.sendSession(E),c){let e={connectRequest:O,redirect:n.redirect,tmaReturnUrl:n.tmaReturnUrl};T&&(e.tonConnectRequest=S),(0,f.logDebug)("universalConnect connectInfoAndUrl info :",JSON.stringify(e)),c(e)}}catch(v){(0,f.logDebug)("Engine universalConnect catch error",v),l(v)}}))))}))}}})),ba=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Storage=e.Engine=e.WalletConnectionManager=e.ConnectionManager=e.OKXWalletConnector=void 0;var t=Yi();Object.defineProperty(e,"OKXWalletConnector",{enumerable:!0,get:function(){return t.OKXWalletConnector}});var n=sa();Object.defineProperty(e,"ConnectionManager",{enumerable:!0,get:function(){return n.ConnectionManager}});var f=da();Object.defineProperty(e,"WalletConnectionManager",{enumerable:!0,get:function(){return f.WalletConnectionManager}});var r=ua();Object.defineProperty(e,"Engine",{enumerable:!0,get:function(){return r.Engine}});var i=Vi();Object.defineProperty(e,"Storage",{enumerable:!0,get:function(){return i.Storage}})})),ha=b((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,f){void 0===f&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){void 0===f&&(f=n),e[f]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var f in e)"default"!==f&&!Object.prototype.hasOwnProperty.call(n,f)&&t(n,e,f)};Object.defineProperty(e,"__esModule",{value:!0}),n(ba(),e),n(Xi(),e),n(Gi(),e)})),pa=b((e=>{var t=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcProvider=void 0;var n=Ui(),f=x(),r=ha(),i=ha(),a=class extends f.IJSONRpcProvider{constructor(e){super(e),this.events=new n.EventEmitter,this.connected=!1,this.connecting=!1,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}connect(){return t(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;return function*(){yield e.open(t)}()}))}disconnect(){return t(this,void 0,void 0,(function*(){yield this.close()}))}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}request(e,n){return t(this,void 0,void 0,(function*(){return this.requestStrict((0,r.formatJsonRpcRequest)(e.method,e.params||[],(0,r.getBigIntRpcId)().toString()),n)}))}requestStrict(e,n){return t(this,void 0,void 0,(function*(){return new Promise(((f,a)=>t(this,void 0,void 0,(function*(){if(!this.connection.connected)try{yield this.open()}catch(t){a(t)}this.events.on(`${e.id}`,(e=>{(0,r.isJsonRpcError)(e)?a(e.error):f(e.result)}));try{(0,i.logDebug)("[RPC] >>> send request",e,n),yield this.connection.send(e,n)}catch(t){a(t)}}))))}))}setConnection(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection}onPayload(e){this.events.emit("payload",e),(0,r.isJsonRpcResponse)(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}open(){return t(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;return function*(){e.connection===t&&e.connection.connected||(e.connection.connected&&e.close(),"string"==typeof t&&(yield e.connection.open(t),t=e.connection),e.connection=e.setConnection(t),yield e.connection.open(),e.registerEventListeners(),e.events.emit("connect"))}()}))}close(){return t(this,void 0,void 0,(function*(){yield this.connection.close()}))}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(e=>this.onPayload(e))),this.connection.on("close",(e=>this.onClose(e))),this.connection.on("error",(e=>this.events.emit("error",e))),this.connection.on("register_error",(e=>this.onClose())),this.hasRegisteredEventListeners=!0)}};e.JsonRpcProvider=a})),ga=b(((e,t)=>{var n,f=typeof self<"u"?self:e,r=function(){function e(){this.fetch=!1,this.DOMException=f.DOMException}return e.prototype=f,new e}();n=r,function(e){var t="URLSearchParams"in n,f="Symbol"in n&&"iterator"in Symbol,r="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),i="FormData"in n,a="ArrayBuffer"in n;if(a)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return f&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function b(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function p(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&r&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=b(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?b(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e=b(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),f=0;f<t.length;f++)n[f]=String.fromCharCode(t[f]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=c(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},u.prototype.delete=function(e){delete this.map[c(e)]},u.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},u.prototype.set=function(e,t){this.map[c(e)]=d(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},u.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},u.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},f&&(u.prototype[Symbol.iterator]=u.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!n&&null!=e._bodyInit&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new u(t.headers)),this.method=function(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function x(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),f=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(f),decodeURIComponent(r))}})),t}function w(e){var t=new u;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),f=n.shift().trim();if(f){var r=n.join(":").trim();t.append(f,r)}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var C=[301,302,303,307,308];_.redirect=function(e,t){if(-1===C.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},e.DOMException=n.DOMException;try{new e.DOMException}catch{e.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function O(t,n){return new Promise((function(f,i){var a=new v(t,n);if(a.signal&&a.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function s(){o.abort()}o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:w(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;f(new _(t,e))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},o.open(a.method,a.url,!0),"include"===a.credentials?o.withCredentials=!0:"omit"===a.credentials&&(o.withCredentials=!1),"responseType"in o&&r&&(o.responseType="blob"),a.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",s),o.onreadystatechange=function(){4===o.readyState&&a.signal.removeEventListener("abort",s)}),o.send(typeof a._bodyInit>"u"?null:a._bodyInit)}))}O.polyfill=!0,n.fetch||(n.fetch=O,n.Headers=u,n.Request=v,n.Response=_),e.Headers=u,e.Request=v,e.Response=_,e.fetch=O,Object.defineProperty(e,"__esModule",{value:!0})}({}),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})),ya=b((e=>{var t=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))},n=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcConnection=void 0;var f=Ui(),r=n(ga()),i=ha(),a=ha(),o={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};e.JsonRpcConnection=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.url=e,this.disableProviderPing=t,this.events=new f.EventEmitter,this.isAvailable=!1,this.registering=!1,!(0,a.isHttpUrl)(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}open(){return t(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;return function*(){yield e.register(t)}()}))}close(){return t(this,void 0,void 0,(function*(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}))}send(e){return t(this,void 0,void 0,(function*(){this.isAvailable||(yield this.register());try{let t=(0,i.safeJsonStringify)(e),n=yield(yield(0,r.default)(this.url,Object.assign(Object.assign({},o),{body:t}))).json();this.onPayload({data:n})}catch(t){this.onError(e.id,t)}}))}register(){return t(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;return function*(){if(!(0,a.isHttpUrl)(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(e.registering)return new Promise(((t,n)=>{e.events.once("register_error",(e=>{n(e)})),e.events.once("open",(()=>{if(typeof e.isAvailable>"u")return n(new Error("HTTP connection is missing or invalid"));t()}))}));e.url=t,e.registering=!0;try{if(!e.disableProviderPing){let e=(0,i.safeJsonStringify)({id:1,jsonrpc:"2.0",method:"test",params:[]});yield(0,r.default)(t,Object.assign(Object.assign({},o),{body:e}))}e.onOpen()}catch(n){let t=e.parseError(n);throw e.events.emit("register_error",t),e.onClose(),t}}()}))}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;let t="string"==typeof e.data?(0,i.safeJsonParse)(e.data):e.data;this.events.emit("payload",t)}onError(e,t){let n=this.parseError(t),f=n.message||n.toString(),r=(0,a.formatJsonRpcError)(e,f);this.events.emit("payload",r)}parseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return(0,a.parseConnectionError)(e,t,"HTTP")}}})),ma=b((e=>{var t=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.Eip155Provider=void 0;var n=C(),f=S(),r=ha(),i=pa(),a=ya(),o=class{constructor(e,t,n){this.name="eip155",this.namespace=e.namespace,this.events=n,this.client=t,this.chainId=parseInt(this.getDefaultChain()),this.httpProviders=this.createHttpProviders(),(0,r.logDebug)("eip155 constructor --opts.namespace--\x3e",e.namespace)}isRecord(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}isArray(e){return"object"==typeof e&&null!==e&&Array.isArray(e)}updateRequestParams(e){let t=e.params&&"object"==typeof e.params&&!Array.isArray(e.params);if("wallet_switchEthereumChain"===e.method){let n=e.chainId.split(":")[1],f=parseInt(n,10);if(isNaN(f))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid decimal number,  chainId: '${n}' `);if(e.params){if(!t)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params error ,  method: '${e.method}' `);{let t=e.params;"chainId"in t||(t.chainId="0x"+f.toString(16),e.params=t)}}else e.params={chainId:"0x"+f.toString(16)}}else if("personal_sign"===e.method||"eth_signTypedData_v4"===e.method||"eth_sendTransaction"===e.method||"wallet_watchAsset"===e.method){if(!e.params)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params is nil, method: '${e.method}'`);if(!this.isRecord(e.params))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid request params type, method: '${e.method}'`);{let t=e.params;if((0,r.logDebug)("eip155 updateRequestParams params>",JSON.stringify(t)),"chainId"in t){let n,f=e.chainId.split(":")[1],i=parseInt(f,10),a=String(t.chainId);if(a.startsWith(this.name)&&e.chainId===a)n=i;else if(a.startsWith("0x"))n=parseInt(a,16);else{if(isNaN(Number(a)))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Invalid params.chainId format, method: '${e.method}'`);n=parseInt(a,10)}if(i!==n)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Request params.chainId not equal chain,  method: '${e.method}' `)}}}}adaptArray(e){if("wallet_switchEthereumChain"===e.method||"wallet_addEthereumChain"===e.method||"wallet_watchAsset"===e.method||"eth_sendTransaction"===e.method){if(this.isArray(e.params)){let t=e.params;if(t){if(1!==t.length)throw t.length>1?new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${e.method}' `):new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);{let t=e.params[0];this.isRecord(t)&&(e.params=t)}}}}else if("eth_signTypedData_v4"===e.method){if(this.isArray(e.params)){let t=e.params;if(t&&t.length>2)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params only Support one data,  method: '${e.method}' `);if(t&&0===t.length)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);let n={};if(t&&2===t.length){let t=e.params[0];if(!t||"string"!=typeof t)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error , not string,  method: '${e.method}' `);{let f=!1;if(this.namespace.accounts.forEach((e=>{e.split(":")[2].toLowerCase()===t.toLowerCase()&&(f=!0)})),(0,r.logDebug)("eip155 adaptArray eth_signTypedData_v4 >>>isEqual: ",f),!f)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error, not equal,  method: '${e.method}' `);if(!this.isRecord(e.params[1]))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${e.method}' `);n=e.params[1]}}else if(t&&1===t.length){if(!this.isRecord(e.params[0]))throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params message data error,  method: '${e.method}' `);n=e.params[0]}try{let t=JSON.stringify(n);e.params={typedDataJson:t}}catch{throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params call JSON.stringify() failed,  method: '${e.method}' `)}}}else if("personal_sign"===e.method&&this.isArray(e.params)){if(e.params&&e.params.length>2)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params error,  method: '${e.method}' `);if(e.params&&0===e.params.length)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is nil,  method: '${e.method}' `);let t=e.params[0],n=e.params[1];if(n&&"string"==typeof n){let t=!1;if(this.namespace.accounts.forEach((e=>{e.split(":")[2].toLowerCase()===n.toLowerCase()&&(t=!0)})),(0,r.logDebug)("eip155 adaptArray personal_sign >>>isEqual: ",t),!t)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params address error,  method: '${e.method}' `)}if(!t||"string"!=typeof t)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`Request params is error,  method: '${e.method}' `);e.params={message:t}}}showRequestModal(e){switch(e.method){case"eth_requestAccounts":case"eth_accounts":case"eth_chainId":default:return!1;case"eth_sendTransaction":case"eth_signTransaction":case"eth_sign":case"personal_sign":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"eth_signTypedData_v4":return!0;case"wallet_switchEthereumChain":{this.adaptArray(e),this.updateRequestParams(e);let{parsedChainId:t,hexChainId:n}=this.getHexChainIdFromRequest(e);return!this.isChainApproved(t)}}return!1}request(e){return t(this,void 0,void 0,(function*(){switch(this.adaptArray(e),(0,r.logDebug)("eip155 request --args--string>",JSON.stringify(e)),this.updateRequestParams(e),(0,r.logDebug)("eip155 request --params--string>",JSON.stringify(e)),e.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_switchEthereumChain":return yield this.handleSwitchChain(e);case"wallet_addEthereumChain":return this.addEthereumChain(e)}if(!this.namespace.methods.includes(e.method))return(0,r.logDebug)("[RPC] request begin"),yield this.getHttpProvider().request(e);try{let t=yield this.client.request(e);if((0,r.logDebug)("eip155 request --response----string>",JSON.stringify(t)),this.isRecord(t)&&"result"in t){let e=t.result;return!e||"string"!=typeof e||"true"!==e&&"false"!==e?t.result:((0,r.logDebug)("eip155 request --wallet_watchAsset>>>>","true"===e),"true"===e)}return t}catch(t){throw(0,r.logDebug)(`eip155 request --response --error--string> e instanceof OKXConnectError ${t instanceof r.OKXConnectError}`,JSON.stringify(t)),t}}))}addEthereumChain(e){return t(this,void 0,void 0,(function*(){let t=yield this.client.request(e);try{if("result"in t){let n=t.result;if(n){let t=n.split(":")[0],r=n.split(":")[1],i=t+":"+r;this.namespace;if(this.namespace.accounts.push(n),this.namespace.chains.push(i),this.isRecord(e.params)&&"rpcUrls"in e.params){let t=e.params.rpcUrls,n=t?t[0]:void 0;n&&(this.namespace.rpcMap?this.namespace.rpcMap[r]=n:this.namespace.rpcMap={[r]:n},this.setHttpProvider(r,n))}this.events.emit(f.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request error`)}catch{throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request  error`)}return null}))}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){if(this.chainId=parseInt(e),!this.httpProviders[e]){let f=t||(0,n.getRpcUrl)(`${this.name}:${e}`,this.namespace);f?this.setHttpProvider(e,f):(0,r.logError)(`No RPC url provided for chainId: ${e}`)}this.events.emit(f.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return(0,r.logDebug)("eip155 getAccounts ",e,this.chainId),e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}getHexChainIdFromRequest(e){let t=e.params,n="0x0";t&&"chainId"in t&&(n=t.chainId),n=n.startsWith("0x")?n:`0x${n}`,(0,r.logDebug)("handleSwitchChain --\x3eargs ",e),(0,r.logDebug)("handleSwitchChain --\x3ehexChainId ",n);let f=parseInt(n,16);return(0,r.logDebug)("handleSwitchChain --\x3eparsedChainId ",f),{parsedChainId:f,hexChainId:n}}handleSwitchChain(e){return t(this,void 0,void 0,(function*(){let{parsedChainId:t,hexChainId:n}=this.getHexChainIdFromRequest(e);if(this.isChainApproved(t))this.setDefaultChain(`${t}`);else{let i=yield this.client.request({method:"wallet_switchEthereumChain",chainId:e.chainId,params:{chainId:n}});try{if("result"in i){let e=i.result;if(e){let n=e.split(":")[0]+":"+e.split(":")[1];this.namespace;this.namespace.accounts.push(e),this.namespace.chains.push(n),(0,r.logDebug)("handleSwitchChain --\x3ewallet_switchEthereumChain ",i),this.setDefaultChain(`${t}`),this.events.emit(f.PROVIDER_EVENTS.UPDATE_NAMESPACES,{eip155:this.namespace})}}else new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request error`)}catch{throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method ${e.method} request  error`)}}return null}))}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}createHttpProvider(e,t){let f=t;if(f)return new i.JsonRpcProvider(new a.JsonRpcConnection(f,(0,n.getGlobal)("disableProviderPing")));(0,r.logError)(`No RPC url provided for chainId: ${e}`)}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let f=(0,n.getChainId)(t),i=(0,n.getRpcUrl)(t,this.namespace);(0,r.logDebug)("get parsed chain and rpc:",f,i);let a=this.createHttpProvider(f,i);a&&(e[f]=a)})),(0,r.logDebug)("get http providermap:",e),e}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if((0,r.logDebug)("[RPC] get http provider:",e,t),typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}};e.Eip155Provider=o,e.default=o})),va=b((e=>{var t=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SuiProvider=void 0;var n=S(),f=ha(),r=C(),i=ya(),a=pa(),o=class{constructor(e,t,n){this.name=f.NameSpaceKeySui,this.namespace=e.namespace,this.events=n,this.client=t,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}request(e){return t(this,void 0,void 0,(function*(){return(0,f.logDebug)("sui request --args--string>",JSON.stringify(e)),(0,f.logDebug)("sui provider namespace: ",this.namespace),this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)}))}requestAccounts(){return this.getAccounts()}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(n.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let n=(0,r.getChainId)(t),f=(0,r.getRpcUrl)(t,this.namespace),i=this.createHttpProvider(n,f);i&&(e[n]=i)})),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if((0,f.logDebug)("[RPC] get http provider:",e,t),typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&((0,f.logDebug)("setHttpProvider",e,t),this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t;if(n)return new a.JsonRpcProvider(new i.JsonRpcConnection(n,(0,r.getGlobal)("disableProviderPing")));(0,f.logError)(`No RPC url provided for chainId: ${e}`)}getPubkey(e){return this.getWalletAddress(e)}getWalletAddress(e){return e||(e=this.namespace.defaultChain,e?.startsWith("sui")||(e=`sui:${e}`)),this.namespace.accounts.filter((function(t){return t.split(":").length>2&&t.startsWith(e)})).map((function(e){return e.split(":")[2]}))[0]}showRequestModal(e){switch(e.method){case"sui_signMessage":case"sui_signPersonalMessage":case"sui_signTransactionBlock":case"sui_signAndExecuteTransactionBlock":return!0;default:return!1}return!1}};e.SuiProvider=o,e.default=o})),xa=b((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getAccountsChains=function(e){let t=[];return e.forEach((e=>{let[n,f]=e.split(":");t.push(`${n}:${f}`)})),t},e.nameSpaceToConnectWalletNameSpace=function(e){var n=[];return e&&Object.keys(e).forEach((f=>{(f===t.NameSpaceKeyEip155||f===t.NameSpaceKeySOL||f===t.NameSpaceKeySui||f===t.NameSpaceKeyAptos||f==t.NameSpaceKeyBtc||f===t.NameSpaceKeyTON||f===t.NameSpaceKeyCosmos)&&e[f].chains&&n.push({namespace:f,chains:e[f].chains,params:e[f].params})})),n},e.fillParamsToSession=function(e,t,n,f){let r=(e,t)=>{Object.assign(e,t)},i=(e,t)=>{for(let n in t)t.hasOwnProperty(n)&&t[n].rpcMap&&(t[n].rpcMap&&(e[n].rpcMap||(e[n].rpcMap={}),r(e[n].rpcMap,t[n].rpcMap)),t[n].defaultChain&&void 0===e[n].defaultChain&&e[n].chains.some((e=>e.split(":")[1]===t[n].defaultChain))&&(e[n].defaultChain=t[n].defaultChain))};t&&i(e.namespaces,t),n&&i(e.namespaces,n),e.sessionConfig=f},e.isCaipNamespace=n,e.parseNamespaceKey=function(e){return n(e)?e.split(":")[0]:e};var t=ha();function n(e){return e.includes(":")}})),wa=b((e=>{var t=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SignClient=void 0;var n=ha(),f=xa(),i=class extends n.ISignClient{constructor(e,i){super(e),this.connect=e=>t(this,void 0,void 0,(function*(){return new Promise(((t,r)=>{var i=[];(0,n.logDebug)("client connect params >>>",JSON.stringify(e));var a={name:"requestAccounts",requiredNamespaces:(0,f.nameSpaceToConnectWalletNameSpace)(e.namespaces),optionalNamespaces:(0,f.nameSpaceToConnectWalletNameSpace)(e.optionalNamespaces)};(0,n.logDebug)("client connect connectRequest >>>",JSON.stringify(i)),i.push(a),this.engine.universalConnect(i,Object.assign({dappInfo:this.metadata},e.sessionConfig),(e=>{if(e&&e.connectRequest){var t=(0,n.encodeConnectParams)(e.connectRequest);this.events.emit("display_uri",(0,n.getUniversalLink)((0,n.getAppWalletDeepLink)(t))),(0,n.logDebug)(`universalConect EngineConnectInfo  ${JSON.stringify(e)}`),this.events.emit("okx_engine_connect_params",e)}})).then((r=>{(0,f.fillParamsToSession)(r,e.namespaces,e.optionalNamespaces,this.sessionConfig),(0,n.logDebug)(`signClient: connect: session ${JSON.stringify(r)}`),t(r)})).catch((e=>{(0,n.logDebug)(`signClient: connect: catch ${JSON.stringify(e)}`),this.events.emit("connect_error",e),r(e)}))}))})),this.restoreconnect=e=>t(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{this.engine.restoreconnect(e,(e=>{t(e)}))}))})),this.reject=e=>t(this,void 0,void 0,(function*(){})),this.request=e=>t(this,void 0,void 0,(function*(){return new Promise(((f,r)=>t(this,void 0,void 0,(function*(){var t,i;(0,n.logDebug)("clint request --params>>>> >",this.engine.connectionManager.getCurrentConnectionReady(),null===(t=this.sessionConfig)||void 0===t?void 0:t.openUniversalUrl,JSON.stringify(e));try{!(null===(i=this.sessionConfig)||void 0===i)&&i.openUniversalUrl&&(0,n.isIos)()&&this.openOKXWallet(),yield this.engine.send(e,{resolve:e=>{if(delete e.requestId,(0,n.logDebug)("clint request --response >",JSON.stringify(e)),"error"in e&&e.error){let t=e.error;r(new n.OKXConnectError(e.error.code,e.method+":"+t.message))}else f(e)},onAck:()=>{var e;!(0,n.isIos)()&&null!==(e=this.sessionConfig)&&void 0!==e&&e.openUniversalUrl&&this.openOKXWallet()}})}catch(a){r(a)}}))))})),this.disconnect=()=>t(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{this.engine.send({method:"disconnect"},{onAck:()=>{e()}}).catch((e=>{r.log(`disconnect : ${JSON.stringify(e)}`),t(e)}))}))})),this.engine=new n.Engine(new n.ConnectionManager(e.name)),this.events=i,this.metadata=e}openOKXWallet(){var e;if((0,n.logDebug)("bridge-provider ==>> connect_5"),null!==(e=this.sessionConfig)&&void 0!==e&&e.useMini){let e=(0,n.getTelegramWalletTWAUrl)(void 0,this.sessionConfig.tmaReturnUrl);(0,n.openOKXTMAWalletlinkWithFallback)(e)}else(0,n.openOKXDeeplink)(n.standardDeeplink)}};e.SignClient=i})),_a=b((e=>{var t=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SolanaProvider=void 0;var n=S(),f=ha(),r=C(),i=ya(),a=pa(),o=class{constructor(e,t,n,f){this.name="solana",this.namespace=e.namespace,this.events=f,this.client=n,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return t(this,void 0,void 0,(function*(){if((0,f.logDebug)("solana request --args--string>",JSON.stringify(e)),(0,f.logDebug)("solana provider namespace: ",this.namespace),this.namespace.methods.includes(e.method))return this.client.request(e);throw new f.OKXConnectError(f.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(n.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let n=(0,r.getChainId)(t),f=(0,r.getRpcUrl)(t,this.namespace),i=this.createHttpProvider(n,f);i&&(e[n]=i)})),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t;if(n)return new a.JsonRpcProvider(new i.JsonRpcConnection(n,(0,r.getGlobal)("disableProviderPing")))}getPubkey(e){return this.getWalletAddress(e)}getWalletAddress(e){return e||(e=this.namespace.defaultChain,e?.startsWith("solana")||(e=`solana:${e}`)),this.namespace.accounts.filter((function(t){return t.split(":").length>2&&t.startsWith(e)})).map((function(e){return e.split(":")[2]}))[0]}showRequestModal(e){return!0}};e.SolanaProvider=o,e.default=o})),Ca=b((e=>{var t=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});var n=S(),f=ha(),r=C(),i=ya(),a=pa();e.default=class{constructor(e,t,n,r){this.name=f.NameSpaceKeyBtc,this.namespace=e.namespace,this.events=r,this.client=n,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return t(this,void 0,void 0,(function*(){return(0,f.logDebug)("btc request --args--string>",JSON.stringify(e)),(0,f.logDebug)("btc provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(e.method)?this.client.request(e):this.getHttpProvider().request(e)}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(n.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let n=(0,r.getChainId)(t),f=(0,r.getRpcUrl)(t,this.namespace),i=this.createHttpProvider(n,f);i&&(e[n]=i)})),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t;if(n)return new a.JsonRpcProvider(new i.JsonRpcConnection(n,(0,r.getGlobal)("disableProviderPing")));(0,f.logError)(`No RPC url provided for chainId: ${e}`)}showRequestModal(e){return!0}}})),Oa=b((e=>{var t=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});var n=S(),f=ha(),r=C(),i=ya(),a=pa();e.default=class{constructor(e,t,n,f){this.name="aptos",this.namespace=e.namespace,this.events=f,this.client=n,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders(),this.name=t}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return t(this,void 0,void 0,(function*(){if((0,f.logDebug)("solana request --args--string>",JSON.stringify(e)),(0,f.logDebug)("solana provider namespace: ",this.namespace),this.namespace.methods.includes(e.method))return this.client.request(e);throw new f.OKXConnectError(f.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(n.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let n=(0,r.getChainId)(t),f=(0,r.getRpcUrl)(t,this.namespace),i=this.createHttpProvider(n,f);i&&(e[n]=i)})),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t;if(n)return new a.JsonRpcProvider(new i.JsonRpcConnection(n,(0,r.getGlobal)("disableProviderPing")))}showRequestModal(e){return!0}}})),Ea=b((e=>{var t=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))},n=e&&e.__rest||function(e,t){var n={};for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&t.indexOf(f)<0&&(n[f]=e[f]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(f=Object.getOwnPropertySymbols(e);r<f.length;r++)t.indexOf(f[r])<0&&Object.prototype.propertyIsEnumerable.call(e,f[r])&&(n[f[r]]=e[f[r]])}return n};Object.defineProperty(e,"__esModule",{value:!0});var f=S(),r=ha(),i=C(),a=ya(),o=pa();e.default=class{constructor(e,t,n){this.name=r.NameSpaceKeyTON,this.namespace=e.namespace,this.events=n,this.client=t,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}isRecord(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}request(e){return t(this,void 0,void 0,(function*(){var t,f,i,a;if((0,r.logDebug)("TONProvider request --args--string>",JSON.stringify(e)),(0,r.logDebug)("TONProvider request provider namespace: ",this.namespace),this.namespace.methods.includes(e.method)){if(!e.params)throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params is nil");if(this.isRecord(e.params)){let o=e.params,{validUntil:s}=o,c=n(o,["validUntil"]),d=null===(f=null===(t=this.namespace.payload)||void 0===t?void 0:t.ton_addr)||void 0===f?void 0:f.address;"from"in c&&(d=c.from||(null===(a=null===(i=this.namespace.payload)||void 0===i?void 0:i.ton_addr)||void 0===a?void 0:a.address)),e.params.from=d,e.params.network=this.getDefaultChain(),e.params.valid_until=s;let l=yield this.client.request(e);if(this.isRecord(l)&&"result"in l){let e={boc:l.result.toString()};return(0,r.logDebug)("TONProvider request provider response: ",JSON.stringify(l)),(0,r.logDebug)("TONProvider request provider result: ",JSON.stringify(e)),e}throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton_send request response is nil")}throw new r.OKXConnectError(r.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"ton request params type add nil")}return this.getHttpProvider().request(e)}))}requestAccounts(){return this.getAccounts()}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(f.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){var e,t;let n=this.namespace.accounts;if((0,r.logDebug)("ton getAccounts accounts :",n),(0,r.logDebug)("ton getAccounts .namespace :",JSON.stringify(this.namespace)),!n)return[];let f=null===(t=null===(e=this.namespace.payload)||void 0===e?void 0:e.ton_addr)||void 0===t?void 0:t.address;return(0,r.logDebug)("ton getAccounts address :",f),f?[f]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let n=(0,i.getChainId)(t),f=(0,i.getRpcUrl)(t,this.namespace),r=this.createHttpProvider(n,f);r&&(e[n]=r)})),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if((0,r.logDebug)("[RPC] get http provider:",e,t),typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&((0,r.logDebug)("setHttpProvider",e,t),this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t;if(n)return new o.JsonRpcProvider(new a.JsonRpcConnection(n,(0,i.getGlobal)("disableProviderPing")));(0,r.logError)(`No RPC url provided for chainId: ${e}`)}showRequestModal(e){return"ton_sendTransaction"===e.method}}})),Sa=b((e=>{var t=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});var n=S(),f=ha(),r=C(),i=ya(),a=pa();e.default=class{constructor(e,t,n){this.name=f.NameSpaceKeyCosmos,this.namespace=e.namespace,this.events=n,this.client=t,this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return t(this,void 0,void 0,(function*(){if((0,f.logDebug)("cosmos request --args--string>",JSON.stringify(e)),(0,f.logDebug)("cosmos provider namespace: ",JSON.stringify(this.namespace)),this.namespace.methods.includes(e.method))return this.client.request(e);throw new f.OKXConnectError(f.OKX_CONNECT_ERROR_CODES.METHOD_NOT_SUPPORTED,"Please upgrade OKX APP")}))}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(n.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter((e=>e.split(":")[1]===this.chainId.toString())).map((e=>e.split(":")[2])))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach((t=>{let n=(0,r.getChainId)(t),f=(0,r.getRpcUrl)(t,this.namespace),i=this.createHttpProvider(n,f);i&&(e[n]=i)})),e}getHttpProvider(){let e=`${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let n=this.createHttpProvider(e,t);n&&(this.httpProviders[e]=n)}createHttpProvider(e,t){let n=t;if(n)return new a.JsonRpcProvider(new i.JsonRpcConnection(n,(0,r.getGlobal)("disableProviderPing")))}showRequestModal(e){return!0}}})),Ta=b((e=>{var t=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))},n=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.OKXUniversalProvider=void 0;var f=ma(),r=va(),i=S(),a=n(Ui()),o=wa(),s=ha(),c=xa(),d=n(_a()),l=n(Ca()),u=n(Oa()),b=n(Ea()),h=n(Sa()),p=class e{static init(n){return t(this,void 0,void 0,(function*(){let t;return(0,s.logDebug)("OKXUniversalProvider init() called"),window&&window.okxConnectUniversalinwindow&&window.okxConnectUniversalinwindow instanceof e?((0,s.logDebug)("OKXUniversalConnect init() old called"),t=window.okxConnectUniversalinwindow):((0,s.logDebug)("OKXUniversalConnect init() new called"),t=new e(n),yield t.initialize(),window&&(window.okxConnectUniversalinwindow=t)),t}))}constructor(e){this.rpcProviders={},this.events=new a.default,this.providerOpts=e}request(e,n){return t(this,void 0,void 0,(function*(){if((0,s.logDebug)("OKXUniversalProvider request() called"),!this.connected())throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);let{namespace:t,requestParam:f}=this.buildRequestParamFromRequest(e,n);return yield this.getProvider(t).request(f)}))}buildRequestParamFromRequest(e,t){(0,s.logDebug)("UniversalProvider request args >>>: ",t,JSON.stringify(e));let[n,f]=this.validateChain(t);if(!this.session)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Please call connect() before request()");let r=Object.keys(this.session.namespaces);if(!t&&r&&r.length>1)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,"Multiple chains have been linked, the request method requires chain");return(0,s.logDebug)("UniversalProvider request >>args>>>: ",e),{namespace:n,requestParam:Object.assign(Object.assign({},e),{chainId:`${n}:${f}`})}}enable(){return t(this,void 0,void 0,(function*(){if(!this.client)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.session){if(!this.connectOpts)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");yield this.connect(this.connectOpts)}return yield this.requestAccounts()}))}disconnect(){return t(this,void 0,void 0,(function*(){if((0,s.logDebug)("OKXUniversalProvider disconnect() called"),!this.session)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR);return new Promise((e=>t(this,void 0,void 0,(function*(){let n=!1,f=()=>t(this,void 0,void 0,(function*(){n||(n=!0,yield this.disconnectAndEmit(),yield this.cleanup(),e(),(0,s.logDebug)("UniversalProvider disconnect Disconnected"))}));try{yield this.client.disconnect(),yield f()}catch{yield f()}}))))}))}disconnectAndEmit(){var e,t;this.client.engine.connectionManager.disconnect(),this.events.emit("disconnect",{topic:null===(e=this.session)||void 0===e?void 0:e.topic}),this.events.emit("session_delete",{topic:null===(t=this.session)||void 0===t?void 0:t.topic})}aptosChainNameToGeneralId(e){return"aptos:mainnet"==e?"aptos:637":"movement:testnet"==e?"aptos:70000060":e}replaceAptos(e){var t,n;let f=null===(t=e.namespaces)||void 0===t?void 0:t.aptos;if(null!=f){let t=this.replaceAptosInner(f);null!=e.namespaces&&"aptos"in e.namespaces&&null!=t&&(e.namespaces.aptos=t)}let r=null===(n=e.optionalNamespaces)||void 0===n?void 0:n.aptos;if(null!=r){let t=this.replaceAptosInner(r);null!=e.optionalNamespaces&&"aptos"in e.optionalNamespaces&&null!=t&&(e.optionalNamespaces.aptos=t)}return e}replaceAptosInner(e){var t;return null!=e&&(e.chains=null===(t=e.chains)||void 0===t?void 0:t.map((e=>this.aptosChainNameToGeneralId(e))),null!=e.defaultChain&&(e.defaultChain=this.aptosChainNameToGeneralId(e.defaultChain))),e}connected(){(0,s.logDebug)("OKXUniversalProvider connected() called");let e=()=>{try{this.cleanup(),this.client.engine.connectionManager.disconnect()}catch(e){(0,s.logDebug)("Error during disconnect:",e)}};try{return!!this.session&&(!!this.client.engine.connectionManager.getCurrentConnectionReady()||(e(),!1))}catch{return e(),!1}}connect(e){return t(this,void 0,void 0,(function*(){if((0,s.logDebug)("OKXUniversalProvider connect() called"),!this.client)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(e=this.replaceAptos(e),this.connected())return this.session;(0,s.logDebug)("OKXUniversalProvider connect >>>>",JSON.stringify(e)),void 0===e.sessionConfig&&(e.sessionConfig={}),void 0===e.sessionConfig.openUniversalUrl&&(e.sessionConfig.openUniversalUrl=(0,s.isMobileUserAgent)()),this.setNamespaces(e);try{(0,s.logDebug)(`UniversalProvider connect opts.stringify ====> ${JSON.stringify(e)}`);let t=yield this.client.connect(e);return(0,s.logDebug)(`UniversalProvider connect success ====> ${JSON.stringify(t)}`),t?(this.session=t,this.onConnect(),t):void 0}catch(t){throw(0,s.logDebug)("UniversalProvider connect error ====> ",JSON.stringify(t)),t}}))}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}setDefaultChain(e,t){(0,s.logDebug)("OKXUniversalProvider setDefaultChain() called"),e=this.aptosChainNameToGeneralId(e);try{if(!this.connected())return;let[n,f]=this.validateChain(e);this.getProvider(n).setDefaultChain(f,t)}catch(n){if(!/Please call connect/.test(n.message))throw n}}checkStorage(){return t(this,void 0,void 0,(function*(){let e=yield this.getFromStore("connectSession");if((0,s.logDebug)(e),e){let t=e;this.session=t,this.client.session=this.session,this.sessionConfig=t.sessionConfig,this.client.sessionConfig=this.sessionConfig,(0,s.logDebug)("[evm u-provider] do reconnection",this.session),yield this.client.restoreconnect(t),this.createProviders(),this.registerEventListeners(),setTimeout((()=>{this.events.emit("reconnect",{session:this.session})}),100)}}))}initialize(){return t(this,void 0,void 0,(function*(){(0,s.logDebug)("OKXUniversalProvider initialize() called");let e=Object.assign({url:window.location.hostname,origin:window.location.origin},this.providerOpts.dappMetaData);this.client=new o.SignClient(e,this.events),yield this.checkStorage()}))}createProviders(){if(!this.client)throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client not initialized");if(!this.connected())throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Session not initialized. Please call connect() before enable()");[...new Set(Object.keys(this.session.namespaces).map((e=>(0,c.parseNamespaceKey)(e))))].forEach((e=>{if(!this.session)return;let t=this.session.namespaces[e];switch((0,s.logDebug)("init eip155 >> ",t),e){case"eip155":let n={namespace:t};this.rpcProviders[e]=new f.Eip155Provider(n,this.client,this.events);break;case"solana":let i={namespace:t},a=new d.default(i,"solana",this.client,this.events);this.rpcProviders[e]=a;let o=new d.default(i,"sonic",this.client,this.events);this.rpcProviders.sonic=o;let s=new d.default(i,"svm",this.client,this.events);this.rpcProviders.svm=s;break;case"ton":let c={namespace:t},p=new b.default(c,this.client,this.events);this.rpcProviders[e]=p;break;case"sui":let g={namespace:t},y=new r.SuiProvider(g,this.client,this.events);y.name="sui",this.rpcProviders[e]=y;break;case"btc":let m={namespace:t},v=new l.default(m,"btc",this.client,this.events);this.rpcProviders.btc=v;let x=new l.default(m,"fractal",this.client,this.events);this.rpcProviders.fractal=x;break;case"aptos":let w=new u.default({namespace:t},"aptos",this.client,this.events);this.rpcProviders[e]=w;break;case"cosmos":let _=new h.default({namespace:t},this.client,this.events);this.rpcProviders[e]=_}}))}registerEventListeners(){if(typeof this.client>"u")throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"Sign Client is not initialized");this.client.engine.addDisconnectListener((()=>{this.disconnectAndEmit(),this.cleanup()})),this.on(i.PROVIDER_EVENTS.DEFAULT_CHAIN_CHANGED,(e=>{this.onChainChanged(e)})),this.on(i.PROVIDER_EVENTS.UPDATE_NAMESPACES,(e=>{if(e){let t=Object.keys(e)[0];this.session&&(this.session.namespaces[t]=e[t],this.session&&(this.persist("connectSession",this.session),this.events.emit("session_update",this.session)),(0,s.logDebug)("PROVIDER_EVENTS.UPDATE_NAMESPACES this.session... ->>>",JSON.stringify(this.session)))}}))}getProvider(e){return(0,s.logDebug)("current get providers",this.rpcProviders),(0,s.logDebug)("query namespace: ",e),this.rpcProviders[e]}setNamespaces(e){this.connectOpts=e;let{namespaces:t,sessionConfig:n}=e,f={origin:window.location.origin,url:window.location.hostname,name:this.providerOpts.dappMetaData.name,icon:this.providerOpts.dappMetaData.icon};this.sessionConfig=Object.assign({dappInfo:f},n),(0,s.logDebug)("setNamespaces sessionConfig>>>",this.sessionConfig),this.client.sessionConfig=this.sessionConfig,this.persist("sessionConfig",n)}validateChain(e){var t;let[n,f]=e?.split(":")||["",""];if(!this.session||!this.session.namespaces||!Object.keys(this.session.namespaces).length)return(0,s.logDebug)("get name & chain",n,f),[n,f];if(n){if(!this.isChainNamespaceInSession(n))throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(f&&e){(0,s.logDebug)("this.session.namespaces --\x3e> ",n,JSON.stringify(this.session.namespaces));let f=null===(t=this.session.namespaces[n])||void 0===t?void 0:t.chains;if((0,s.logDebug)("get chainsArr & chain",JSON.stringify(f),e),f&&!f.includes(e))throw new s.OKXConnectError(s.OKX_CONNECT_ERROR_CODES.NOT_CONNECTED_ERROR,`Namespace not include the chain '${e}'`)}}if(n&&f)return(0,s.logDebug)("get name & chain",n,f),[n,f];let r=(0,c.parseNamespaceKey)(Object.keys(this.session.namespaces)[0]),i=this.rpcProviders[r].getDefaultChain();return(0,s.logDebug)("get default chain:",i),[r,i]}isChainNamespaceInSession(e){var t,n;if(Object.keys((null===(t=this.session)||void 0===t?void 0:t.namespaces)||{}).map((e=>(0,c.parseNamespaceKey)(e))).includes(e))return!0;let f=!1;return Object.values((null===(n=this.session)||void 0===n?void 0:n.namespaces)||{}).forEach((t=>{t.chains.forEach((t=>{t.split(":")[0]==e&&(f=!0)}))})),f}requestAccountsWithNamespace(e){return this.getProvider(e).requestAccounts()}requestDefaultChainWithNamespace(e){return this.getProvider(e).getDefaultChain()}requestAccounts(){return t(this,void 0,void 0,(function*(){let[e]=this.validateChain();return yield this.getProvider(e).requestAccounts()}))}onChainChanged(e){var t;if(null===(t=this.session)||void 0===t||!t.namespaces)return;let[n,f]=this.validateChain(e);f&&(this.session.namespaces[n]&&(this.session.namespaces[n].defaultChain=f,this.persist("connectSession",this.session)),this.events.emit("chainChanged",f))}onConnect(){this.createProviders(),this.session&&this.persist("connectSession",this.session),this.events.emit("connect",{session:this.session}),this.registerEventListeners()}cleanup(){return t(this,void 0,void 0,(function*(){this.session=void 0,this.sessionProperties=void 0,this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),this.persist("connectSession",void 0)}))}persist(e,t){return(0,s.logDebug)("[evm u-provider] persisit data",e,t),this.client.engine.connectionManager.saveSessionContent(e,t)}getFromStore(e){return t(this,void 0,void 0,(function*(){return this.client.engine.connectionManager.getSessionContent(e)}))}showRequestModal(e,t){try{let{namespace:n,requestParam:f}=this.buildRequestParamFromRequest(e,t);return this.getProvider(n).showRequestModal(f)}catch{return!1}}};e.OKXUniversalProvider=p,e.default=p})),Na=b((e=>{var t=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.OKXBtcProvider=void 0;var n=Ra(),f=class{constructor(e){this.caip=["btc:mainnet","fractal:mainnet"],this.provider=e}getAddressForChainId(e){var t,f;if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let r=null===(f=null===(t=this.provider.session)||void 0===t?void 0:t.namespaces.btc)||void 0===f?void 0:f.accounts.filter((function(t){return t.startsWith(e)}));if(null==r||r.length<0)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"no connected account");return r[0].split(":")[2]}getAccount(e){var t,f,r;let i=this.checkChainId(e);if(null==i)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let a=null===(r=null===(f=null===(t=this.provider.session)||void 0===t?void 0:t.namespaces[i])||void 0===f?void 0:f.extra)||void 0===r?void 0:r[e],o="";return null!=a&&(o=a.publicKey),{address:this.getAddressForChainId(e),publicKey:o}}signMessage(e,f,r){return t(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if("undefined"===f)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signMessage parmas error");let t={signStr:f,from:this.getAddressForChainId(e)};r&&(t.type=r);try{let n=yield this.provider.request({method:"btc_signMessage",params:t},e);return"result"in n?n.result:n.error}catch{throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}}))}sendBitcoin(e,f,r,i){return t(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");let t={from:this.getAddressForChainId(e),to:f,value:(r/1e8).toString()};i?.feeRate&&(t.satBytes=i.feeRate.toString());let a=yield this.send(e,t);return void 0!==a&&"txhash"in a?a.txhash:a}))}send(e,f){return t(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(!this.checkParameters(f,"to","value"))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method send parmas  error");f.from=this.getAddressForChainId(e);try{let t=yield this.provider.request({method:"btc_send",params:f},e);return"result"in t?{txhash:t.result}:t.error}catch(t){throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${t}`)}}))}signPsbt(e,n,f){return t(this,void 0,void 0,(function*(){return new Promise(((t,r)=>{this.signPsbts(e,[n],[f]).then((e=>{let n=JSON.parse(e);t(n[0])})).catch((e=>{r(e)}))}))}))}signPsbts(e,f,r){return t(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(void 0===f)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let t={psbtHexs:f,options:r};t.from=this.getAddressForChainId(e);try{let n=yield this.provider.request({method:"btc_signPsbts",params:t},e);return"result"in n?n.result:n.error}catch(i){throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${i}`)}}))}signAndPushPsbt(e,f,r){return t(this,void 0,void 0,(function*(){if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if(void 0===f)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signPsbts params error");let t={psbtHex:f,options:r};t.from=this.getAddressForChainId(e);try{let n=yield this.provider.request({method:"btc_signAndPushPsbt",params:t},e);return"result"in n?JSON.parse(n.result):n.error}catch(i){throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,`the method send request error: ${i}`)}}))}sendInscription(e,f,r,i){return t(this,void 0,void 0,(function*(){let t={address:f,inscriptionId:r,options:i};if(null==this.checkChainId(e))throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"invalid chainId");if("undefined"===f)throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method sendInscription params error");var a=0;i&&"feeRate"in i&&(a=i.feeRate);let o=this.getAddressForChainId(e);var s=7;if("undefined"!==r){let e="-Atomicals",t="-Ordinals";r?.toLowerCase().endsWith(e.toLowerCase())?(s=8,r=this.removeSuffix(r,e)):r?.toLowerCase().endsWith(t.toLowerCase())&&(r=this.removeSuffix(r,t))}let c={scenario:5,feeRate:a,txType:"20",to:f,batchBean:[{coinAmount:"1",nftId:r,protocolId:s,coinId:"",inscriptionId:"",from:o}],extension:t};try{let t=yield this.provider.request({method:"btc_sendInscription",params:c},e);return"result"in t?t.result:t.error}catch{throw new n.OKXConnectError(n.OKX_CONNECT_ERROR_CODES.UNKNOWN_ERROR,"the method signTransaction request error")}}))}removeSuffix(e,t){return e.endsWith(t)?e.slice(0,e.length-t.length):e}checkParameters(e){for(var t=[],n=arguments.length,f=new Array(n>1?n-1:0),i=1;i<n;i++)f[i-1]=arguments[i];return f.forEach((n=>{`${n}`in e||t.push(n)})),!(t.length>0)||(r.log("not find key: ",t.join(",")),!1)}checkChainId(e){if(this.caip.includes(e)){let[t,n]=e.split(":");return t}}};e.OKXBtcProvider=f,e.default=f})),ka=b((e=>{var t=e&&e.__awaiter||function(e,t,n,f){return new(n||(n=Promise))((function(r,i){function a(e){try{s(f.next(e))}catch(t){i(t)}}function o(e){try{s(f.throw(e))}catch(t){i(t)}}function s(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,o)}s((f=f.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.OKXCosmosProvider=void 0;var n=ha();e.OKXCosmosProvider=class{constructor(e){this.provider=e}getAccount(e){var t,f,i,a,o;let s=null===(f=null===(t=this.provider.session)||void 0===t?void 0:t.namespaces[n.NameSpaceKeyCosmos])||void 0===f?void 0:f.accounts.filter((function(t){return t.startsWith(e)}))[0];if(!s)return;let c=s.split(":"),d=s.split(":")[2],l=null===(o=null===(a=null===(i=this.provider.session)||void 0===i?void 0:i.namespaces[n.NameSpaceKeyCosmos])||void 0===a?void 0:a.extra)||void 0===o?void 0:o[`${c[0]}:${c[1]}`],u="";return null!=l&&(u=l.publicKey,r.log("aptos_publicKey",u)),d?{algo:"secp256k1",address:d,bech32Address:d,pubKey:this.hexToUint8Array(u)}:void 0}signArbitrary(e,n,f){return t(this,void 0,void 0,(function*(){let t=window.btoa(f),r={chain_id:"",account_number:"0",sequence:"0",fee:{gas:"0",amount:[]},msgs:[{type:"sign/MsgSignData",value:{signer:n,data:t}}],memo:""},i={chainId:e,method:"cosmos_signArbitrary",params:{signer:n,chain_id:e.split(":")[1],data:r}};try{let t=yield this.provider.request(i,e);return"result"in t?"string"==typeof t.result?JSON.parse(t.result):t.result:t.error}catch(Fr){return Fr}}))}signAmino(e,n,f,i){return t(this,void 0,void 0,(function*(){if("sign/MsgSignData"==f.msgs[0].type){let r={chainId:e,method:"cosmos_signArbitrary",params:{signer:n,chain_id:e.split(":")[1],data:f}};try{let t=yield this.provider.request(r,e);return"result"in t?t.result:t.error}catch(t){return t}}else{let a={chainId:e,method:"cosmos_signAmino",params:{signer:n,chainId:e.split(":")[1],sign_doc:f,signOptions:i}};try{let t=yield this.provider.request(a,e);if("result"in t){let e=JSON.parse(t.result);return r.log("signdoc",f,e.signDoc),f.fee=e.signDoc.fee,{signed:f,signature:e.signature}}return t.error}catch(t){return t}}}))}signDirect(e,n,f,i){return t(this,void 0,void 0,(function*(){let t={bodyBytes:this.bufferToHex(f.bodyBytes),authInfoBytes:this.bufferToHex(f.authInfoBytes),chainId:f.chainId,accountNumber:f.accountNumber?f.accountNumber.toString():null,signOptions:i||null},a={chainId:e,method:"cosmos_signDirect",params:{signer:n,chainId:e.split(":")[1],sign_doc:t}};try{let t=yield this.provider.request(a,e);if("result"in t){let e=JSON.parse(t.result);return r.log("signdirect result",e),f.authInfoBytes=this.messageToBuffer(e.signDoc.authInfoBytes),{signed:f,signature:e.signature}}}catch(Fr){return Fr}}))}messageToBuffer(e){var t=Uint8Array.from([]);try{t="string"==typeof e?this.hexToUint8Array(e.replace("0x","")):Uint8Array.from(e)}catch(n){r.log(`messageToBuffer error: ${n}`)}return t}bufferToHex(e){return"0x"+[...new Uint8Array(e)].map((e=>e.toString(16).padStart(2,"0"))).join("")}hexToUint8Array(e){if(e.length%2!==0)throw"Invalid hexString";for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var f=parseInt(e.substr(n,2),16);if(isNaN(f))throw"Invalid hexString";t[n/2]=f}return t}}})),Ra=b((e=>{var t=e&&e.__createBinding||(Object.create?function(e,t,n,f){void 0===f&&(f=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,f,r)}:function(e,t,n,f){void 0===f&&(f=n),e[f]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var f in e)"default"!==f&&!Object.prototype.hasOwnProperty.call(n,f)&&t(n,e,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.OKXConnectError=e.OKX_CONNECT_ERROR_CODES=e.NameSpaceKeyBtc=e.NameSpaceKeySui=e.OKXCosmosProvider=e.OKXBtcProvider=e.OKXUniversalProvider=void 0,n(x(),e);var f=Ta();Object.defineProperty(e,"OKXUniversalProvider",{enumerable:!0,get:function(){return f.OKXUniversalProvider}});var r=Na();Object.defineProperty(e,"OKXBtcProvider",{enumerable:!0,get:function(){return r.OKXBtcProvider}});var i=ka();Object.defineProperty(e,"OKXCosmosProvider",{enumerable:!0,get:function(){return i.OKXCosmosProvider}});var a=ha();Object.defineProperty(e,"NameSpaceKeySui",{enumerable:!0,get:function(){return a.NameSpaceKeySui}}),Object.defineProperty(e,"NameSpaceKeyBtc",{enumerable:!0,get:function(){return a.NameSpaceKeyBtc}}),Object.defineProperty(e,"OKX_CONNECT_ERROR_CODES",{enumerable:!0,get:function(){return a.OKX_CONNECT_ERROR_CODES}}),Object.defineProperty(e,"OKXConnectError",{enumerable:!0,get:function(){return a.OKXConnectError}})})),Aa=g(Ra()),Pa=class e{static instance=null;level;constructor(){this.level=2}static getInstance(){return e.instance||(e.instance=new e),e.instance}static setLevel(t){e.getInstance().level=t}log(e,t,n){if(e>=this.level){let o=t?`[${t}] ${n}`:n;for(var f=arguments.length,i=new Array(f>3?f-3:0),a=3;a<f;a++)i[a-3]=arguments[a];switch(e){case 0:case 1:r.info(o,...i);break;case 2:r.warn(o,...i);break;case 3:r.error(o,...i)}}}createScopedLogger(e){var t=this;return{debug:function(n){for(var f=arguments.length,r=new Array(f>1?f-1:0),i=1;i<f;i++)r[i-1]=arguments[i];return t.log(0,e,n,...r)},info:function(n){for(var f=arguments.length,r=new Array(f>1?f-1:0),i=1;i<f;i++)r[i-1]=arguments[i];return t.log(1,e,n,...r)},warn:function(n){for(var f=arguments.length,r=new Array(f>1?f-1:0),i=1;i<f;i++)r[i-1]=arguments[i];return t.log(2,e,n,...r)},error:function(n){for(var f=arguments.length,r=new Array(f>1?f-1:0),i=1;i<f;i++)r[i-1]=arguments[i];return t.log(3,e,n,...r)}}}debug(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),f=1;f<t;f++)n[f-1]=arguments[f];this.log(0,void 0,e,...n)}info(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),f=1;f<t;f++)n[f-1]=arguments[f];this.log(1,void 0,e,...n)}warn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),f=1;f<t;f++)n[f-1]=arguments[f];this.log(2,void 0,e,...n)}error(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),f=1;f<t;f++)n[f-1]=arguments[f];this.log(3,void 0,e,...n)}},Da=(Pa.getInstance(),(Fr=Da||{}).CONNECT="connect",Fr.DISPLAY_URI="display_uri",Fr.SESSION_UPDATE="session_update",Fr.SESSION_DELETE="session_delete",Fr.DEFAULT_CHAIN_CHANGED="default_chain_changed",Fr.OKX_ENGINE_CONNECT_PARAMS="okx_engine_connect_params",Fr.UPDATE_NAMESPACES="update_name_spaces",Fr),Ia=class e{static provider;static initialized=!1;isClientReady=!1;client;session;logger;constructor(){this.logger=this.initializeLogger()}static init(){return this.initialized||(this.provider=new e,e.initialized=!0),this.provider}async setupClient(){this.logger.info("setupClient: ",this.client,this.isClientReady),!this.isClientReady&&(this.client=await Aa.OKXUniversalProvider.init({dappMetaData:{name:"OKX WalletConnect UI Demo",icon:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png"}}),this.isClientReady=!0,this.logger.info("setupClient - completed: ",this.client))}getClient(){return this.logger.info("getClient: ",this.client),this.client}isConnected(){return this.logger.info("isConnected: ",this.client?.connected()),this.client?.connected()}getDefaultChainId(){if(this.logger.info("getDefaultChainId: ",this.session),!this.session)return;let e;return Object.keys(this.session?.namespaces).forEach((t=>{this.logger.debug("namespace - key",t,this.session?.namespaces[t]),this.session?.namespaces[t]?.chains?.length>0&&(e=this.session?.namespaces[t]?.chains[0])})),e}async getUri(){return new Promise(((e,t)=>{if(!this.client)return t("Client not initialized");this.client.on("display_uri",(t=>{this.logger.info("display_uri event triggered",t),e(t)})),this.client.connect({namespaces:{eip155:{chains:["eip155:1"],rpcMap:{1:"https://rpc.flashbots.net"},defaultChain:"1"}},optionalNamespaces:{eip155:{chains:["eip155:43114"]}},sessionConfig:{useMini:!1,openUniversalUrl:!1,tmaReturnUrl:"back"}})}))}async connectApp(){await this.connect({namespaces:{eip155:{chains:["eip155:1"],rpcMap:{1:"https://rpc.flashbots.net"},defaultChain:"1"}},optionalNamespaces:{eip155:{chains:["eip155:43114"]}},sessionConfig:{useMini:!1,openUniversalUrl:!0,tmaReturnUrl:"back"}})}async connectTG(){await this.connect({namespaces:{eip155:{chains:["eip155:1"],rpcMap:{1:"https://rpc.flashbots.net"},defaultChain:"1"}},optionalNamespaces:{eip155:{chains:["eip155:43114"]}},sessionConfig:{useMini:!0,openUniversalUrl:!0,tmaReturnUrl:"back"}})}async connect(e){if(this.client)return r.log("connect - options",e),await this.client.connect(e)}async request(e){if(this.client)return this.logger.info("request: ",e),this.client.request(e,this.getDefaultChainId())}async disconnect(){this.client&&(this.logger.info("disconnecting: ",this.client),await this.client.disconnect(),this.session=void 0)}subscribe(e){this.client&&Object.keys(Da).forEach((t=>{let n=Da[t];this.client?.on(n,(t=>{"display_uri"!==n&&(this.logger.info(`${n} event triggered`),e&&e(n,t))}))}))}initializeLogger(){let e=Pa.getInstance();return Pa.setLevel(0),e.createScopedLogger(this.constructor.name)}},ja=g(Ui(),1).default,Ka=class extends ja{logger;constructor(){super(),this.logger=this.initializeLogger(),this.logger.debug("Adapter initialized")}static createProxy(){throw new Error("createProxy method not implemented")}getLogger(){return this.logger}initializeLogger(){let e=Pa.getInstance();return Pa.setLevel(0),e.createScopedLogger(this.constructor.name)}},Ua={uuid:"dfc7efd3-2d67-482d-a8d8-d1fbae467cae",name:"OKX Mini Wallet"};var Ma="personal_sign",Ba="eth_signTypedData_v4",La=["eth_blockNumber","eth_call","eth_chainId","eth_coinbase","eth_decrypt","eth_estimateGas","eth_gasPrice","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getEncryptionPublicKey","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleByBlockHashAndIndex","eth_getUncleByBlockNumberAndIndex","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_getWork","eth_hashrate","eth_mining","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_protocolVersion","eth_sendRawTransaction","eth_sendTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4","eth_submitHashrate","eth_submitWork","eth_syncing","eth_uninstallFilter","wallet_getProviderState","metamask_watchAsset","net_listening","net_peerCount","net_version","personal_ecRecover","personal_sign","wallet_watchAsset","web3_clientVersion","web3_sha3","eth_feeHistory"];var $a,Ha,Wa,Xa,Fa,qa,Ja=e=>{if(!e?.namespaces)return null;let t=null;return Object.keys(e.namespaces).forEach((n=>{e.namespaces[n]&&e.namespaces[n]?.chains?.length>0&&(t=e?.namespaces[n]?.chains[0])})),t},za=e=>{if(!e?.namespaces)return null;let t=null;return Object.keys(e.namespaces).forEach((n=>{e.namespaces[n]&&e.namespaces[n]?.defaultChain&&(t=e?.namespaces[n]?.defaultChain)})),t},Ga=e=>{if(!e?.namespaces)return null;let t=null;return Object.keys(e.namespaces).forEach((n=>{let f=function(e){let t={};for(let n=0;n<e.length;n++){let f=e[n]?.split(":"),r=f?.[0],i=f?.[1],a=f?.[2],o=`${r}:${i}`;t[o]||(t[o]=[]),a&&t[o].push(a)}return t}(e.namespaces[n]?.accounts??[]),r=Ja(e);f&&r&&f[r]&&f[r]?.length>0&&(t=f[r][0])})),t},Va=e=>{if(!e?.namespaces)return[];let t=[];return Object.keys(e.namespaces).forEach((n=>{e.namespaces[n]&&e.namespaces[n]?.methods?.length>0&&(t=e?.namespaces[n]?.methods)})),t},Ya=e=>{if(!e?.namespaces)return null;let t=null;return Object.keys(e.namespaces).forEach((n=>{e.namespaces[n]&&e.namespaces[n]?.rpcMap?.length>0&&(t=e?.namespaces[n]?.rpcMap[0])})),t},Za=e=>({chainId:Ja(e),defaultChainId:za(e),address:Ga(e),methods:Va(e),rpcUrl:Ya(e)}),Qa=class e extends Ka{static eip6963ProviderInfo;provider;lastSession=null;constructor(t){super(),e.setupEip6963ProviderInfo(Ua),this.provider=t}static setupEip6963ProviderInfo(e){this.eip6963ProviderInfo=e}createProxy(){let e=new Proxy(this,{get:(e,t)=>"__target__"===t?e:Reflect.get(e,t),set:(e,t,n)=>Reflect.set(e,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(e,t)});return this.addEip6963Support(e),e}async request(e){if(!La.includes(e.method))return this.logger.info(`Method ${e.method} not supported`),Promise.reject(`Method ${e.method} not supported`);let{method:t,params:n}=e,f=n?{method:t,params:n}:{method:t};switch(t){case"eth_requestAccounts":return await this.handleRequestAccounts();case Ma:f={method:Ma,params:[n[0],n[1]]};break;case Ba:f={method:Ba,params:[n[0],JSON.parse(n[1])]}}try{let e=await this.provider.request(f);return this.getLogger().debug("Requesting accounts result: ",t,e),Promise.resolve(e)}catch(r){return this.getLogger().error(`Requesting accounts error: ${r.message}`),Promise.reject(r)}}isConnected(){return this.provider.isConnected()}async disconnect(){await this.provider.disconnect(),this.logger.info("disconnect: ",this.lastSession)}providerCallback(e,t){switch(r.log("providerCallback",e,t),e){case"connect":this.sessionUpdateCallback(t.session);break;case"session_update":this.sessionUpdateCallback(t);break;case"session_delete":this.sessionDeleteCallback(t);break;default:this.getLogger().warn(`provider callback not implemented: ${e}`)}}async handleRequestAccounts(){if(!this.provider?.getClient())return Promise.reject("client not setup");try{if(this.logger.debug("handleRequestAccounts: ",this.provider,this.provider.isConnected()),!this.provider.isConnected()){let e=await this.provider.connect({namespaces:{eip155:{chains:["eip155:1"],rpcMap:{1:"https://rpc.flashbots.net"},defaultChain:"1"}},optionalNamespaces:{eip155:{chains:["eip155:43114"]}},sessionConfig:{useMini:!0,openUniversalUrl:!0,tmaReturnUrl:"back"}});this.handleSessionConnected(e)}let e=await this.provider.request({method:"eth_accounts"});return this.getLogger().debug("Requesting accounts result: ",e),Promise.resolve(e)}catch(e){return this.getLogger().error(`Requesting accounts error: ${e.message}`),Promise.reject(e)}}handleSessionConnected(e){if(e){let t=Za(e);this.emit("connect",{chainId:t.chainId}),this.emit("accountsChanged",[t.address]),this.emit("chainChanged",t.defaultChainId),this.lastSession=t}}addEip6963Support(t){let n=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze({info:e.eip6963ProviderInfo,provider:t})});this.logger.debug("announceProviderEvent",n),window.dispatchEvent(n),window.addEventListener("eip6963:requestProvider",(()=>{window.dispatchEvent(n)}))}sessionUpdateCallback(e){let t=Za(e);!this.lastSession&&t&&this.emit("connect",{chainId:t.chainId}),this.lastSession?.chainId!==t.chainId&&this.emit("chainChanged",t.defaultChainId),this.lastSession?.address!==t.address&&this.emit("accountsChanged",[t.address]),this.lastSession=t}sessionDeleteCallback(e){this.lastSession=null;let t={code:4900,message:"Session deleted",data:{topic:e}};this.emit("disconnect",t),this.emit("accountsChanged",[]),this.emit("chainChanged","")}},eo=(e=>(e.ETHEREUM="ethereum",e.SOLANA="solana",e.BITCOIN="bitcoin",e.TON="ton",e.APTOS="aptos",e.SUI="sui",e.COSMOS="cosmos",e))(eo||{}),to=class e{static sdk;static initialized=!1;static options;okxUniversalProvider;providers=(()=>new Map)();adapters={};static supportedNetworks=["ethereum"];logger;constructor(){this.logger=this.initializeLogger(),this.triggerToAdapter=this.triggerToAdapter.bind(this)}static async init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{canInjectProxies:!0};return this.initialized||(this.options=t,this.sdk=new e,this.sdk.initialize(),await this.sdk.setupClient()),this.sdk}async setupClient(){this.okxUniversalProvider?(await this.okxUniversalProvider.setupClient(),await this.okxUniversalProvider.subscribe(this.triggerToAdapter)):this.logger.error("OKX Universal Provider not initialized")}getProxyProviderByNetwork(e){return this.providers.get(e)}async getUri(){if(this.okxUniversalProvider)return this.okxUniversalProvider.isConnected()&&await this.okxUniversalProvider.disconnect(),e.options.canInjectProxies&&this.injectProxyProvider(),await this.okxUniversalProvider.getUri();this.logger.error("OKX Universal Provider not initialized")}async connectApp(){this.okxUniversalProvider?(this.okxUniversalProvider.isConnected()&&await this.okxUniversalProvider.disconnect(),e.options.canInjectProxies&&this.injectProxyProvider(),this.logger.info("Connecting to OKX Mobile App Wallet"),await this.okxUniversalProvider.connectApp()):this.logger.error("OKX Universal Provider not initialized")}async connectTG(){this.okxUniversalProvider?(this.okxUniversalProvider.isConnected()&&await this.okxUniversalProvider.disconnect(),e.options.canInjectProxies&&this.injectProxyProvider(),this.logger.info("Connecting to OKX TG Mini Wallet"),await this.okxUniversalProvider.connectTG()):this.logger.error("OKX Universal Provider not initialized")}async disconnect(){this.okxUniversalProvider?(await this.okxUniversalProvider.disconnect(),this.removeInjectedProxies()):this.logger.error("OKX Connect SDK not initialized")}removeInjectedProxies(){let e=!1;return this.providers.forEach(((t,n)=>{window[n]&&window[n]===t&&(delete window[n],e=!0)})),e}getLogger(){return this.logger}initialize(){this.logger.info("Initializing OKX Connect SDK");try{this.okxUniversalProvider=Ia.init(),this.initAdapters(),this.createProxyProviders(),e.options.canInjectProxies&&this.injectProxyProvider(),e.initialized=!0,this.logger.info("OKX Connect SDK initialized")}catch(t){throw this.logger.error(`Failed to initialize OKX Connect SDK: ${t}`),t}}triggerToAdapter(e,t){this.logger.debug(`Triggering to adapter: ${e}: `,t),Object.keys(this.adapters).forEach((n=>{let f=this.adapters[n];f&&f.providerCallback&&f.providerCallback(e,t)}))}initAdapters(){this.okxUniversalProvider?this.adapters.ethereum=new Qa(this.okxUniversalProvider):this.logger.error("OKX Universal Provider not initialized")}createProxyProviders(){Object.keys(this.adapters).forEach((e=>{this.logger.debug("Creating proxy provider and injecting into window: ",this.adapters);let t=this.adapters[e].createProxy();t&&this.providers.set(e,t.createProxy())}))}injectProxyProvider(){this.providers.forEach(((e,t)=>{if(e){if(window[t])return void this.logger.error(`Provider already exists for network: ${t}`);Object.defineProperty(window,t,{value:e,writable:!1,configurable:!0})}}))}initializeLogger(){let e=Pa.getInstance();return Pa.setLevel(0),e.createScopedLogger("OKXConnectSdk")}},no=Object.getPrototypeOf,fo={isConnected:1},ro={},io=no(fo),ao=no(no),oo=(e,t,n,f)=>(e??(setTimeout(n,f),new Set)).add(t),so=(e,t,n)=>{let f=Wa;Wa=t;try{return e(n)}catch(i){return r.error(i),n}finally{Wa=f}},co=e=>e.filter((e=>e._dom?.isConnected)),lo=e=>Fa=oo(Fa,e,(()=>{for(let e of Fa)e._bindings=co(e._bindings),e._listeners=co(e._listeners);Fa=qa}),1e3),uo={get val(){return Wa?._getters?.add(this),this.rawVal},get oldVal(){return Wa?._getters?.add(this),this._oldVal},set val(e){Wa?._setters?.add(this),e!==this.rawVal&&(this.rawVal=e,this._bindings.length+this._listeners.length?(Ha?.add(this),$a=oo($a,this,xo)):this._oldVal=e)}},bo=e=>({__proto__:uo,rawVal:e,_oldVal:e,_bindings:[],_listeners:[]}),ho=(e,t)=>{let n={_getters:new Set,_setters:new Set},f={f:e},r=Xa;Xa=[];let i=so(e,n,t);i=(i??document).nodeType?i:new Text(i);for(let a of n._getters)n._setters.has(a)||(lo(a),a._bindings.push(f));for(let a of Xa)a._dom=i;return Xa=r,f._dom=i},po=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bo(),n=arguments.length>2?arguments[2]:void 0,f={_getters:new Set,_setters:new Set},r={f:e,s:t};r._dom=n??Xa?.push(r)??fo,t.val=so(e,f,t.rawVal);for(let i of f._getters)f._setters.has(i)||(lo(i),i._listeners.push(r));return t},go=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),f=1;f<t;f++)n[f-1]=arguments[f];for(let r of n.flat(1/0)){let t=no(r??0),n=t===uo?ho((()=>r.val)):t===ao?ho(r):r;n!=qa&&e.append(n)}return e},yo=function(e,t){for(var n=arguments.length,f=new Array(n>2?n-2:0),r=2;r<n;r++)f[r-2]=arguments[r];let[i,...a]=no(f[0]??0)===io?f:[{},...f],o=e?document.createElementNS(e,t):document.createElement(t);for(let[s,c]of Object.entries(i)){let e=t=>t?Object.getOwnPropertyDescriptor(t,s)??e(no(t)):qa,n=t+","+s,f=ro[n]??=e(no(o))?.set??0,r=s.startsWith("on")?(e,t)=>{let n=s.slice(2);o.removeEventListener(n,t),o.addEventListener(n,e)}:f?f.bind(o):o.setAttribute.bind(o,s),i=no(c??0);s.startsWith("on")||i===ao&&(c=po(c),i=uo),i===uo?ho((()=>(r(c.val,c._oldVal),o))):r(c)}return go(o,a)},mo=e=>({get:(t,n)=>yo.bind(qa,e,n)}),vo=(e,t)=>t?t!==e&&e.replaceWith(t):e.remove(),xo=()=>{let e=0,t=[...$a].filter((e=>e.rawVal!==e._oldVal));do{Ha=new Set;for(let e of new Set(t.flatMap((e=>e._listeners=co(e._listeners)))))po(e.f,e.s,e._dom),e._dom=qa}while(++e<100&&(t=[...Ha]).length);let n=[...$a].filter((e=>e.rawVal!==e._oldVal));$a=qa;for(let f of new Set(n.flatMap((e=>e._bindings=co(e._bindings)))))vo(f._dom,ho(f.f,f._dom)),f._dom=qa;for(let f of n)f._oldVal=f.rawVal},wo={tags:new Proxy((e=>new Proxy(yo,mo(e))),mo()),hydrate:(e,t)=>vo(e,ho(t,e)),add:go,state:bo,derive:po},{button:_o,div:Co,header:Oo,input:Eo,label:So,span:To,style:No}=wo.tags,{button:ko,div:Ro,p:Ao,h3:Po}=(Object.getPrototypeOf(wo.state(null)),wo.tags);var Do=null,Io=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{canInjectProxies:!0};return Do=await to.init(e)},jo=async()=>{if(Do)return await Do.getUri();r.error("OKX Connect SDK not initialized")},Ko=()=>{Do?Do.connectApp():r.error("OKX Connect SDK not initialized")},Uo=()=>{Do?Do.connectTG():r.error("OKX Connect SDK not initialized")},Mo=async()=>{Do?await Do.disconnect():r.error("OKX Connect SDK not initialized")},Bo=()=>Do,Lo=e=>{if(Do)return Do.getProxyProviderByNetwork(e);r.error("OKX Connect SDK not initialized")}},70420:()=>{},11714:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=11714,e.exports=t},81798:()=>{},72193:()=>{},39322:()=>{},44507:()=>{},97283:()=>{},99603:()=>{},87679:()=>{},33541:()=>{},76429:()=>{},69887:()=>{},94355:()=>{}},t={};function n(f){var r=t[f];if(void 0!==r)return r.exports;var i=t[f]={id:f,loaded:!1,exports:{}};return e[f].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,n.amdO={},(()=>{var e="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",f="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))};n.a=(n,i,a)=>{var o;a&&((o=[]).d=-1);var s,c,d,l=new Set,u=n.exports,b=new Promise(((e,t)=>{d=t,c=e}));b[t]=u,b[e]=e=>(o&&e(o),l.forEach(e),b.catch((e=>{}))),n.exports=b,i((n=>{var i;s=(n=>n.map((n=>{if(null!==n&&"object"===typeof n){if(n[e])return n;if(n.then){var i=[];i.d=0,n.then((e=>{a[t]=e,r(i)}),(e=>{a[f]=e,r(i)}));var a={};return a[e]=e=>e(i),a}}var o={};return o[e]=e=>{},o[t]=n,o})))(n);var a=()=>s.map((e=>{if(e[f])throw e[f];return e[t]})),c=new Promise((t=>{(i=()=>t(a)).r=0;var n=e=>e!==o&&!l.has(e)&&(l.add(e),e&&!e.d&&(i.r++,e.push(i)));s.map((t=>t[e](n)))}));return i.r?c:a()}),(e=>(e?d(b[f]=e):c(u),r(o)))),o&&o.d<0&&(o.d=0)}})(),(()=>{var e=[];n.O=(t,f,r,i)=>{if(!f){var a=1/0;for(d=0;d<e.length;d++){f=e[d][0],r=e[d][1],i=e[d][2];for(var o=!0,s=0;s<f.length;s++)(!1&i||a>=i)&&Object.keys(n.O).every((e=>n.O[e](f[s])))?f.splice(s--,1):(o=!1,i<a&&(a=i));if(o){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[f,r,i]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(f,r){if(1&r&&(f=this(f)),8&r)return f;if("object"===typeof f&&f){if(4&r&&f.__esModule)return f;if(16&r&&"function"===typeof f.then)return f}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&f;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>f[e]));return a.default=()=>f,n.d(i,a),i}})(),n.d=(e,t)=>{for(var f in t)n.o(t,f)&&!n.o(e,f)&&Object.defineProperty(e,f,{enumerable:!0,get:t[f]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/dapp-demo/",(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,f)=>{var r,i,a=f[0],o=f[1],s=f[2],c=0;if(a.some((t=>0!==e[t]))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(s)var d=s(n)}for(t&&t(f);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},f=self.webpackChunk_repo_dapp_demo=self.webpackChunk_repo_dapp_demo||[];f.forEach(t.bind(null,0)),f.push=t.bind(null,f.push.bind(f))})(),n.nc=void 0;var f=n.O(void 0,[96,738],(()=>n(78438)));f=n.O(f)})();